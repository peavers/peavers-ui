function GetHekiliSettings()
	return {
		["PeaversUI"] = {
			["displays"] = {
				["Interrupts"] = {
					["rel"] = "CENTER",
					["y"] = -222.22216796875,
					["x"] = -512.2215576171875,
				},
				["Cooldowns"] = {
					["rel"] = "CENTER",
					["y"] = -200.5553436279297,
					["x"] = -664.4435424804688,
				},
				["Primary"] = {
					["primaryWidth"] = 32,
					["rel"] = "CENTER",
					["border"] = {
						["enabled"] = false,
					},
					["numIcons"] = 2,
					["queue"] = {
						["width"] = 32,
						["height"] = 32,
					},
					["y"] = -187.7778015136719,
					["x"] = -204.4440155029297,
					["primaryHeight"] = 32,
				},
				["AOE"] = {
					["rel"] = "CENTER",
					["y"] = -46.11138916015625,
					["x"] = -593.3330078125,
				},
				["Defensives"] = {
					["rel"] = "CENTER",
					["y"] = -206.1110229492188,
					["x"] = -596.6659545898438,
				},
			},
			["iconStore"] = {
				["hide"] = true,
			},
			["specs"] = {
				[103] = {
					["settings"] = {
						["rip_duration"] = 9,
						["solo_prowl"] = false,
						["regrowth"] = true,
						["lazy_swipe"] = false,
						["frenzy_cp"] = 2,
						["zerk_biteweave"] = false,
						["vigil_damage"] = 50,
					},
				},
				[261] = {
					["settings"] = {
						["rupture_duration"] = 12,
						["mfd_points"] = 3,
						["solo_vanish"] = true,
						["priority_rotation"] = false,
					},
				},
				[262] = {
					["settings"] = {
						["purge_icd"] = 12,
						["hostile_dispel"] = false,
						["stack_buffer"] = 1.1,
					},
				},
				[263] = {
					["settings"] = {
						["pwave_targets"] = 0,
						["pad_lava_lash"] = true,
						["pad_windstrike"] = true,
						["funnel_priority"] = false,
						["purge_icd"] = 12,
						["hostile_dispel"] = false,
						["pwave_gcds"] = 4,
						["filler_shock"] = true,
					},
				},
				[104] = {
					["settings"] = {
						["vigil_damage"] = 50,
						["catweave_bear"] = false,
						["maul_anyway"] = true,
						["ironfur_damage_threshold"] = 5,
						["maul_rage"] = 20,
						["max_ironfur"] = 1,
					},
				},
				[253] = {
					["settings"] = {
						["mark_any"] = false,
						["check_pet_range"] = false,
						["barbed_shot_grace_period"] = 0.5,
						["avoid_bw_overlap"] = false,
					},
				},
				[66] = {
					["settings"] = {
						["ds_damage"] = 60,
						["sentinel_def"] = false,
						["goak_damage"] = 40,
						["wog_health"] = 40,
					},
				},
				[254] = {
					["settings"] = {
						["mark_any"] = false,
						["prevent_hardcasts"] = false,
					},
				},
				[70] = {
					["settings"] = {
						["sov_damage"] = 20,
						["check_wake_range"] = false,
					},
				},
				[255] = {
					["settings"] = {
						["allow_focus_overcap"] = false,
						["use_harpoon"] = true,
						["mark_any"] = false,
						["manual_kill_shot"] = false,
					},
				},
				[256] = {
					["settings"] = {
						["sw_death_protection"] = 50,
					},
				},
				[102] = {
					["settings"] = {
						["vigil_damage"] = 50,
						["starlord_cancel"] = false,
					},
				},
				[257] = {
					["settings"] = {
						["sw_death_protection"] = 50,
					},
				},
				[258] = {
					["settings"] = {
						["pad_void_bolt"] = true,
						["sw_death_protection"] = 50,
						["pad_ascended_blast"] = true,
					},
				},
				[259] = {
					["settings"] = {
						["mfd_points"] = 3,
						["envenom_pool_pct"] = 50,
						["dot_threshold"] = 7,
						["priority_rotation"] = false,
						["solo_vanish"] = true,
					},
				},
				[260] = {
					["settings"] = {
						["allow_shadowmeld"] = false,
						["use_ld_opener"] = false,
						["sinister_clash"] = -0.5,
						["solo_vanish"] = true,
						["check_blade_rush_range"] = true,
						["stealth_padding"] = 0.1,
						["never_roll_in_window"] = false,
					},
				},
			},
			["runOnce"] = {
				["forceReloadClassDefaultOptions_20220306_103"] = true,
				["forceReloadClassDefaultOptions_20220306_70"] = true,
				["forceReloadClassDefaultOptions_20220306_65"] = true,
				["forceReloadClassDefaultOptions_20220306_262"] = true,
				["forceReloadClassDefaultOptions_20220306_254"] = true,
				["resetAberrantPackageDates_20190728_1"] = true,
				["forceReloadClassDefaultOptions_20220306_260"] = true,
				["forceReloadClassDefaultOptions_20220306_256"] = true,
				["forceReloadClassDefaultOptions_20220306_255"] = true,
				["forceReloadClassDefaultOptions_20220306_259"] = true,
				["forceReloadAllDefaultPriorities_20220228"] = true,
				["forceEnableAllClassesOnceDueToBug_20220225"] = true,
				["forceReloadClassDefaultOptions_20220306_258"] = true,
				["updateMaxRefreshToNewSpecOptions_20220222"] = true,
				["forceReloadClassDefaultOptions_20220306_253"] = true,
				["forceReloadClassDefaultOptions_20220306_66"] = true,
				["forceReloadClassDefaultOptions_20220306_264"] = true,
				["forceReloadClassDefaultOptions_20220306_257"] = true,
				["forceReloadClassDefaultOptions_20220306_102"] = true,
				["forceReloadClassDefaultOptions_20220306_263"] = true,
				["forceReloadClassDefaultOptions_20220306_261"] = true,
				["fixHavocPriorityVersion_20240805"] = true,
				["forceReloadClassDefaultOptions_20220306_104"] = true,
				["forceReloadClassDefaultOptions_20220306_105"] = true,
				["forceSpellFlashBrightness_20221030"] = true,
			},
			["minimapIcon"] = true,
			["packs"] = {
				["Beast Mastery"] = {
					["source"] = "# https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240805,
					["author"] = "SimC",
					["desc"] =
					"2024-08-01: Respect Hunter's Mark setting\n\n2024-07-27: Add Call of the Wild talent checks; use Counter Shot; use Hunter's Mark\n\n2024-07-23: The War Within",
					["lists"] = {
						["default"] = {
							{
								["action"] = "counter_shot",
								["enabled"] = true,
							},
							{
								["action"] = "tranquilizing_shot",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "trinkets",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( settings.mark_any || target.is_boss ) & active_dot.hunters_mark = 0 & target.time_to_pct_80 > 20",
								["action"] = "hunters_mark",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies < 2 || ! talent.beast_cleave.enabled & active_enemies < 3",
								["list_name"] = "st",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2 || talent.beast_cleave.enabled & active_enemies > 1",
								["list_name"] = "cleave",
							},
						},
						["precombat"] = {
							{
								["action"] = "summon_pet",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"! trinket.t2.has_cooldown || trinket.t1.has_use_buff & ( ! trinket.t2.has_use_buff || ! trinket.t1.is.mirror_of_fractured_tomorrows & ( trinket.t2.is.mirror_of_fractured_tomorrows || trinket.t2.cooldown.duration < trinket.t1.cooldown.duration || trinket.t2.cast_time < trinket.t1.cast_time || trinket.t2.cast_time = trinket.t1.cast_time & trinket.t2.cooldown.duration = trinket.t1.cooldown.duration ) ) || ! trinket.t1.has_use_buff & ( ! trinket.t2.has_use_buff & ( trinket.t2.cooldown.duration < trinket.t1.cooldown.duration || trinket.t2.cast_time < trinket.t1.cast_time || trinket.t2.cast_time = trinket.t1.cast_time & trinket.t2.cooldown.duration = trinket.t1.cooldown.duration ) )",
								["description"] =
								"Determine the stronger trinket to sync with cooldowns. In descending priority: buff effects > damage effects, longer > shorter cooldowns, longer > shorter cast times. Special case to consider Mirror of Fractured Tomorrows weaker than other buff effects since its power is split between the dmg effect and the buff effect.",
								["var_name"] = "trinket_1_stronger",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! variable.trinket_1_stronger",
								["var_name"] = "trinket_2_stronger",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( settings.mark_any || target.is_boss ) & active_dot.hunters_mark = 0 & target.time_to_pct_80 > 20",
								["action"] = "hunters_mark",
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"buff.call_of_the_wild.up || ! talent.call_of_the_wild.enabled & buff.bestial_wrath.up || boss & fight_remains < 13",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.call_of_the_wild.up || ! talent.call_of_the_wild.enabled & buff.bestial_wrath.up || boss & fight_remains < 16",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.call_of_the_wild.up || ! talent.call_of_the_wild.enabled & buff.bestial_wrath.up || boss & fight_remains < 16",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.call_of_the_wild.up || ! talent.call_of_the_wild.enabled & buff.bestial_wrath.up || boss & fight_remains < 9",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.call_of_the_wild.up || ! talent.call_of_the_wild.enabled & buff.bestial_wrath.up || boss & fight_remains < 31",
								["action"] = "potion",
							},
						},
						["trinkets"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"talent.call_of_the_wild.enabled & ( prev_gcd.1.call_of_the_wild ) || ! talent.call_of_the_wild.enabled & ( buff.bestial_wrath.up || cooldown.bestial_wrath.remains_guess < 5 )",
								["description"] =
								"True if effects that are desirable to sync a trinket buff with are ready.",
								["var_name"] = "sync_ready",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"talent.call_of_the_wild.enabled & buff.call_of_the_wild.up || ! talent.call_of_the_wild.enabled & buff.bestial_wrath.up",
								["description"] =
								"True if effecs that are desirable to sync a trinket buff with are active.",
								["var_name"] = "sync_active",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"Time until the effects that are desirable to sync a trinket buff with will be ready.",
								["criteria"] = "! talent.call_of_the_wild.enabled",
								["var_name"] = "sync_remains",
								["action"] = "variable",
								["value_else"] = "cooldown.call_of_the_wild.remains",
								["value"] = "cooldown.bestial_wrath.remains_guess",
							},
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
								["use_off_gcd"] = 1,
								["criteria"] =
								"trinket.t1.has_use_buff & ( variable.sync_ready & ( variable.trinket_1_stronger || trinket.t2.cooldown.remains ) || ! variable.sync_ready & ( variable.trinket_1_stronger & ( variable.sync_remains > trinket.t1.cooldown.duration / 3 & fight_remains > trinket.t1.cooldown.duration + 20 || trinket.t2.has_use_buff & trinket.t2.cooldown.remains > variable.sync_remains - 15 & trinket.t2.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains + 45 > fight_remains ) || variable.trinket_2_stronger & ( trinket.t2.cooldown.remains & ( trinket.t2.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains >= 20 || trinket.t2.cooldown.remains - 5 >= variable.sync_remains & ( variable.sync_remains > trinket.t1.cooldown.duration / 3 || trinket.t1.cooldown.duration < fight_remains & ( variable.sync_remains + trinket.t1.cooldown.duration > fight_remains ) ) ) || trinket.t2.cooldown.ready & variable.sync_remains > 20 & variable.sync_remains < trinket.t2.cooldown.duration / 3 ) ) ) || ! trinket.t1.has_use_buff & ( trinket.t1.cast_time = 0 || ! variable.sync_active ) & ( ! trinket.t2.has_use_buff & ( variable.trinket_1_stronger || trinket.t2.cooldown.remains ) || trinket.t2.has_use_buff & ( ! variable.sync_active & variable.sync_remains > 20 || trinket.t2.cooldown.remains > 20 ) ) || boss & fight_remains < 25 & ( variable.trinket_1_stronger || trinket.t2.cooldown.remains )",
								["description"] =
								"Uses buff effect trinkets with cooldowns and is willing to delay usage up to half the trinket cooldown if it won't lose a usage in the fight. Fills in downtime with weaker buff effects if they won't also be saved for later cooldowns (happens if it won't delay over half the trinket cooldown and a stronger trinket won't be up in time) or damage effects if they won't inferfere with any buff effect usage. Intended to be slot-agnostic so that any order of the same trinket pair should result in the same usage.",
							},
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["slot"] = "trinket2",
								["use_off_gcd"] = 1,
								["criteria"] =
								"trinket.t2.has_use_buff & ( variable.sync_ready & ( variable.trinket_2_stronger || trinket.t1.cooldown.remains ) || ! variable.sync_ready & ( variable.trinket_2_stronger & ( variable.sync_remains > trinket.t2.cooldown.duration / 3 & fight_remains > trinket.t2.cooldown.duration + 20 || trinket.t1.has_use_buff & trinket.t1.cooldown.remains > variable.sync_remains - 15 & trinket.t1.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains + 45 > fight_remains ) || variable.trinket_1_stronger & ( trinket.t1.cooldown.remains & ( trinket.t1.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains >= 20 || trinket.t1.cooldown.remains - 5 >= variable.sync_remains & ( variable.sync_remains > trinket.t2.cooldown.duration / 3 || trinket.t2.cooldown.duration < fight_remains & ( variable.sync_remains + trinket.t2.cooldown.duration > fight_remains ) ) ) || trinket.t1.cooldown.ready & variable.sync_remains > 20 & variable.sync_remains < trinket.t1.cooldown.duration / 3 ) ) ) || ! trinket.t2.has_use_buff & ( trinket.t2.cast_time = 0 || ! variable.sync_active ) & ( ! trinket.t1.has_use_buff & ( variable.trinket_2_stronger || trinket.t1.cooldown.remains ) || trinket.t1.has_use_buff & ( ! variable.sync_active & variable.sync_remains > 20 || trinket.t1.cooldown.remains > 20 ) ) || boss & fight_remains < 25 & ( variable.trinket_2_stronger || trinket.t1.cooldown.remains )",
							},
						},
						["st"] = {
							{
								["enabled"] = true,
								["action"] = "barbed_shot",
								["criteria"] =
								"buff.frenzy.up & buff.frenzy.remains <= gcd.max + 0.25 || buff.frenzy.stack < 3 & ( talent.scent_of_blood.enabled & ( cooldown.bestial_wrath.ready || talent.call_of_the_wild.enabled & cooldown.call_of_the_wild.ready ) || ! cooldown.bestial_wrath.ready )",
								["cycle_targets"] = 1,
							},
							{
								["action"] = "bestial_wrath",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( full_recharge_time < gcd.max & talent.alpha_predator.enabled ) || talent.call_of_the_wild.enabled",
								["action"] = "kill_command",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.huntmasters_call.enabled & ( ! buff.bestial_wrath.up & talent.killer_cobra.enabled || talent.call_of_the_wild.enabled & cooldown.call_of_the_wild.ready )",
								["action"] = "dire_beast",
							},
							{
								["enabled"] = true,
								["action"] = "kill_shot",
								["criteria"] = "talent.venoms_bite.enabled & dot.serpent_sting.refreshable",
								["cycle_targets"] = 1,
							},
							{
								["action"] = "call_of_the_wild",
								["enabled"] = true,
							},
							{
								["action"] = "bloodshed",
								["enabled"] = true,
							},
							{
								["action"] = "kill_command",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "barbed_shot",
								["criteria"] =
								"talent.wild_call.enabled & charges_fractional > 1.4 || buff.call_of_the_wild.up || full_recharge_time < gcd.max & cooldown.bestial_wrath.remains || talent.scent_of_blood.enabled & ( cooldown.bestial_wrath.remains < 12 + gcd.max ) || talent.savagery.enabled || boss & fight_remains < 9",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bestial_wrath.up & talent.killer_cobra.enabled",
								["action"] = "cobra_shot",
							},
							{
								["action"] = "dire_beast",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.bestial_wrath.up & talent.killer_cobra.enabled || ! talent.killer_cobra.enabled",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.hunters_prey.remains < gcd.max * 2 & talent.venoms_bite.enabled || target.health.pct < 20",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bestial_wrath.down || target.time_to_die < 5",
								["action"] = "lights_judgment",
							},
							{
								["action"] = "cobra_shot",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bestial_wrath.down || target.time_to_die < 5",
								["action"] = "bag_of_tricks",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bestial_wrath.down || target.time_to_die < 5",
								["action"] = "arcane_pulse",
							},
							{
								["enabled"] = true,
								["criteria"] = "( focus + focus.regen + 15 ) < focus.max",
								["action"] = "arcane_torrent",
							},
						},
						["cleave"] = {
							{
								["enabled"] = true,
								["action"] = "barbed_shot",
								["criteria"] =
								"buff.frenzy.up & buff.frenzy.remains <= gcd.max + 0.25 || talent.scent_of_blood.enabled & cooldown.bestial_wrath.remains < 12 + gcd.max || buff.frenzy.stack < 3 & ( cooldown.bestial_wrath.ready || talent.call_of_the_wild.enabled & cooldown.call_of_the_wild.ready ) || full_recharge_time < gcd.max & cooldown.bestial_wrath.remains",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.beast_cleave.remains < 0.25 + gcd.max & ( ! talent.bloody_frenzy.enabled || cooldown.call_of_the_wild.remains )",
								["action"] = "multishot",
							},
							{
								["action"] = "bestial_wrath",
								["enabled"] = true,
							},
							{
								["action"] = "call_of_the_wild",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.kill_cleave.enabled",
								["action"] = "kill_command",
							},
							{
								["action"] = "explosive_shot",
								["enabled"] = true,
							},
							{
								["action"] = "bloodshed",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "kill_shot",
								["criteria"] =
								"talent.venoms_bite.enabled & dot.serpent_sting.remains < gcd.max & target.time_to_die > 10",
								["cycle_targets"] = 1,
							},
							{
								["action"] = "dire_beast",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "barbed_shot",
								["criteria"] =
								"buff.call_of_the_wild.up || boss & fight_remains < 9 || talent.wild_call.enabled & charges_fractional > 1.2 || talent.savagery.enabled",
								["cycle_targets"] = 1,
							},
							{
								["action"] = "kill_command",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.beast_cleave.remains < gcd.max * 2",
								["action"] = "multishot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bestial_wrath.down || target.time_to_die < 5",
								["action"] = "lights_judgment",
							},
							{
								["action"] = "kill_shot",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "focus.time_to_max < gcd.max * 2",
								["action"] = "cobra_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bestial_wrath.down || target.time_to_die < 5",
								["action"] = "bag_of_tricks",
							},
							{
								["enabled"] = true,
								["criteria"] = "( focus + focus.regen + 30 ) < focus.max",
								["action"] = "arcane_torrent",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'default' required some automated changes.\nLine 6: Converted 'talent.beast_cleave' to 'talent.beast_cleave.enabled' (1x).\nLine 7: Converted 'talent.beast_cleave' to 'talent.beast_cleave.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 2: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.is.mirror_of_fractured_tomorrows' to 'trinket.t1.is.mirror_of_fractured_tomorrows' (1x).\nLine 2: Converted 'trinket.2.is.mirror_of_fractured_tomorrows' to 'trinket.t2.is.mirror_of_fractured_tomorrows' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\n\nThe import for 'trinkets' required some automated changes.\nLine 1: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 1: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 2: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 2: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 3: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 4: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted operations in 'trinket.t1.has_use_buff&(variable.sync_ready&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||!variable.sync_ready&(variable.trinket_1_stronger&(variable.sync_remains>trinket.t1.cooldown.duration%3&fight_remains>trinket.t1.cooldown.duration+20||trinket.t2.has_use_buff&trinket.t2.cooldown.remains>variable.sync_remains-15&trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_2_stronger&(trinket.t2.cooldown.remains&(trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t2.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t1.cooldown.duration%3||trinket.t1.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t1.cooldown.duration>fight_remains)))||trinket.t2.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t2.cooldown.duration%3)))||!trinket.t1.has_use_buff&(trinket.t1.cast_time=0||!variable.sync_active)&(!trinket.t2.has_use_buff&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||trinket.t2.has_use_buff&(!variable.sync_active&variable.sync_remains>20||trinket.t2.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)' to 'trinket.t1.has_use_buff&(variable.sync_ready&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||!variable.sync_ready&(variable.trinket_1_stronger&(variable.sync_remains>trinket.t1.cooldown.duration/3&fight_remains>trinket.t1.cooldown.duration+20||trinket.t2.has_use_buff&trinket.t2.cooldown.remains>variable.sync_remains-15&trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_2_stronger&(trinket.t2.cooldown.remains&(trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t2.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t1.cooldown.duration/3||trinket.t1.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t1.cooldown.duration>fight_remains)))||trinket.t2.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t2.cooldown.duration/3)))||!trinket.t1.has_use_buff&(trinket.t1.cast_time=0||!variable.sync_active)&(!trinket.t2.has_use_buff&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||trinket.t2.has_use_buff&(!variable.sync_active&variable.sync_remains>20||trinket.t2.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)'.\nLine 5: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 5: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted operations in 'trinket.t2.has_use_buff&(variable.sync_ready&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||!variable.sync_ready&(variable.trinket_2_stronger&(variable.sync_remains>trinket.t2.cooldown.duration%3&fight_remains>trinket.t2.cooldown.duration+20||trinket.t1.has_use_buff&trinket.t1.cooldown.remains>variable.sync_remains-15&trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_1_stronger&(trinket.t1.cooldown.remains&(trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t1.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t2.cooldown.duration%3||trinket.t2.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t2.cooldown.duration>fight_remains)))||trinket.t1.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t1.cooldown.duration%3)))||!trinket.t2.has_use_buff&(trinket.t2.cast_time=0||!variable.sync_active)&(!trinket.t1.has_use_buff&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||trinket.t1.has_use_buff&(!variable.sync_active&variable.sync_remains>20||trinket.t1.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)' to 'trinket.t2.has_use_buff&(variable.sync_ready&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||!variable.sync_ready&(variable.trinket_2_stronger&(variable.sync_remains>trinket.t2.cooldown.duration/3&fight_remains>trinket.t2.cooldown.duration+20||trinket.t1.has_use_buff&trinket.t1.cooldown.remains>variable.sync_remains-15&trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_1_stronger&(trinket.t1.cooldown.remains&(trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t1.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t2.cooldown.duration/3||trinket.t2.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t2.cooldown.duration>fight_remains)))||trinket.t1.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t1.cooldown.duration/3)))||!trinket.t2.has_use_buff&(trinket.t2.cast_time=0||!variable.sync_active)&(!trinket.t1.has_use_buff&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||trinket.t1.has_use_buff&(!variable.sync_active&variable.sync_remains>20||trinket.t1.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)'.\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 2: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 3: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 4: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 5: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 1: Converted 'talent.scent_of_blood' to 'talent.scent_of_blood.enabled' (1x).\nLine 1: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 3: Converted 'talent.alpha_predator' to 'talent.alpha_predator.enabled' (1x).\nLine 3: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 4: Converted 'talent.huntmasters_call' to 'talent.huntmasters_call.enabled' (1x).\nLine 4: Converted 'talent.killer_cobra' to 'talent.killer_cobra.enabled' (1x).\nLine 4: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 5: Converted 'talent.venoms_bite' to 'talent.venoms_bite.enabled' (1x).\nLine 9: Converted 'talent.wild_call' to 'talent.wild_call.enabled' (1x).\nLine 9: Converted 'talent.scent_of_blood' to 'talent.scent_of_blood.enabled' (1x).\nLine 9: Converted 'talent.savagery' to 'talent.savagery.enabled' (1x).\nLine 10: Converted 'talent.killer_cobra' to 'talent.killer_cobra.enabled' (1x).\nLine 12: Converted 'talent.killer_cobra' to 'talent.killer_cobra.enabled' (1x).\nLine 12: Converted 'talent.killer_cobra' to 'talent.killer_cobra.enabled' (1x).\nLine 13: Converted 'talent.venoms_bite' to 'talent.venoms_bite.enabled' (1x).\n\nThe import for 'cleave' required some automated changes.\nLine 1: Converted 'talent.scent_of_blood' to 'talent.scent_of_blood.enabled' (1x).\nLine 1: Converted 'talent.call_of_the_wild' to 'talent.call_of_the_wild.enabled' (1x).\nLine 2: Converted 'talent.bloody_frenzy' to 'talent.bloody_frenzy.enabled' (1x).\nLine 5: Converted 'talent.kill_cleave' to 'talent.kill_cleave.enabled' (1x).\nLine 8: Converted 'talent.venoms_bite' to 'talent.venoms_bite.enabled' (1x).\nLine 10: Converted 'talent.wild_call' to 'talent.wild_call.enabled' (1x).\nLine 10: Converted 'talent.savagery' to 'talent.savagery.enabled' (1x).\n\nImported 6 action lists.\n",
					["spec"] = 253,
					["profile"] =
					"actions.precombat+=/summon_pet\n# Determine the stronger trinket to sync with cooldowns. In descending priority: buff effects > damage effects, longer > shorter cooldowns, longer > shorter cast times. Special case to consider Mirror of Fractured Tomorrows weaker than other buff effects since its power is split between the dmg effect and the buff effect.\nactions.precombat+=/variable,name=trinket_1_stronger,value=!trinket.2.has_cooldown||trinket.1.has_use_buff&(!trinket.2.has_use_buff||!trinket.1.is.mirror_of_fractured_tomorrows&(trinket.2.is.mirror_of_fractured_tomorrows||trinket.2.cooldown.duration<trinket.1.cooldown.duration||trinket.2.cast_time<trinket.1.cast_time||trinket.2.cast_time=trinket.1.cast_time&trinket.2.cooldown.duration=trinket.1.cooldown.duration))||!trinket.1.has_use_buff&(!trinket.2.has_use_buff&(trinket.2.cooldown.duration<trinket.1.cooldown.duration||trinket.2.cast_time<trinket.1.cast_time||trinket.2.cast_time=trinket.1.cast_time&trinket.2.cooldown.duration=trinket.1.cooldown.duration))\nactions.precombat+=/variable,name=trinket_2_stronger,value=!variable.trinket_1_stronger\nactions.precombat+=/hunters_mark,if=(settings.mark_any||target.is_boss)&active_dot.hunters_mark=0&target.time_to_pct_80>20\n\nactions+=/counter_shot\nactions+=/tranquilizing_shot\nactions+=/call_action_list,name=cds\nactions+=/call_action_list,name=trinkets\nactions+=/hunters_mark,if=(settings.mark_any||target.is_boss)&active_dot.hunters_mark=0&target.time_to_pct_80>20\nactions+=/call_action_list,name=st,strict=1,if=active_enemies<2||!talent.beast_cleave&active_enemies<3\nactions+=/call_action_list,name=cleave,strict=1,if=active_enemies>2||talent.beast_cleave&active_enemies>1\n\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.call_of_the_wild.up||!talent.call_of_the_wild&(buff.bestial_wrath.up||cooldown.bestial_wrath.remains<30)||boss&fight_remains<16\nactions.cds+=/berserking,if=buff.call_of_the_wild.up||!talent.call_of_the_wild&buff.bestial_wrath.up||boss&fight_remains<13\nactions.cds+=/blood_fury,if=buff.call_of_the_wild.up||!talent.call_of_the_wild&buff.bestial_wrath.up||boss&fight_remains<16\nactions.cds+=/ancestral_call,if=buff.call_of_the_wild.up||!talent.call_of_the_wild&buff.bestial_wrath.up||boss&fight_remains<16\nactions.cds+=/fireblood,if=buff.call_of_the_wild.up||!talent.call_of_the_wild&buff.bestial_wrath.up||boss&fight_remains<9\nactions.cds+=/potion,if=buff.call_of_the_wild.up||!talent.call_of_the_wild&buff.bestial_wrath.up||boss&fight_remains<31\n\nactions.cleave+=/barbed_shot,cycle_targets=1,if=buff.frenzy.up&buff.frenzy.remains<=gcd+0.25||talent.scent_of_blood&cooldown.bestial_wrath.remains<12+gcd||buff.frenzy.stack<3&(cooldown.bestial_wrath.ready||talent.call_of_the_wild&cooldown.call_of_the_wild.ready)||full_recharge_time<gcd&cooldown.bestial_wrath.remains\nactions.cleave+=/multishot,if=buff.beast_cleave.remains<0.25+gcd&(!talent.bloody_frenzy||cooldown.call_of_the_wild.remains)\nactions.cleave+=/bestial_wrath\nactions.cleave+=/call_of_the_wild\nactions.cleave+=/kill_command,if=talent.kill_cleave\nactions.cleave+=/explosive_shot\nactions.cleave+=/bloodshed\nactions.cleave+=/kill_shot,cycle_targets=1,if=talent.venoms_bite&dot.serpent_sting.remains<gcd&target.time_to_die>10\nactions.cleave+=/dire_beast\nactions.cleave+=/barbed_shot,cycle_targets=1,if=buff.call_of_the_wild.up||boss&fight_remains<9||talent.wild_call&charges_fractional>1.2||talent.savagery\nactions.cleave+=/kill_command\nactions.cleave+=/multishot,if=buff.beast_cleave.remains<gcd*2\nactions.cleave+=/lights_judgment,if=buff.bestial_wrath.down||target.time_to_die<5\nactions.cleave+=/kill_shot\nactions.cleave+=/cobra_shot,if=focus.time_to_max<gcd*2\nactions.cleave+=/bag_of_tricks,if=buff.bestial_wrath.down||target.time_to_die<5\nactions.cleave+=/arcane_torrent,if=(focus+focus.regen+30)<focus.max\n\nactions.st+=/barbed_shot,cycle_targets=1,if=buff.frenzy.up&buff.frenzy.remains<=gcd+0.25||buff.frenzy.stack<3&(talent.scent_of_blood&(cooldown.bestial_wrath.ready||talent.call_of_the_wild&cooldown.call_of_the_wild.ready)||!cooldown.bestial_wrath.ready)\nactions.st+=/bestial_wrath\nactions.st+=/kill_command,if=(full_recharge_time<gcd&talent.alpha_predator)||talent.call_of_the_wild\nactions.st+=/dire_beast,if=talent.huntmasters_call&(!buff.bestial_wrath.up&talent.killer_cobra||talent.call_of_the_wild&cooldown.call_of_the_wild.ready)\nactions.st+=/kill_shot,cycle_targets=1,if=talent.venoms_bite&dot.serpent_sting.refreshable\nactions.st+=/call_of_the_wild\nactions.st+=/bloodshed\nactions.st+=/kill_command\nactions.st+=/barbed_shot,cycle_targets=1,if=talent.wild_call&charges_fractional>1.4||buff.call_of_the_wild.up||full_recharge_time<gcd&cooldown.bestial_wrath.remains||talent.scent_of_blood&(cooldown.bestial_wrath.remains<12+gcd)||talent.savagery||boss&fight_remains<9\nactions.st+=/cobra_shot,if=buff.bestial_wrath.up&talent.killer_cobra\nactions.st+=/dire_beast\nactions.st+=/explosive_shot,if=!buff.bestial_wrath.up&talent.killer_cobra||!talent.killer_cobra\nactions.st+=/kill_shot,if=buff.hunters_prey.remains<gcd*2&talent.venoms_bite||target.health.pct<20\nactions.st+=/lights_judgment,if=buff.bestial_wrath.down||target.time_to_die<5\nactions.st+=/cobra_shot\nactions.st+=/bag_of_tricks,if=buff.bestial_wrath.down||target.time_to_die<5\nactions.st+=/arcane_pulse,if=buff.bestial_wrath.down||target.time_to_die<5\nactions.st+=/arcane_torrent,if=(focus+focus.regen+15)<focus.max\n\n# True if effects that are desirable to sync a trinket buff with are ready.\nactions.trinkets+=/variable,name=sync_ready,value=talent.call_of_the_wild&(prev_gcd.1.call_of_the_wild)||!talent.call_of_the_wild&(buff.bestial_wrath.up||cooldown.bestial_wrath.remains_guess<5)\n# True if effecs that are desirable to sync a trinket buff with are active.\nactions.trinkets+=/variable,name=sync_active,value=talent.call_of_the_wild&buff.call_of_the_wild.up||!talent.call_of_the_wild&buff.bestial_wrath.up\n# Time until the effects that are desirable to sync a trinket buff with will be ready.\nactions.trinkets+=/variable,name=sync_remains,op=setif,value=cooldown.bestial_wrath.remains_guess,value_else=cooldown.call_of_the_wild.remains,condition=!talent.call_of_the_wild\n# Uses buff effect trinkets with cooldowns and is willing to delay usage up to half the trinket cooldown if it won't lose a usage in the fight. Fills in downtime with weaker buff effects if they won't also be saved for later cooldowns (happens if it won't delay over half the trinket cooldown and a stronger trinket won't be up in time) or damage effects if they won't inferfere with any buff effect usage. Intended to be slot-agnostic so that any order of the same trinket pair should result in the same usage.\nactions.trinkets+=/use_item,use_off_gcd=1,slot=trinket1,if=trinket.1.has_use_buff&(variable.sync_ready&(variable.trinket_1_stronger||trinket.2.cooldown.remains)||!variable.sync_ready&(variable.trinket_1_stronger&(variable.sync_remains>trinket.1.cooldown.duration%3&fight_remains>trinket.1.cooldown.duration+20||trinket.2.has_use_buff&trinket.2.cooldown.remains>variable.sync_remains-15&trinket.2.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_2_stronger&(trinket.2.cooldown.remains&(trinket.2.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.2.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.1.cooldown.duration%3||trinket.1.cooldown.duration<fight_remains&(variable.sync_remains+trinket.1.cooldown.duration>fight_remains)))||trinket.2.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.2.cooldown.duration%3)))||!trinket.1.has_use_buff&(trinket.1.cast_time=0||!variable.sync_active)&(!trinket.2.has_use_buff&(variable.trinket_1_stronger||trinket.2.cooldown.remains)||trinket.2.has_use_buff&(!variable.sync_active&variable.sync_remains>20||trinket.2.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_1_stronger||trinket.2.cooldown.remains)\nactions.trinkets+=/use_item,use_off_gcd=1,slot=trinket2,if=trinket.2.has_use_buff&(variable.sync_ready&(variable.trinket_2_stronger||trinket.1.cooldown.remains)||!variable.sync_ready&(variable.trinket_2_stronger&(variable.sync_remains>trinket.2.cooldown.duration%3&fight_remains>trinket.2.cooldown.duration+20||trinket.1.has_use_buff&trinket.1.cooldown.remains>variable.sync_remains-15&trinket.1.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_1_stronger&(trinket.1.cooldown.remains&(trinket.1.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.1.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.2.cooldown.duration%3||trinket.2.cooldown.duration<fight_remains&(variable.sync_remains+trinket.2.cooldown.duration>fight_remains)))||trinket.1.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.1.cooldown.duration%3)))||!trinket.2.has_use_buff&(trinket.2.cast_time=0||!variable.sync_active)&(!trinket.1.has_use_buff&(variable.trinket_2_stronger||trinket.1.cooldown.remains)||trinket.1.has_use_buff&(!variable.sync_active&variable.sync_remains>20||trinket.1.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_2_stronger||trinket.1.cooldown.remains)",
				},
				["Assassination"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240805,
					["author"] = "SimC",
					["desc"] = "2024-07-27: The War Within",
					["lists"] = {
						["stealthed"] = {
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["description"] = "Stealthed Actions",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! debuff.deathstalkers_mark.up & talent.deathstalkers_mark.enabled & ! buff.darkest_night.up",
								["action"] = "ambush",
								["description"] =
								"Apply Deathstalkers Mark if it has fallen off and we have no way to reapply otherwise",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.kingsbane.enabled & ( dot.kingsbane.ticking || cooldown.kingsbane.up ) & ( ! debuff.shiv.up & debuff.shiv.remains < 1 ) & buff.envenom.up",
								["action"] = "shiv",
								["description"] = "Make sure to have Shiv up during Kingsbane as a final check",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"effective_combo_points >= variable.effective_spend_cp & dot.kingsbane.ticking & buff.envenom.remains <= 3",
								["action"] = "envenom",
								["description"] = "Envenom to maintain the buff during Subterfuge",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"effective_combo_points >= variable.effective_spend_cp & buff.master_assassin_aura.up & variable.single_target",
								["action"] = "envenom",
								["description"] = "Envenom during Master Assassin in single target",
							},
							{
								["enabled"] = true,
								["action"] = "garrote",
								["cycle_targets"] = 1,
								["description"] =
								"Improved Garrote: Apply or Refresh with buffed Garrotes, accounting for Indiscriminate Carnage",
								["criteria"] =
								"stealthed.improved_garrote & ( remains < 12 || pmultiplier <= 1 || ( buff.indiscriminate_carnage.up & active_dot.garrote < cycle_enemies ) ) & ! variable.single_target & target.time_to_die - remains > 2",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"stealthed.improved_garrote & ( pmultiplier <= 1 || remains < 14 || ! variable.single_target & buff.master_assassin_aura.up & buff.master_assassin_aura.remains < 3 ) & combo_points.deficit >= 1 + 2 * talent.shrouded_suffocation.enabled",
								["action"] = "garrote",
							},
						},
						["vanish"] = {
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["extra_amount"] = "45",
								["description"] = "Stealth Cooldowns   Vanish Sync for Improved Garrote with Deathmark",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.fatebound_lucky_coin.up & ( buff.fatebound_coin_tails.stack >= 5 || buff.fatebound_coin_heads.stack >= 5 )",
								["action"] = "vanish",
								["description"] = "Vanish to fish for Fateful Ending if possible",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.master_assassin.enabled & ! talent.indiscriminate_carnage.enabled & talent.improved_garrote.enabled & cooldown.garrote.up & ( dot.garrote.pmultiplier <= 1 || dot.garrote.refreshable ) & ( debuff.deathmark.up || cooldown.deathmark.remains < 4 ) & combo_points.deficit >= ( spell_targets.fan_of_knives >? 4 )",
								["action"] = "vanish",
								["description"] =
								"Vanish to spread Garrote during Deathmark without Indiscriminate Carnage",
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["extra_amount"] = "45",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.master_assassin.enabled & talent.indiscriminate_carnage.enabled & talent.improved_garrote.enabled & cooldown.garrote.up & ( dot.garrote.pmultiplier <= 1 || dot.garrote.refreshable ) & spell_targets.fan_of_knives > 2",
								["action"] = "vanish",
								["description"] = "Vanish for cleaving Garrotes with Indiscriminate Carnage",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.master_assassin.enabled & talent.kingsbane.enabled & dot.kingsbane.remains <= 3 & dot.kingsbane.ticking & debuff.deathmark.remains <= 3 & dot.deathmark.ticking",
								["action"] = "vanish",
								["description"] = "Vanish for Master Assassin during Kingsbane",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.improved_garrote.enabled & talent.master_assassin.enabled & ! dot.rupture.refreshable & dot.garrote.remains > 3 & debuff.deathmark.up & ( debuff.shiv.up || debuff.deathmark.remains < 4 )",
								["action"] = "vanish",
								["description"] = "Vanish fallback for Master Assassin",
							},
						},
						["shiv"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"talent.kingsbane.enabled & ! talent.lightweight_shiv.enabled & buff.envenom.up & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & ( dot.kingsbane.ticking & dot.kingsbane.remains < 8 || cooldown.kingsbane.remains >= 24 ) & ( ! talent.crimson_tempest.enabled || variable.single_target || dot.crimson_tempest.ticking ) || boss & fight_remains <= charges * 8",
								["action"] = "shiv",
								["description"] =
								"Shiv Handling  Shiv if talented into Kingsbane, Always sync, or prioritize the last 8 seconds",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.kingsbane.enabled & talent.lightweight_shiv.enabled & buff.envenom.up & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & ( dot.kingsbane.ticking || cooldown.kingsbane.remains <= 1 ) || boss & fight_remains <= charges * 8",
								["action"] = "shiv",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.arterial_precision.enabled & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & debuff.deathmark.up || boss & fight_remains <= charges * 8",
								["action"] = "shiv",
								["description"] = "Shiv cases for Arterial in special circumstances",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.kingsbane.enabled & ! talent.arterial_precision.enabled & ! debuff.shiv.up & dot.garrote.ticking & dot.rupture.ticking & ( ! talent.crimson_tempest.enabled || variable.single_target || dot.crimson_tempest.ticking ) || boss & fight_remains <= charges * 8",
								["action"] = "shiv",
								["description"] = "Fallback if no special cases apply",
							},
						},
						["misc_cds"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.react || boss & fight_remains < 30 || debuff.deathmark.up",
								["action"] = "potion",
								["description"] = "Miscellaneous Cooldowns Potion",
							},
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "blood_fury",
								["description"] = "Various special racials to be synced with cooldowns",
							},
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] = "debuff.deathmark.up",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.kingsbane.enabled & debuff.deathmark.up & debuff.shiv.up ) || ( talent.kingsbane.enabled & debuff.deathmark.up & dot.kingsbane.ticking & dot.kingsbane.remains < 8 )",
								["action"] = "ancestral_call",
							},
						},
						["items"] = {
							{
								["enabled"] = true,
								["action"] = "ashes_of_the_embersoul",
								["use_off_gcd"] = 1,
								["description"] = "Special Case Trinkets",
								["criteria"] =
								"( dot.kingsbane.ticking & dot.kingsbane.remains <= 11 ) || boss & fight_remains <= 22",
								["name"] = "ashes_of_the_embersoul",
							},
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["criteria"] =
								"dot.rupture.ticking & cooldown.deathmark.remains < 2 || boss & fight_remains <= 22",
								["name"] = "algethar_puzzle_box",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( variable.trinket_sync_slot = 1 & ( debuff.deathmark.up || boss & fight_remains <= 20 ) || ( variable.trinket_sync_slot = 2 & ( ! trinket.t2.cooldown.ready || ! debuff.deathmark.up & cooldown.deathmark.remains > 20 ) ) || ! variable.trinket_sync_slot )",
								["action"] = "trinket1",
								["slots"] = "trinket1",
								["description"] = "Fallback case for using stat trinkets",
							},
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] =
								"( variable.trinket_sync_slot = 2 & ( debuff.deathmark.up || boss & fight_remains <= 20 ) || ( variable.trinket_sync_slot = 1 & ( ! trinket.t1.cooldown.ready || ! debuff.deathmark.up & cooldown.deathmark.remains > 20 ) ) || ! variable.trinket_sync_slot )",
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Restealth if possible (no vulnerable enemies in combat)",
								["action"] = "stealth",
							},
							{
								["enabled"] = true,
								["description"] = "Interrupt on cooldown to allow simming interactions with that",
								["action"] = "kick",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.fan_of_knives < 2",
								["var_name"] = "single_target",
								["description"] = "Conditional to check if there is only one enemy",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "energy.regen_combined > 35",
								["var_name"] = "regen_saturated",
								["description"] = "Combined Energy Regen needed to saturate",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( dot.deathmark.ticking || dot.kingsbane.ticking || debuff.shiv.up ) || ( buff.envenom.up & buff.envenom.remains <= 1 & energy.pct >= 40 ) || energy.pct >= 50 || boss & fight_remains <= 20",
								["var_name"] = "not_pooling",
								["description"] = "Check if we should be using our energy",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] =
								"stealthed.rogue || stealthed.improved_garrote || master_assassin_remains > 0",
								["list_name"] = "stealthed",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.slice_and_dice.up & dot.rupture.ticking & combo_points >= 1",
								["action"] = "slice_and_dice",
								["description"] =
								"Put SnD up initially for Cut to the Chase, refresh with Envenom if at low duration",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.slice_and_dice.up & buff.slice_and_dice.remains < 5 & combo_points >= 5",
								["action"] = "envenom",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "dot",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "direct",
							},
							{
								["enabled"] = true,
								["criteria"] = "energy.deficit >= 15 + energy.regen_combined",
								["action"] = "arcane_torrent",
							},
							{
								["action"] = "arcane_pulse",
								["enabled"] = true,
							},
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							},
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["action"] = "apply_poison",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "trinket_sync_slot",
								["value"] = "1",
								["description"] = "Check which trinket slots have Stat Values",
								["criteria"] =
								"trinket.t1.has_stat.any_dps & ( ! trinket.t2.has_stat.any_dps || trinket.t1.cooldown.duration >= trinket.t2.cooldown.duration ) & ! trinket.t2.is.witherbarks_branch || trinket.t1.is.witherbarks_branch",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "2",
								["var_name"] = "trinket_sync_slot",
								["criteria"] =
								"trinket.t2.has_stat.any_dps & ( ! trinket.t1.has_stat.any_dps || trinket.t2.cooldown.duration > trinket.t1.cooldown.duration ) & ! trinket.t1.is.witherbarks_branch || trinket.t2.is.witherbarks_branch",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cp_max_spend - 2 <? 5 * talent.hand_of_fate.enabled",
								["var_name"] = "effective_spend_cp",
								["description"] = "Determine combo point finish condition",
							},
							{
								["enabled"] = true,
								["description"] = "Pre-cast Slice and Dice if possible",
								["action"] = "stealth",
							},
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "slice_and_dice",
								["precombat_seconds"] = "1",
							},
						},
						["direct"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.darkest_night.up & effective_combo_points >= variable.effective_spend_cp & ( variable.not_pooling || debuff.amplifying_poison.stack >= 20 || effective_combo_points > cp_max_spend || ! variable.single_target ) & ! buff.vanish.up",
								["action"] = "envenom",
								["description"] =
								"Direct Damage Abilities   Envenom at applicable cp if not pooling, capped on amplifying poison stacks, on an animacharged CP, or in aoe.",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.darkest_night.up & effective_combo_points >= cp_max_spend",
								["action"] = "envenom",
								["description"] = "Special Envenom handling for Darkest Night",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"combo_points.deficit > 1 || variable.not_pooling || ! variable.single_target",
								["var_name"] = "use_filler",
								["description"] = "Check if we should be using a filler",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.caustic_spatter.enabled & dot.rupture.ticking & ( ! debuff.caustic_spatter.up || debuff.caustic_spatter.remains <= 2 ) & variable.use_filler & ! variable.single_target",
								["action"] = "mutilate",
								["description"] = "Maintain Caustic Spatter",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.caustic_spatter.enabled & dot.rupture.ticking & ( ! debuff.caustic_spatter.up || debuff.caustic_spatter.remains <= 2 ) & variable.use_filler & ! variable.single_target",
								["action"] = "ambush",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler || fight_remains < 20",
								["action"] = "echoing_reprimand",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.use_filler & ( ! priority_rotation & spell_targets.fan_of_knives >= 2 + stealthed.rogue + talent.dragontempered_blades.enabled )",
								["action"] = "fan_of_knives",
								["description"] = "Fan of Knives at 2+ targets or 3+ with DTB",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler & spell_targets.fan_of_knives >= 3",
								["action"] = "fan_of_knives",
								["description"] =
								"Fan of Knives to apply poisons if inactive on any target (or any bleeding targets with priority rotation) at 3T",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.use_filler & ( buff.blindside.up || stealthed.rogue ) & ( ! dot.kingsbane.ticking || debuff.deathmark.down || buff.blindside.up )",
								["action"] = "ambush",
								["description"] =
								"Ambush on Blindside/Subterfuge. Do not use Ambush from stealth during Kingsbane & Deathmark.",
							},
							{
								["enabled"] = true,
								["action"] = "mutilate",
								["cycle_targets"] = 1,
								["description"] = "Tab-Mutilate to apply Deadly Poison at 2 targets",
								["criteria"] =
								"! dot.deadly_poison_dot.ticking & ! debuff.amplifying_poison.up & variable.use_filler & spell_targets.fan_of_knives = 2",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.use_filler",
								["action"] = "mutilate",
								["description"] = "Fallback Mutilate",
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.master_assassin.enabled || dot.garrote.ticking",
								["var_name"] = "deathmark_ma_condition",
								["description"] =
								"Cooldowns  Wait on Deathmark for Garrote with MA and check for Kingsbane",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! talent.kingsbane.enabled || cooldown.kingsbane.remains <= 2",
								["var_name"] = "deathmark_kingsbane_condition",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"! stealthed.rogue & dot.rupture.ticking & buff.envenom.up & ! debuff.deathmark.up & variable.deathmark_ma_condition & variable.deathmark_kingsbane_condition",
								["var_name"] = "deathmark_condition",
								["description"] =
								"Deathmark to be used if not stealthed, Rupture is up, and all other talent conditions are satisfied",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] =
								"Usages for various special-case Trinkets and other Cantrips if applicable",
								["list_name"] = "items",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.deathmark_condition || boss & fight_remains <= 20",
								["action"] = "deathmark",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Check for Applicable Shiv usage",
								["list_name"] = "shiv",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( debuff.shiv.up || cooldown.shiv.remains < 6 ) & buff.envenom.up & ( cooldown.deathmark.remains >= 50 || dot.deathmark.ticking ) || boss & fight_remains <= 15",
								["action"] = "kingsbane",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.thistle_tea.up & ( ( ( energy.deficit >= 100 + energy.regen_combined || charges >= 3 ) & debuff.shiv.remains >= 4 ) ) || boss & fight_remains < charges * 6",
								["action"] = "thistle_tea",
								["description"] =
								"Avoid overcapped energy, use with shiv, or dump charges at the end of a fight",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Potion/Racials/Other misc cooldowns",
								["list_name"] = "misc_cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] = "! stealthed.all & master_assassin_remains = 0",
								["list_name"] = "vanish",
							},
							{
								["enabled"] = true,
								["criteria"] = "combo_points >= 4",
								["action"] = "cold_blood",
							},
						},
						["dot"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "( spell_targets.fan_of_knives * talent.scent_of_blood.rank * 2 ) >? 20",
								["var_name"] = "scent_effective_max_stacks",
								["description"] =
								"Damage over time abilities   Check what the maximum Scent of Blood stacks is currently",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.scent_of_blood.stack >= variable.scent_effective_max_stacks",
								["var_name"] = "scent_saturation",
								["description"] = "We are Scent Saturated when our stack count is hitting the maximum",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets >= 3 & refreshable & pmultiplier <= 1 & effective_combo_points >= variable.effective_spend_cp & ! cooldown.deathmark.ready & target.time_to_die - remains > 6",
								["action"] = "crimson_tempest",
								["description"] = "Crimson Tempest on 3+ Targets if we have enough energy regen",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"combo_points.deficit >= 1 & ( pmultiplier <= 1 ) & refreshable & target.time_to_die - remains > 12",
								["action"] = "garrote",
								["description"] = "Garrote upkeep, also uses it in AoE to reach energy saturation",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"combo_points.deficit >= 1 & ( pmultiplier <= 1 ) & refreshable & ! variable.regen_saturated & cycle_enemies >= 2 & target.time_to_die - remains > 12",
								["action"] = "garrote",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"effective_combo_points >= variable.effective_spend_cp & ( pmultiplier <= 1 ) & refreshable & target.time_to_die - remains > ( 4 + ( talent.dashing_scoundrel.enabled * 5 ) + ( variable.regen_saturated * 6 ) ) & ! buff.darkest_night.up",
								["action"] = "rupture",
								["description"] = "Rupture upkeep, also uses it in AoE to reach energy saturation",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"effective_combo_points >= variable.effective_spend_cp & ( pmultiplier <= 1 ) & refreshable & ( ! variable.regen_saturated || ! variable.scent_saturation ) & target.time_to_die - remains > ( 4 + ( talent.dashing_scoundrel.enabled * 5 ) + ( variable.regen_saturated * 6 ) ) & ! buff.darkest_night.up",
								["action"] = "rupture",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"refreshable & combo_points.deficit >= 1 & ( pmultiplier <= 1 || remains <= tick_time & spell_targets.fan_of_knives >= 3 ) & ( remains <= tick_time * 2 & spell_targets.fan_of_knives >= 3 ) & ( target.time_to_die - remains ) > 4 & master_assassin_remains = 0",
								["action"] = "garrote",
								["description"] =
								"Garrote as a special generator for the last CP before a finisher for edge case handling",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'stealthed' required some automated changes.\nLine 2: Converted 'talent.deathstalkers_mark' to 'talent.deathstalkers_mark.enabled' (1x).\nLine 3: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 7: Converted 'talent.shrouded_suffocation' to 'talent.shrouded_suffocation.enabled' (1x).\n\nThe import for 'vanish' required some automated changes.\nLine 3: Converted 'talent.master_assassin' to 'talent.master_assassin.enabled' (1x).\nLine 3: Converted 'talent.indiscriminate_carnage' to 'talent.indiscriminate_carnage.enabled' (1x).\nLine 3: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 5: Converted 'talent.master_assassin' to 'talent.master_assassin.enabled' (1x).\nLine 5: Converted 'talent.indiscriminate_carnage' to 'talent.indiscriminate_carnage.enabled' (1x).\nLine 5: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 6: Converted 'talent.master_assassin' to 'talent.master_assassin.enabled' (1x).\nLine 6: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 7: Converted 'talent.improved_garrote' to 'talent.improved_garrote.enabled' (1x).\nLine 7: Converted 'talent.master_assassin' to 'talent.master_assassin.enabled' (1x).\n\nThe import for 'shiv' required some automated changes.\nLine 1: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 2: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 3: Converted 'talent.arterial_precision' to 'talent.arterial_precision.enabled' (1x).\nLine 4: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 4: Converted 'talent.arterial_precision' to 'talent.arterial_precision.enabled' (1x).\n\nThe import for 'misc_cds' required some automated changes.\nLine 5: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\nLine 5: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\n\nThe import for 'items' required some automated changes.\nLine 3: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 3: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 4: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 4: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\n\nThe import for 'dot' required some automated changes.\nLine 6: Converted 'talent.dashing_scoundrel' to 'talent.dashing_scoundrel.enabled' (1x).\nLine 7: Converted 'talent.dashing_scoundrel' to 'talent.dashing_scoundrel.enabled' (1x).\n\nThe import for 'direct' required some automated changes.\nLine 4: Converted 'talent.caustic_spatter' to 'talent.caustic_spatter.enabled' (1x).\nLine 5: Converted 'talent.caustic_spatter' to 'talent.caustic_spatter.enabled' (1x).\nLine 7: Converted 'talent.dragontempered_blades' to 'talent.dragontempered_blades.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 2: Converted 'talent.kingsbane' to 'talent.kingsbane.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 2: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 2: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.2.is.witherbarks_branch' to 'trinket.t2.is.witherbarks_branch' (1x).\nLine 2: Converted 'trinket.1.is.witherbarks_branch' to 'trinket.t1.is.witherbarks_branch' (1x).\nLine 3: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 3: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 3: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 3: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 3: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 3: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 3: Converted 'trinket.1.is.witherbarks_branch' to 'trinket.t1.is.witherbarks_branch' (1x).\nLine 3: Converted 'trinket.2.is.witherbarks_branch' to 'trinket.t2.is.witherbarks_branch' (1x).\nLine 4: Converted 'talent.hand_of_fate' to 'talent.hand_of_fate.enabled' (1x).\n\nImported 10 action lists.\n",
					["spec"] = 259,
					["profile"] =
					"actions.precombat+=/apply_poison\n# Check which trinket slots have Stat Values\nactions.precombat+=/variable,name=trinket_sync_slot,value=1,if=trinket.1.has_stat.any_dps&(!trinket.2.has_stat.any_dps||trinket.1.cooldown.duration>=trinket.2.cooldown.duration)&!trinket.2.is.witherbarks_branch||trinket.1.is.witherbarks_branch\nactions.precombat+=/variable,name=trinket_sync_slot,value=2,if=trinket.2.has_stat.any_dps&(!trinket.1.has_stat.any_dps||trinket.2.cooldown.duration>trinket.1.cooldown.duration)&!trinket.1.is.witherbarks_branch||trinket.2.is.witherbarks_branch\n# Determine combo point finish condition\nactions.precombat+=/variable,name=effective_spend_cp,value=cp_max_spend-2<?5*talent.hand_of_fate\n# Pre-cast Slice and Dice if possible\nactions.precombat+=/stealth\nactions.precombat+=/slice_and_dice,precombat_seconds=1,if=refreshable\n\n# Restealth if possible (no vulnerable enemies in combat)\nactions+=/stealth\n# Interrupt on cooldown to allow simming interactions with that\nactions+=/kick\n# Conditional to check if there is only one enemy\nactions+=/variable,name=single_target,value=spell_targets.fan_of_knives<2\n# Combined Energy Regen needed to saturate\nactions+=/variable,name=regen_saturated,value=energy.regen_combined>35\n# Check if we should be using our energy\nactions+=/variable,name=not_pooling,value=(dot.deathmark.ticking||dot.kingsbane.ticking||debuff.shiv.up)||(buff.envenom.up&buff.envenom.remains<=1&energy.pct>=40)||energy.pct>=50||boss&fight_remains<=20\nactions+=/call_action_list,name=stealthed,strict=1,if=stealthed.rogue||stealthed.improved_garrote||master_assassin_remains>0\nactions+=/call_action_list,name=cds\n# Put SnD up initially for Cut to the Chase, refresh with Envenom if at low duration\nactions+=/slice_and_dice,if=!buff.slice_and_dice.up&dot.rupture.ticking&combo_points>=1\nactions+=/envenom,if=buff.slice_and_dice.up&buff.slice_and_dice.remains<5&combo_points>=5\nactions+=/call_action_list,name=dot\nactions+=/call_action_list,name=direct\nactions+=/arcane_torrent,if=energy.deficit>=15+energy.regen_combined\nactions+=/arcane_pulse\nactions+=/lights_judgment\nactions+=/bag_of_tricks\n\n# Cooldowns  Wait on Deathmark for Garrote with MA and check for Kingsbane\nactions.cds+=/variable,name=deathmark_ma_condition,value=!talent.master_assassin.enabled||dot.garrote.ticking\nactions.cds+=/variable,name=deathmark_kingsbane_condition,value=!talent.kingsbane||cooldown.kingsbane.remains<=2\n# Deathmark to be used if not stealthed, Rupture is up, and all other talent conditions are satisfied\nactions.cds+=/variable,name=deathmark_condition,value=!stealthed.rogue&dot.rupture.ticking&buff.envenom.up&!debuff.deathmark.up&variable.deathmark_ma_condition&variable.deathmark_kingsbane_condition\n# Usages for various special-case Trinkets and other Cantrips if applicable\nactions.cds+=/call_action_list,name=items\n## Invoke Externals to Deathmark\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=dot.deathmark.ticking\nactions.cds+=/deathmark,if=variable.deathmark_condition||boss&fight_remains<=20\n# Check for Applicable Shiv usage\nactions.cds+=/call_action_list,name=shiv\nactions.cds+=/kingsbane,if=(debuff.shiv.up||cooldown.shiv.remains<6)&buff.envenom.up&(cooldown.deathmark.remains>=50||dot.deathmark.ticking)||boss&fight_remains<=15\n# Avoid overcapped energy, use with shiv, or dump charges at the end of a fight\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&(((energy.deficit>=100+energy.regen_combined||charges>=3)&debuff.shiv.remains>=4))||boss&fight_remains<charges*6\n# Potion/Racials/Other misc cooldowns\nactions.cds+=/call_action_list,name=misc_cds\nactions.cds+=/call_action_list,name=vanish,if=!stealthed.all&master_assassin_remains=0\nactions.cds+=/cold_blood,if=combo_points>=4\n\n# Direct Damage Abilities   Envenom at applicable cp if not pooling, capped on amplifying poison stacks, on an animacharged CP, or in aoe.\nactions.direct+=/envenom,if=!buff.darkest_night.up&effective_combo_points>=variable.effective_spend_cp&(variable.not_pooling||debuff.amplifying_poison.stack>=20||effective_combo_points>cp_max_spend||!variable.single_target)&!buff.vanish.up\n# Special Envenom handling for Darkest Night\nactions.direct+=/envenom,if=buff.darkest_night.up&effective_combo_points>=cp_max_spend\n# Check if we should be using a filler\nactions.direct+=/variable,name=use_filler,value=combo_points.deficit>1||variable.not_pooling||!variable.single_target\n# Maintain Caustic Spatter\nactions.direct+=/mutilate,if=talent.caustic_spatter&dot.rupture.ticking&(!debuff.caustic_spatter.up||debuff.caustic_spatter.remains<=2)&variable.use_filler&!variable.single_target\nactions.direct+=/ambush,if=talent.caustic_spatter&dot.rupture.ticking&(!debuff.caustic_spatter.up||debuff.caustic_spatter.remains<=2)&variable.use_filler&!variable.single_target\nactions.direct+=/echoing_reprimand,if=variable.use_filler||fight_remains<20\n# Fan of Knives at 2+ targets or 3+ with DTB\nactions.direct+=/fan_of_knives,if=variable.use_filler&(!priority_rotation&spell_targets.fan_of_knives>=2+stealthed.rogue+talent.dragontempered_blades)\n# Fan of Knives to apply poisons if inactive on any target (or any bleeding targets with priority rotation) at 3T\nactions.direct+=/fan_of_knives,if=variable.use_filler&spell_targets.fan_of_knives>=3\n# Ambush on Blindside/Subterfuge. Do not use Ambush from stealth during Kingsbane & Deathmark.\nactions.direct+=/ambush,if=variable.use_filler&(buff.blindside.up||stealthed.rogue)&(!dot.kingsbane.ticking||debuff.deathmark.down||buff.blindside.up)\n# Tab-Mutilate to apply Deadly Poison at 2 targets\nactions.direct+=/mutilate,cycle_targets=1,if=!dot.deadly_poison_dot.ticking&!debuff.amplifying_poison.up&variable.use_filler&spell_targets.fan_of_knives=2\n# Fallback Mutilate\nactions.direct+=/mutilate,if=variable.use_filler\n\n# Damage over time abilities   Check what the maximum Scent of Blood stacks is currently\nactions.dot+=/variable,name=scent_effective_max_stacks,value=(spell_targets.fan_of_knives*talent.scent_of_blood.rank*2)>?20\n# We are Scent Saturated when our stack count is hitting the maximum\nactions.dot+=/variable,name=scent_saturation,value=buff.scent_of_blood.stack>=variable.scent_effective_max_stacks\n# Crimson Tempest on 3+ Targets if we have enough energy regen\nactions.dot+=/crimson_tempest,if=spell_targets>=3&refreshable&pmultiplier<=1&effective_combo_points>=variable.effective_spend_cp&!cooldown.deathmark.ready&target.time_to_die-remains>6\n# Garrote upkeep, also uses it in AoE to reach energy saturation\nactions.dot+=/garrote,if=combo_points.deficit>=1&(pmultiplier<=1)&refreshable&target.time_to_die-remains>12\nactions.dot+=/garrote,cycle_targets=1,if=combo_points.deficit>=1&(pmultiplier<=1)&refreshable&!variable.regen_saturated&cycle_enemies>=2&target.time_to_die-remains>12\n# Rupture upkeep, also uses it in AoE to reach energy saturation\nactions.dot+=/rupture,if=effective_combo_points>=variable.effective_spend_cp&(pmultiplier<=1)&refreshable&target.time_to_die-remains>(4+(talent.dashing_scoundrel*5)+(variable.regen_saturated*6))&!buff.darkest_night.up\nactions.dot+=/rupture,cycle_targets=1,if=effective_combo_points>=variable.effective_spend_cp&(pmultiplier<=1)&refreshable&(!variable.regen_saturated||!variable.scent_saturation)&target.time_to_die-remains>(4+(talent.dashing_scoundrel*5)+(variable.regen_saturated*6))&!buff.darkest_night.up\n# Garrote as a special generator for the last CP before a finisher for edge case handling\nactions.dot+=/garrote,if=refreshable&combo_points.deficit>=1&(pmultiplier<=1||remains<=tick_time&spell_targets.fan_of_knives>=3)&(remains<=tick_time*2&spell_targets.fan_of_knives>=3)&(target.time_to_die-remains)>4&master_assassin_remains=0\n\n# Special Case Trinkets\nactions.items+=/use_item,name=ashes_of_the_embersoul,use_off_gcd=1,if=(dot.kingsbane.ticking&dot.kingsbane.remains<=11)||boss&fight_remains<=22\nactions.items+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=dot.rupture.ticking&cooldown.deathmark.remains<2||boss&fight_remains<=22\n# Fallback case for using stat trinkets\nactions.items+=/use_items,slots=trinket1,if=(variable.trinket_sync_slot=1&(debuff.deathmark.up||boss&fight_remains<=20)||(variable.trinket_sync_slot=2&(!trinket.2.cooldown.ready||!debuff.deathmark.up&cooldown.deathmark.remains>20))||!variable.trinket_sync_slot)\nactions.items+=/use_items,slots=trinket2,if=(variable.trinket_sync_slot=2&(debuff.deathmark.up||boss&fight_remains<=20)||(variable.trinket_sync_slot=1&(!trinket.1.cooldown.ready||!debuff.deathmark.up&cooldown.deathmark.remains>20))||!variable.trinket_sync_slot)\n\n# Miscellaneous Cooldowns Potion\nactions.misc_cds+=/potion,if=buff.bloodlust.react||boss&fight_remains<30||debuff.deathmark.up\n# Various special racials to be synced with cooldowns\nactions.misc_cds+=/blood_fury,if=debuff.deathmark.up\nactions.misc_cds+=/berserking,if=debuff.deathmark.up\nactions.misc_cds+=/fireblood,if=debuff.deathmark.up\nactions.misc_cds+=/ancestral_call,if=(!talent.kingsbane&debuff.deathmark.up&debuff.shiv.up)||(talent.kingsbane&debuff.deathmark.up&dot.kingsbane.ticking&dot.kingsbane.remains<8)\n\n# Shiv Handling  Shiv if talented into Kingsbane; Always sync, or prioritize the last 8 seconds\nactions.shiv+=/shiv,if=talent.kingsbane&!talent.lightweight_shiv.enabled&buff.envenom.up&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&(dot.kingsbane.ticking&dot.kingsbane.remains<8||cooldown.kingsbane.remains>=24)&(!talent.crimson_tempest.enabled||variable.single_target||dot.crimson_tempest.ticking)||boss&fight_remains<=charges*8\nactions.shiv+=/shiv,if=talent.kingsbane&talent.lightweight_shiv.enabled&buff.envenom.up&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&(dot.kingsbane.ticking||cooldown.kingsbane.remains<=1)||boss&fight_remains<=charges*8\n# Shiv cases for Arterial in special circumstances\nactions.shiv+=/shiv,if=talent.arterial_precision&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&debuff.deathmark.up||boss&fight_remains<=charges*8\n# Fallback if no special cases apply\nactions.shiv+=/shiv,if=!talent.kingsbane&!talent.arterial_precision&!debuff.shiv.up&dot.garrote.ticking&dot.rupture.ticking&(!talent.crimson_tempest.enabled||variable.single_target||dot.crimson_tempest.ticking)||boss&fight_remains<=charges*8\n\n# Stealthed Actions\nactions.stealthed+=/pool_resource,for_next=1\n# Apply Deathstalkers Mark if it has fallen off and we have no way to reapply otherwise\nactions.stealthed+=/ambush,if=!debuff.deathstalkers_mark.up&talent.deathstalkers_mark&!buff.darkest_night.up\n# Make sure to have Shiv up during Kingsbane as a final check\nactions.stealthed+=/shiv,if=talent.kingsbane&(dot.kingsbane.ticking||cooldown.kingsbane.up)&(!debuff.shiv.up&debuff.shiv.remains<1)&buff.envenom.up\n# Envenom to maintain the buff during Subterfuge\nactions.stealthed+=/envenom,if=effective_combo_points>=variable.effective_spend_cp&dot.kingsbane.ticking&buff.envenom.remains<=3\n# Envenom during Master Assassin in single target\nactions.stealthed+=/envenom,if=effective_combo_points>=variable.effective_spend_cp&buff.master_assassin_aura.up&variable.single_target\n# Improved Garrote: Apply or Refresh with buffed Garrotes, accounting for Indiscriminate Carnage\nactions.stealthed+=/garrote,cycle_targets=1,if=stealthed.improved_garrote&(remains<12||pmultiplier<=1||(buff.indiscriminate_carnage.up&active_dot.garrote<cycle_enemies))&!variable.single_target&target.time_to_die-remains>2\nactions.stealthed+=/garrote,if=stealthed.improved_garrote&(pmultiplier<=1||remains<14||!variable.single_target&buff.master_assassin_aura.up&buff.master_assassin_aura.remains<3)&combo_points.deficit>=1+2*talent.shrouded_suffocation\n\n# Stealth Cooldowns   Vanish Sync for Improved Garrote with Deathmark\nactions.vanish+=/pool_resource,for_next=1,extra_amount=45\n# Vanish to fish for Fateful Ending if possible\nactions.vanish+=/vanish,if=!buff.fatebound_lucky_coin.up&(buff.fatebound_coin_tails.stack>=5||buff.fatebound_coin_heads.stack>=5)\n# Vanish to spread Garrote during Deathmark without Indiscriminate Carnage\nactions.vanish+=/vanish,if=!talent.master_assassin&!talent.indiscriminate_carnage&talent.improved_garrote&cooldown.garrote.up&(dot.garrote.pmultiplier<=1||dot.garrote.refreshable)&(debuff.deathmark.up||cooldown.deathmark.remains<4)&combo_points.deficit>=(spell_targets.fan_of_knives>?4)\nactions.vanish+=/pool_resource,for_next=1,extra_amount=45\n# Vanish for cleaving Garrotes with Indiscriminate Carnage\nactions.vanish+=/vanish,if=!talent.master_assassin&talent.indiscriminate_carnage&talent.improved_garrote&cooldown.garrote.up&(dot.garrote.pmultiplier<=1||dot.garrote.refreshable)&spell_targets.fan_of_knives>2\n# Vanish for Master Assassin during Kingsbane\nactions.vanish+=/vanish,if=talent.master_assassin&talent.kingsbane&dot.kingsbane.remains<=3&dot.kingsbane.ticking&debuff.deathmark.remains<=3&dot.deathmark.ticking\n# Vanish fallback for Master Assassin\nactions.vanish+=/vanish,if=!talent.improved_garrote&talent.master_assassin&!dot.rupture.refreshable&dot.garrote.remains>3&debuff.deathmark.up&(debuff.shiv.up||debuff.deathmark.remains<4)",
				},
				["Balance"] = {
					["source"] = "https://balance-simc.github.io/Balance-SimC/md.html?file=balance.txt",
					["builtIn"] = true,
					["date"] = 20240723,
					["author"] = "SimC",
					["desc"] = "2024-07-23: The War Within",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Executed every time the actor is available.",
								["action"] = "solar_beam",
							},
							{
								["action"] = "use_items",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "refreshable",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "stellar_flare",
								["criteria"] = "refreshable",
								["cycle_targets"] = 1,
							},
							{
								["action"] = "force_of_nature",
								["enabled"] = true,
							},
							{
								["action"] = "fury_of_elune",
								["enabled"] = true,
							},
							{
								["action"] = "incarnation",
								["enabled"] = true,
							},
							{
								["action"] = "celestial_alignment",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.lunar_calling.enabled & buff.eclipse_solar.remains < 7 || talent.lunar_calling.enabled",
								["action"] = "warrior_of_elune",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.lunar_calling.enabled & spell_targets.starfire = 1 ) & ( buff.eclipse_solar.up & buff.eclipse_solar.remains < action.starfire.cast_time || eclipse.in_none )",
								["action"] = "starfire",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.lunar_calling.enabled || spell_targets.starfire > 1 ) & ( buff.eclipse_lunar.up & ( buff.eclipse_lunar.remains < action.wrath.cast_time ) || eclipse.in_none )",
								["action"] = "wrath",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.starweavers_warp.up",
								["action"] = "starfall",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.starfall < 2",
								["action"] = "starsurge",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.starfall > 1",
								["action"] = "starfall",
							},
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							},
							{
								["action"] = "new_moon",
								["enabled"] = true,
							},
							{
								["action"] = "half_moon",
								["enabled"] = true,
							},
							{
								["action"] = "full_moon",
								["enabled"] = true,
							},
							{
								["action"] = "warrior_of_elune",
								["enabled"] = true,
							},
							{
								["action"] = "wild_mushroom",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.lunar_calling.enabled || buff.eclipse_lunar.up & spell_targets.starfire > 1",
								["action"] = "starfire",
							},
							{
								["action"] = "wrath",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["description"] =
								"Snapshot raid buffed stats before combat begins and pre-potting is done.",
								["action"] = "moonkin_form",
							},
							{
								["action"] = "wrath",
								["enabled"] = true,
							},
							{
								["action"] = "wrath",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.stellar_flare.enabled",
								["action"] = "starfire",
							},
							{
								["action"] = "stellar_flare",
								["enabled"] = true,
							},
						},
					},
					["version"] = 20240723,
					["warnings"] =
					"The import for 'default' required some automated changes.\nLine 10: Converted 'talent.lunar_calling' to 'talent.lunar_calling.enabled' (1x).\nLine 10: Converted 'talent.lunar_calling' to 'talent.lunar_calling.enabled' (1x).\nLine 11: Converted 'talent.lunar_calling' to 'talent.lunar_calling.enabled' (1x).\nLine 12: Converted 'talent.lunar_calling' to 'talent.lunar_calling.enabled' (1x).\nLine 22: Converted 'talent.lunar_calling' to 'talent.lunar_calling.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 4: Converted 'talent.stellar_flare' to 'talent.stellar_flare.enabled' (1x).\n\nImported 2 action lists.\n",
					["profile"] =
					"# Snapshot raid buffed stats before combat begins and pre-potting is done.\nactions.precombat+=/moonkin_form\nactions.precombat+=/wrath\nactions.precombat+=/wrath\nactions.precombat+=/starfire,if=!talent.stellar_flare\nactions.precombat+=/stellar_flare\n\n# Executed every time the actor is available.\nactions+=/solar_beam\nactions+=/use_items\nactions+=/moonfire,cycle_targets=1,if=refreshable\nactions+=/sunfire,cycle_targets=1,if=refreshable\nactions+=/stellar_flare,cycle_targets=1,if=refreshable\nactions+=/force_of_nature\nactions+=/fury_of_elune\nactions+=/incarnation\nactions+=/celestial_alignment\nactions+=/warrior_of_elune,if=!talent.lunar_calling&buff.eclipse_solar.remains<7||talent.lunar_calling\nactions+=/starfire,if=(!talent.lunar_calling&spell_targets.starfire=1)&(buff.eclipse_solar.up&buff.eclipse_solar.remains<action.starfire.cast_time||eclipse.in_none)\nactions+=/wrath,if=(talent.lunar_calling||spell_targets.starfire>1)&(buff.eclipse_lunar.up&(buff.eclipse_lunar.remains<action.wrath.cast_time)||eclipse.in_none)\nactions+=/starfall,if=buff.starweavers_warp.up\nactions+=/starsurge,if=spell_targets.starfall<2\nactions+=/starfall,if=spell_targets.starfall>1\nactions+=/convoke_the_spirits\nactions+=/new_moon\nactions+=/half_moon\nactions+=/full_moon\nactions+=/warrior_of_elune\nactions+=/wild_mushroom\nactions+=/starfire,if=talent.lunar_calling||buff.eclipse_lunar.up&spell_targets.starfire>1\nactions+=/wrath",
					["spec"] = 102,
				},
				["Survival"] = {
					["source"] = "# https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240806,
					["author"] = "SimC",
					["desc"] =
					"2024-08-01: Respect Hunter's Mark setting\n\n2024-07-27: Minor sim update; use Hunter's Mark\n\n2024-07-23: The War Within",
					["lists"] = {
						["sentcleave"] = {
							{
								["enabled"] = true,
								["description"] = "SENTINEL || DEFAULT AOE ACTIONLIST",
								["criteria"] = "cooldown.coordinated_assault.remains",
								["action"] = "spearhead",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.relentless_primal_ferocity.up & buff.tip_of_the_spear.stack < 1",
								["action"] = "kill_command",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bombardier.remains",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.tip_of_the_spear.stack > 0 & cooldown.wildfire_bomb.charges_fractional > 1.7 || cooldown.wildfire_bomb.charges_fractional > 1.9 || cooldown.coordinated_assault.remains < 2 * gcd.max",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.bombardier.enabled || talent.bombardier.enabled & cooldown.wildfire_bomb.charges_fractional < 1",
								["action"] = "coordinated_assault",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack < 2",
								["action"] = "flanking_strike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.tip_of_the_spear.stack > 0 || buff.bombardier.remains ) & cooldown.coordinated_assault.remains > 20 || cooldown.coordinated_assault.remains < 2",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack > 0",
								["action"] = "fury_of_the_eagle",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.sic_em.remains & active_enemies < 4",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "focus + cast_regen < focus.max",
								["action"] = "kill_command",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack > 0",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.merciless_blows.up",
								["action"] = "raptor_strike",
							},
							{
								["action"] = "butchery",
								["enabled"] = true,
							},
							{
								["action"] = "kill_shot",
								["enabled"] = true,
							},
							{
								["action"] = "raptor_strike",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["action"] = "muzzle",
								["enabled"] = true,
							},
							{
								["action"] = "tranquilizing_shot",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( settings.mark_any || target.is_boss ) & active_dot.hunters_mark = 0 & target.time_to_pct_80 > 20",
								["action"] = "hunters_mark",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies < 3 & talent.vicious_hunt.enabled",
								["list_name"] = "plst",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2 & talent.vicious_hunt.enabled",
								["list_name"] = "plcleave",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies < 3 & ! talent.vicious_hunt.enabled",
								["list_name"] = "sentst",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2 & ! talent.vicious_hunt.enabled",
								["list_name"] = "sentcleave",
							},
							{
								["enabled"] = true,
								["description"] = "simply fires off if there is absolutely nothing else to press.",
								["action"] = "arcane_torrent",
							},
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							},
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["action"] = "summon_pet",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( settings.mark_any || target.is_boss ) & active_dot.hunters_mark = 0 & target.time_to_pct_80 > 20",
								["action"] = "hunters_mark",
							},
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							},
						},
						["plcleave"] = {
							{
								["enabled"] = true,
								["description"] = "PACK LEADER AOE ACTIONLIST",
								["criteria"] = "cooldown.coordinated_assault.remains",
								["action"] = "spearhead",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.relentless_primal_ferocity.up & buff.tip_of_the_spear.stack < 1",
								["action"] = "kill_command",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bombardier.remains",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.tip_of_the_spear.stack > 0 & cooldown.wildfire_bomb.charges_fractional > 1.7 || cooldown.wildfire_bomb.charges_fractional > 1.9 || cooldown.coordinated_assault.remains < 2 * gcd.max",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.bombardier.enabled || talent.bombardier.enabled & cooldown.wildfire_bomb.charges_fractional < 1",
								["action"] = "coordinated_assault",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack < 2",
								["action"] = "flanking_strike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.tip_of_the_spear.stack > 0 || buff.bombardier.remains ) & cooldown.coordinated_assault.remains > 20 || cooldown.coordinated_assault.remains < 2",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack > 0",
								["action"] = "fury_of_the_eagle",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.sic_em.remains & active_enemies < 4",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "focus + cast_regen < focus.max",
								["action"] = "kill_command",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack > 0",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.merciless_blows.up",
								["action"] = "raptor_strike",
							},
							{
								["action"] = "butchery",
								["enabled"] = true,
							},
							{
								["action"] = "kill_shot",
								["enabled"] = true,
							},
							{
								["action"] = "raptor_strike",
								["enabled"] = true,
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["description"] = "COOLDOWNS ACTIONLIST",
								["criteria"] = "settings.use_harpoon",
								["action"] = "harpoon",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.coordinated_assault.up || ! talent.coordinated_assault.enabled & cooldown.spearhead.remains || ! talent.spearhead.enabled & ! talent.coordinated_assault.enabled",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.coordinated_assault.up || ! talent.coordinated_assault.enabled & cooldown.spearhead.remains || ! talent.spearhead.enabled & ! talent.coordinated_assault.enabled",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.coordinated_assault.up || ! talent.coordinated_assault.enabled & cooldown.spearhead.remains || ! talent.spearhead.enabled & ! talent.coordinated_assault.enabled",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.coordinated_assault.up || ! talent.coordinated_assault.enabled & cooldown.spearhead.remains || ! talent.spearhead.enabled & ! talent.coordinated_assault.enabled || time_to_die < 13",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"boss & fight_remains < 25 || buff.coordinated_assault.up || ! talent.coordinated_assault.enabled & cooldown.spearhead.remains || ! talent.spearhead.enabled & ! talent.coordinated_assault.enabled",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["use_off_gcd"] = 1,
								["action"] = "algethar_puzzle_box",
								["name"] = "algethar_puzzle_box",
							},
							{
								["enabled"] = true,
								["name"] = "manic_grieftorch",
								["action"] = "manic_grieftorch",
							},
							{
								["enabled"] = true,
								["name"] = "beacon_to_the_beyond",
								["action"] = "beacon_to_the_beyond",
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.coordinated_assault.remains || cooldown.spearhead.remains",
								["action"] = "use_items",
							},
							{
								["enabled"] = true,
								["criteria"] = "target.distance >= 6",
								["action"] = "aspect_of_the_eagle",
							},
						},
						["plst"] = {
							{
								["enabled"] = true,
								["action"] = "kill_command",
								["cycle_targets"] = 1,
								["description"] =
								"PL revisit fote in ST for mdt/ds sim purposes once we lose S4 set. (DPET dif will be dramatically higher) revisit the need for tipping KS once we lose S4 revisit High prio SS refresh if/when Outland Venom is fixed. revisit sending tipless bombardier ES after bombardier fix for both ST and AOE. revisit for AOE AS IT might outperform with either of the AoE PL nodes. - actions.cleave+=/butchery,if=charges_fractional>2.8&cooldown.wildfire_bomb.charges_fractional<1.5 revisit KS priority for AoE with Cull the Herd. standard performance does well, but not better than low prio KS, heavy falloff beyond 3t. ST is currently optimised for KCspam, if the playstyle ends up fixed it is likely better to entirely redo and take the sentactionlist as a baseline. PACK LEADER SINGLE TARGET ACTIONLIST.",
								["criteria"] = "( buff.relentless_primal_ferocity.up & buff.tip_of_the_spear.stack < 1 )",
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.coordinated_assault.remains",
								["action"] = "spearhead",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! dot.serpent_sting.ticking & target.time_to_die > 12 & ( ! talent.contagious_reagents.enabled || active_dot.serpent_sting = 0 )",
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.contagious_reagents.enabled & active_dot.serpent_sting < active_enemies & dot.serpent_sting.remains",
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.tip_of_the_spear.stack > 0 & cooldown.wildfire_bomb.charges_fractional > 1.7 || cooldown.wildfire_bomb.charges_fractional > 1.9 || cooldown.coordinated_assault.remains < 2 * gcd.max",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.bombardier.enabled || talent.bombardier.enabled & cooldown.wildfire_bomb.charges_fractional < 1",
								["action"] = "coordinated_assault",
							},
							{
								["enabled"] = true,
								["criteria"] = "( buff.tip_of_the_spear.stack > 0 || talent.sic_em.enabled )",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack < 2",
								["action"] = "flanking_strike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.spearhead.enabled & ( ! talent.symbiotic_adrenaline.enabled & ( buff.tip_of_the_spear.stack > 0 || buff.bombardier.remains ) & cooldown.spearhead.remains > 20 || cooldown.spearhead.remains < 2 ) ) || ( ( talent.symbiotic_adrenaline.enabled || ! talent.spearhead.enabled ) & ( buff.tip_of_the_spear.stack > 0 || buff.bombardier.remains ) & cooldown.coordinated_assault.remains > 20 || cooldown.coordinated_assault.remains < 2 )",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.furious_assault.up & buff.tip_of_the_spear.stack > 0 ) & ( ! talent.mongoose_bite.enabled || buff.mongoose_fury.stack > 4 )",
								["action"] = "raptor_strike",
							},
							{
								["enabled"] = true,
								["action"] = "kill_command",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.tip_of_the_spear.stack > 0 & ( ! raid_event.adds.exists || raid_event.adds.exists & raid_event.adds.in > 15 )",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["interrupt"] = "1",
								["criteria"] =
								"( ! raid_event.adds.exists || raid_event.adds.exists & raid_event.adds.in > 40 )",
								["action"] = "fury_of_the_eagle",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"active_enemies > 1 & ( talent.merciless_blows.enabled & buff.merciless_blows.down || ! talent.merciless_blows.enabled )",
								["action"] = "butchery",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.contagious_reagents.enabled",
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
						},
						["sentst"] = {
							{
								["enabled"] = true,
								["action"] = "kill_command",
								["cycle_targets"] = 1,
								["description"] =
								"SENT revisit fote in ST for mdt/ds sim purposes once we lose S4 set. (DPET dif will be dramatically higher) revisit the need for tipping KS once we lose S4. revisit High prio SS refresh if/when Outland Venom is fixed. revisit sending tipless bombardier ES after bombardier fix for both ST and AoE. T31 line currently exists since level 70 characters follow the sent/default actionlist. sentinel is currently nyi. SENTINEL || DEFAULT SINGLE TARGET ACTIONLIST.",
								["criteria"] = "( buff.relentless_primal_ferocity.up & buff.tip_of_the_spear.stack < 1 )",
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.coordinated_assault.remains",
								["action"] = "spearhead",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! dot.serpent_sting.ticking & target.time_to_die > 12 & ( ! talent.contagious_reagents.enabled || active_dot.serpent_sting = 0 )",
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.contagious_reagents.enabled & active_dot.serpent_sting < active_enemies & dot.serpent_sting.remains",
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.tip_of_the_spear.stack > 0 & cooldown.wildfire_bomb.charges_fractional > 1.7 || cooldown.wildfire_bomb.charges_fractional > 1.9 || cooldown.coordinated_assault.remains < 2 * gcd.max",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.bombardier.enabled || talent.bombardier.enabled & cooldown.wildfire_bomb.charges_fractional < 1",
								["action"] = "coordinated_assault",
							},
							{
								["enabled"] = true,
								["interrupt"] = "1",
								["criteria"] = "set_bonus.tier31_2pc",
								["action"] = "fury_of_the_eagle",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack < 2",
								["action"] = "flanking_strike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.spearhead.enabled & ( ! talent.symbiotic_adrenaline.enabled & ( buff.tip_of_the_spear.stack > 0 || buff.bombardier.remains ) & cooldown.spearhead.remains > 20 || cooldown.spearhead.remains < 2 ) ) || ( ( talent.symbiotic_adrenaline.enabled || ! talent.spearhead.enabled ) & ( buff.tip_of_the_spear.stack > 0 || buff.bombardier.remains ) & cooldown.coordinated_assault.remains > 20 || cooldown.coordinated_assault.remains < 2 )",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.tip_of_the_spear.stack > 0 || talent.sic_em.enabled",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"focus + cast_regen < focus.max & ( ! buff.relentless_primal_ferocity.up || ( buff.relentless_primal_ferocity.up & buff.tip_of_the_spear.stack < 2 ) )",
								["action"] = "kill_command",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.tip_of_the_spear.stack > 0 & ( ! raid_event.adds.exists || raid_event.adds.exists & raid_event.adds.in > 15 )",
								["action"] = "wildfire_bomb",
							},
							{
								["enabled"] = true,
								["interrupt"] = "1",
								["criteria"] =
								"( ! raid_event.adds.exists || raid_event.adds.exists & raid_event.adds.in > 40 )",
								["action"] = "fury_of_the_eagle",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"active_enemies > 1 & ( talent.merciless_blows.enabled & buff.merciless_blows.down || ! talent.merciless_blows.enabled )",
								["action"] = "butchery",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.contagious_reagents.enabled",
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "raptor_strike",
								["cycle_targets"] = 1,
							},
						},
					},
					["version"] = 20240806,
					["warnings"] =
					"The import for 'sentcleave' required some automated changes.\nLine 5: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\nLine 5: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 5: Converted 'talent.vicious_hunt' to 'talent.vicious_hunt.enabled' (1x).\nLine 6: Converted 'talent.vicious_hunt' to 'talent.vicious_hunt.enabled' (1x).\nLine 7: Converted 'talent.vicious_hunt' to 'talent.vicious_hunt.enabled' (1x).\nLine 8: Converted 'talent.vicious_hunt' to 'talent.vicious_hunt.enabled' (1x).\n\nThe import for 'plst' required some automated changes.\nLine 3: Converted 'talent.contagious_reagents' to 'talent.contagious_reagents.enabled' (1x).\nLine 4: Converted 'talent.contagious_reagents' to 'talent.contagious_reagents.enabled' (1x).\nLine 6: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\nLine 6: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\nLine 7: Converted 'talent.sic_em' to 'talent.sic_em.enabled' (1x).\nLine 9: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 9: Converted 'talent.symbiotic_adrenaline' to 'talent.symbiotic_adrenaline.enabled' (1x).\nLine 9: Converted 'talent.symbiotic_adrenaline' to 'talent.symbiotic_adrenaline.enabled' (1x).\nLine 9: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 10: Converted 'talent.mongoose_bite' to 'talent.mongoose_bite.enabled' (1x).\nLine 14: Converted 'talent.merciless_blows' to 'talent.merciless_blows.enabled' (1x).\nLine 14: Converted 'talent.merciless_blows' to 'talent.merciless_blows.enabled' (1x).\nLine 15: Converted 'talent.contagious_reagents' to 'talent.contagious_reagents.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 2: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 2: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 2: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 3: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 3: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 3: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 4: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 4: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 4: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 5: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 5: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 5: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 6: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\nLine 6: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 6: Converted 'talent.coordinated_assault' to 'talent.coordinated_assault.enabled' (1x).\n\nThe import for 'plcleave' required some automated changes.\nLine 5: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\nLine 5: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\n\nThe import for 'sentst' required some automated changes.\nLine 3: Converted 'talent.contagious_reagents' to 'talent.contagious_reagents.enabled' (1x).\nLine 4: Converted 'talent.contagious_reagents' to 'talent.contagious_reagents.enabled' (1x).\nLine 6: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\nLine 6: Converted 'talent.bombardier' to 'talent.bombardier.enabled' (1x).\nLine 9: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 9: Converted 'talent.symbiotic_adrenaline' to 'talent.symbiotic_adrenaline.enabled' (1x).\nLine 9: Converted 'talent.symbiotic_adrenaline' to 'talent.symbiotic_adrenaline.enabled' (1x).\nLine 9: Converted 'talent.spearhead' to 'talent.spearhead.enabled' (1x).\nLine 10: Converted 'talent.sic_em' to 'talent.sic_em.enabled' (1x).\nLine 14: Converted 'talent.merciless_blows' to 'talent.merciless_blows.enabled' (1x).\nLine 14: Converted 'talent.merciless_blows' to 'talent.merciless_blows.enabled' (1x).\nLine 15: Converted 'talent.contagious_reagents' to 'talent.contagious_reagents.enabled' (1x).\n\nImported 7 action lists.\n",
					["profile"] =
					"actions.precombat+=/summon_pet\nactions.precombat+=/hunters_mark,if=(settings.mark_any||target.is_boss)&active_dot.hunters_mark=0&target.time_to_pct_80>20\nactions.precombat+=/use_item,name=algethar_puzzle_box\n\nactions+=/muzzle\nactions+=/tranquilizing_shot\nactions+=/hunters_mark,if=(settings.mark_any||target.is_boss)&active_dot.hunters_mark=0&target.time_to_pct_80>20\nactions+=/call_action_list,name=cds\nactions+=/call_action_list,name=plst,strict=1,if=active_enemies<3&talent.vicious_hunt\nactions+=/call_action_list,name=plcleave,strict=1,if=active_enemies>2&talent.vicious_hunt\nactions+=/call_action_list,name=sentst,strict=1,if=active_enemies<3&!talent.vicious_hunt\nactions+=/call_action_list,name=sentcleave,strict=1,if=active_enemies>2&!talent.vicious_hunt\n# simply fires off if there is absolutely nothing else to press.\nactions+=/arcane_torrent\nactions+=/bag_of_tricks\nactions+=/lights_judgment\n\n# COOLDOWNS ACTIONLIST\nactions.cds+=/harpoon,if=settings.use_harpoon\nactions.cds+=/blood_fury,if=buff.coordinated_assault.up||!talent.coordinated_assault&cooldown.spearhead.remains||!talent.spearhead&!talent.coordinated_assault\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.coordinated_assault.up||!talent.coordinated_assault&cooldown.spearhead.remains||!talent.spearhead&!talent.coordinated_assault\nactions.cds+=/ancestral_call,if=buff.coordinated_assault.up||!talent.coordinated_assault&cooldown.spearhead.remains||!talent.spearhead&!talent.coordinated_assault\nactions.cds+=/fireblood,if=buff.coordinated_assault.up||!talent.coordinated_assault&cooldown.spearhead.remains||!talent.spearhead&!talent.coordinated_assault\nactions.cds+=/berserking,if=buff.coordinated_assault.up||!talent.coordinated_assault&cooldown.spearhead.remains||!talent.spearhead&!talent.coordinated_assault||time_to_die<13\nactions.cds+=/potion,if=boss&fight_remains<25||buff.coordinated_assault.up||!talent.coordinated_assault&cooldown.spearhead.remains||!talent.spearhead&!talent.coordinated_assault\nactions.cds+=/use_item,name=algethar_puzzle_box,use_off_gcd=1\nactions.cds+=/use_item,name=manic_grieftorch\nactions.cds+=/use_item,name=beacon_to_the_beyond\nactions.cds+=/use_items,if=cooldown.coordinated_assault.remains||cooldown.spearhead.remains\nactions.cds+=/aspect_of_the_eagle,if=target.distance>=6\n\n# PL revisit fote in ST for mdt/ds sim purposes once we lose S4 set. (DPET dif will be dramatically higher) revisit the need for tipping KS once we lose S4 revisit High prio SS refresh if/when Outland Venom is fixed. revisit sending tipless bombardier ES after bombardier fix for both ST and AOE. revisit for AOE AS IT might outperform with either of the AoE PL nodes. - actions.cleave+=/butchery,if=charges_fractional>2.8&cooldown.wildfire_bomb.charges_fractional<1.5 revisit KS priority for AoE with Cull the Herd. standard performance does well, but not better than low prio KS, heavy falloff beyond 3t. ST is currently optimised for KCspam, if the playstyle ends up fixed it is likely better to entirely redo and take the sentactionlist as a baseline. PACK LEADER SINGLE TARGET ACTIONLIST.\nactions.plst+=/kill_command,cycle_targets=1,if=(buff.relentless_primal_ferocity.up&buff.tip_of_the_spear.stack<1)\nactions.plst+=/spearhead,if=cooldown.coordinated_assault.remains\nactions.plst+=/raptor_bite,cycle_targets=1,if=!dot.serpent_sting.ticking&target.time_to_die>12&(!talent.contagious_reagents||active_dot.serpent_sting=0)\nactions.plst+=/raptor_bite,cycle_targets=1,if=talent.contagious_reagents&active_dot.serpent_sting<active_enemies&dot.serpent_sting.remains\nactions.plst+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0&cooldown.wildfire_bomb.charges_fractional>1.7||cooldown.wildfire_bomb.charges_fractional>1.9||cooldown.coordinated_assault.remains<2*gcd\nactions.plst+=/coordinated_assault,if=!talent.bombardier||talent.bombardier&cooldown.wildfire_bomb.charges_fractional<1\nactions.plst+=/kill_shot,if=(buff.tip_of_the_spear.stack>0||talent.sic_em)\nactions.plst+=/flanking_strike,if=buff.tip_of_the_spear.stack<2\nactions.plst+=/explosive_shot,if=(talent.spearhead&(!talent.symbiotic_adrenaline&(buff.tip_of_the_spear.stack>0||buff.bombardier.remains)&cooldown.spearhead.remains>20||cooldown.spearhead.remains<2))||((talent.symbiotic_adrenaline||!talent.spearhead)&(buff.tip_of_the_spear.stack>0||buff.bombardier.remains)&cooldown.coordinated_assault.remains>20||cooldown.coordinated_assault.remains<2)\nactions.plst+=/raptor_bite,if=(buff.furious_assault.up&buff.tip_of_the_spear.stack>0)&(!talent.mongoose_bite||buff.mongoose_fury.stack>4)\nactions.plst+=/kill_command,cycle_targets=1\nactions.plst+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0&(!raid_event.adds.exists||raid_event.adds.exists&raid_event.adds.in>15)\nactions.plst+=/fury_of_the_eagle,interrupt=1,if=(!raid_event.adds.exists||raid_event.adds.exists&raid_event.adds.in>40)\nactions.plst+=/butchery,if=active_enemies>1&(talent.merciless_blows&buff.merciless_blows.down||!talent.merciless_blows)\nactions.plst+=/raptor_bite,cycle_targets=1,if=!talent.contagious_reagents\nactions.plst+=/raptor_bite,cycle_targets=1\n\n# PACK LEADER AOE ACTIONLIST\nactions.plcleave+=/spearhead,if=cooldown.coordinated_assault.remains\nactions.plcleave+=/kill_command,cycle_targets=1,if=buff.relentless_primal_ferocity.up&buff.tip_of_the_spear.stack<1\nactions.plcleave+=/explosive_shot,if=buff.bombardier.remains\nactions.plcleave+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0&cooldown.wildfire_bomb.charges_fractional>1.7||cooldown.wildfire_bomb.charges_fractional>1.9||cooldown.coordinated_assault.remains<2*gcd\nactions.plcleave+=/coordinated_assault,if=!talent.bombardier||talent.bombardier&cooldown.wildfire_bomb.charges_fractional<1\nactions.plcleave+=/flanking_strike,if=buff.tip_of_the_spear.stack<2\nactions.plcleave+=/explosive_shot,if=(buff.tip_of_the_spear.stack>0||buff.bombardier.remains)&cooldown.coordinated_assault.remains>20||cooldown.coordinated_assault.remains<2\nactions.plcleave+=/fury_of_the_eagle,if=buff.tip_of_the_spear.stack>0\nactions.plcleave+=/kill_shot,if=buff.sic_em.remains&active_enemies<4\nactions.plcleave+=/kill_command,cycle_targets=1,if=focus+cast_regen<focus.max\nactions.plcleave+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0\nactions.plcleave+=/raptor_bite,if=buff.merciless_blows.up\nactions.plcleave+=/butchery\nactions.plcleave+=/kill_shot\nactions.plcleave+=/raptor_bite\n\n# SENT revisit fote in ST for mdt/ds sim purposes once we lose S4 set. (DPET dif will be dramatically higher) revisit the need for tipping KS once we lose S4. revisit High prio SS refresh if/when Outland Venom is fixed. revisit sending tipless bombardier ES after bombardier fix for both ST and AoE. T31 line currently exists since level 70 characters follow the sent/default actionlist. sentinel is currently nyi. SENTINEL || DEFAULT SINGLE TARGET ACTIONLIST.\nactions.sentst+=/kill_command,cycle_targets=1,if=(buff.relentless_primal_ferocity.up&buff.tip_of_the_spear.stack<1)\nactions.sentst+=/spearhead,if=cooldown.coordinated_assault.remains\nactions.sentst+=/raptor_bite,cycle_targets=1,if=!dot.serpent_sting.ticking&target.time_to_die>12&(!talent.contagious_reagents||active_dot.serpent_sting=0)\nactions.sentst+=/raptor_bite,cycle_targets=1,if=talent.contagious_reagents&active_dot.serpent_sting<active_enemies&dot.serpent_sting.remains\nactions.sentst+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0&cooldown.wildfire_bomb.charges_fractional>1.7||cooldown.wildfire_bomb.charges_fractional>1.9||cooldown.coordinated_assault.remains<2*gcd\nactions.sentst+=/coordinated_assault,if=!talent.bombardier||talent.bombardier&cooldown.wildfire_bomb.charges_fractional<1\nactions.sentst+=/fury_of_the_eagle,interrupt=1,if=set_bonus.tier31_2pc\nactions.sentst+=/flanking_strike,if=buff.tip_of_the_spear.stack<2\nactions.sentst+=/explosive_shot,if=(talent.spearhead&(!talent.symbiotic_adrenaline&(buff.tip_of_the_spear.stack>0||buff.bombardier.remains)&cooldown.spearhead.remains>20||cooldown.spearhead.remains<2))||((talent.symbiotic_adrenaline||!talent.spearhead)&(buff.tip_of_the_spear.stack>0||buff.bombardier.remains)&cooldown.coordinated_assault.remains>20||cooldown.coordinated_assault.remains<2)\nactions.sentst+=/kill_shot,if=buff.tip_of_the_spear.stack>0||talent.sic_em\nactions.sentst+=/kill_command,cycle_targets=1,if=focus+cast_regen<focus.max&(!buff.relentless_primal_ferocity.up||(buff.relentless_primal_ferocity.up&buff.tip_of_the_spear.stack<2))\nactions.sentst+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0&(!raid_event.adds.exists||raid_event.adds.exists&raid_event.adds.in>15)\nactions.sentst+=/fury_of_the_eagle,interrupt=1,if=(!raid_event.adds.exists||raid_event.adds.exists&raid_event.adds.in>40)\nactions.sentst+=/butchery,if=active_enemies>1&(talent.merciless_blows&buff.merciless_blows.down||!talent.merciless_blows)\nactions.sentst+=/raptor_bite,cycle_targets=1,if=!talent.contagious_reagents\nactions.sentst+=/raptor_bite,cycle_targets=1\n\n# SENTINEL || DEFAULT AOE ACTIONLIST\nactions.sentcleave+=/spearhead,if=cooldown.coordinated_assault.remains\nactions.sentcleave+=/kill_command,cycle_targets=1,if=buff.relentless_primal_ferocity.up&buff.tip_of_the_spear.stack<1\nactions.sentcleave+=/explosive_shot,if=buff.bombardier.remains\nactions.sentcleave+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0&cooldown.wildfire_bomb.charges_fractional>1.7||cooldown.wildfire_bomb.charges_fractional>1.9||cooldown.coordinated_assault.remains<2*gcd\nactions.sentcleave+=/coordinated_assault,if=!talent.bombardier||talent.bombardier&cooldown.wildfire_bomb.charges_fractional<1\nactions.sentcleave+=/flanking_strike,if=buff.tip_of_the_spear.stack<2\nactions.sentcleave+=/explosive_shot,if=(buff.tip_of_the_spear.stack>0||buff.bombardier.remains)&cooldown.coordinated_assault.remains>20||cooldown.coordinated_assault.remains<2\nactions.sentcleave+=/fury_of_the_eagle,if=buff.tip_of_the_spear.stack>0\nactions.sentcleave+=/kill_shot,if=buff.sic_em.remains&active_enemies<4\nactions.sentcleave+=/kill_command,cycle_targets=1,if=focus+cast_regen<focus.max\nactions.sentcleave+=/wildfire_bomb,if=buff.tip_of_the_spear.stack>0\nactions.sentcleave+=/raptor_bite,if=buff.merciless_blows.up\nactions.sentcleave+=/butchery\nactions.sentcleave+=/kill_shot\nactions.sentcleave+=/raptor_bite",
					["spec"] = 255,
				},
				["Restoration Shaman"] = {
					["builtIn"] = true,
					["date"] = 20240730,
					["spec"] = 264,
					["desc"] = "2024-07-30: The War Within",
					["profile"] =
					"actions.precombat+=/earthliving_weapon\nactions.precombat+=/water_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/lightning_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/earth_shield,if=buff.water_shield.up+buff.earth_shield.up+buff.lightning_shield.up<1+talent.elemental_orbit.rank\nactions.precombat+=/earth_elemental\nactions.precombat+=/potion\n\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/potion\nactions+=/use_items\nactions+=/blood_fury\nactions+=/berserking\nactions+=/fireblood\nactions+=/ancestral_call\nactions+=/bag_of_tricks\nactions+=/healing_rain,if=!moving&talent.acid_rain\nactions+=/flame_shock,cycle_targets=1,if=active_enemies<3&refreshable\n# actions+=/primordial_wave\nactions+=/lava_burst,if=(active_enemies=1||active_enemies=2&buff.lava_surge.up)&dot.flame_shock.remains>cast_time&cooldown_react\nactions+=/earth_elemental\nactions+=/lightning_bolt,if=spell_targets.chain_lightning<2||!talent.chain_lightning\nactions+=/chain_lightning,if=spell_targets.chain_lightning>1\nactions+=/flame_shock,moving=1\nactions+=/frost_shock,moving=1",
					["version"] = 20240730,
					["warnings"] =
					"The import for 'default' required some automated changes.\nLine 10: Converted 'talent.acid_rain' to 'talent.acid_rain.enabled' (1x).\nLine 14: Converted 'talent.chain_lightning' to 'talent.chain_lightning.enabled' (1x).\n\nImported 2 action lists.\n",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "spiritwalkers_grace",
								["criteria"] = "movement.distance > 6",
								["moving"] = 1,
							},
							{
								["enabled"] = true,
								["description"] = "Interrupt of casts.",
								["action"] = "wind_shear",
							},
							{
								["action"] = "potion",
								["enabled"] = true,
							},
							{
								["action"] = "use_items",
								["enabled"] = true,
							},
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							},
							{
								["action"] = "berserking",
								["enabled"] = true,
							},
							{
								["action"] = "fireblood",
								["enabled"] = true,
							},
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							},
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "! moving & talent.acid_rain.enabled",
								["action"] = "healing_rain",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["criteria"] = "active_enemies < 3 & refreshable",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( active_enemies = 1 || active_enemies = 2 & buff.lava_surge.up ) & dot.flame_shock.remains > cast_time & cooldown_react",
								["action"] = "lava_burst",
								["description"] = "actions.default+=/primordial_wave",
							},
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.chain_lightning < 2 || ! talent.chain_lightning.enabled",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.chain_lightning > 1",
								["action"] = "chain_lightning",
							},
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["enabled"] = true,
							},
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["action"] = "earthliving_weapon",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "water_shield",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "lightning_shield",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.water_shield.up + buff.earth_shield.up + buff.lightning_shield.up < 1 + talent.elemental_orbit.rank",
								["action"] = "earth_shield",
							},
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							},
							{
								["action"] = "potion",
								["enabled"] = true,
							},
						},
					},
					["author"] = "Hekili",
				},
				["Outlaw"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240805,
					["author"] = "SimC",
					["desc"] = "2024-07-28: The War Within",
					["lists"] = {
						["finish"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.crackshot.enabled & ( buff.between_the_eyes.remains < 4 || talent.improved_between_the_eyes.enabled || talent.greenskins_wickers.enabled ) & ! buff.greenskins_wickers.up",
								["action"] = "between_the_eyes",
								["description"] =
								"Finishers  Use Between the Eyes to keep the crit buff up, but on cooldown if Improved/Greenskins, and avoid overriding Greenskins",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.crackshot.enabled & cooldown.vanish.remains > 45 & ( raid_event.adds.remains > 8 || raid_event.adds.in < raid_event.adds.remains || ! raid_event.adds.up )",
								["action"] = "between_the_eyes",
								["description"] =
								"Crackshot builds use Between the Eyes outside of Stealth if we will not enter a Stealth window before the next cast",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.slice_and_dice.remains < fight_remains & refreshable",
								["action"] = "slice_and_dice",
							},
							{
								["action"] = "cold_blood",
								["enabled"] = true,
							},
							{
								["action"] = "dispatch",
								["enabled"] = true,
							},
							{
								["action"] = "dispatch",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Restealth if possible (no vulnerable enemies in combat)",
								["action"] = "stealth",
							},
							{
								["enabled"] = true,
								["description"] = "Interrupt on cooldown to allow simming interactions with that",
								["action"] = "kick",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"rtb_buffs_will_lose = ( rtb_buffs_will_lose_buff.buried_treasure + rtb_buffs_will_lose_buff.grand_melee & spell_targets.blade_flurry < 2 & raid_event.adds.in > 10 )",
								["var_name"] = "rtb_reroll",
								["description"] =
								"Default Roll the Bones reroll rule: reroll for any buffs that aren't Buried Treasure, excluding Grand Melee in single target",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["value"] =
								"( ! rtb_buffs_will_lose_buff.true_bearing & talent.hidden_opportunity.enabled || ! rtb_buffs_will_lose_buff.broadside & ! talent.hidden_opportunity.enabled ) & rtb_buffs_will_lose <= 1",
								["description"] =
								"Crackshot builds without T31 should reroll for True Bearing (or Broadside without Hidden Opportunity) if we won't lose over 1 buff",
								["criteria"] = "talent.crackshot.enabled & ! set_bonus.tier31_4pc",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["value"] = "( rtb_buffs_will_lose <= 1 + buff.loaded_dice.up )",
								["description"] =
								"Crackshot builds with T31 should reroll if we won't lose over 1 buff (2 with Loaded Dice)",
								["criteria"] = "talent.crackshot.enabled & set_bonus.tier31_4pc",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["value"] =
								"! rtb_buffs_will_lose_buff.skull_and_crossbones & ( rtb_buffs_will_lose < 2 + rtb_buffs_will_lose_buff.grand_melee & spell_targets.blade_flurry < 2 & raid_event.adds.in > 10 )",
								["description"] =
								"Hidden Opportunity builds without Crackshot should reroll for Skull and Crossbones or any 2 buffs excluding Grand Melee in single target",
								["criteria"] = "! talent.crackshot.enabled & talent.hidden_opportunity.enabled",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"variable.rtb_reroll & rtb_buffs_longer = 0 || rtb_buffs_normal = 0 & rtb_buffs_longer >= 1 & rtb_buffs < 6 & rtb_buffs_max_remains <= 39 & ! stealthed.all & buff.loaded_dice.up",
								["var_name"] = "rtb_reroll",
								["description"] =
								"Additional reroll rules if all active buffs will not be rolled away, not in stealth, Loaded Dice is active, and we have less than 6 buffs",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "rtb_reroll",
								["description"] =
								"Avoid rerolls when we will not have time remaining on the fight or add wave to recoup the opportunity cost of the global",
								["criteria"] =
								"! ( raid_event.adds.remains > 12 || raid_event.adds.up & ( raid_event.adds.in - raid_event.adds.remains ) < 6 || target.time_to_die > 12 ) || fight_remains < 12",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( talent.hidden_opportunity.enabled || combo_points.deficit >= 2 + talent.improved_ambush.enabled + buff.broadside.up ) & energy >= 50",
								["var_name"] = "ambush_condition",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"effective_combo_points >= cp_max_spend - 1 - ( stealthed.all & talent.crackshot.enabled )",
								["var_name"] = "finish_condition",
								["description"] =
								"Use finishers if at -1 from max combo points, or -2 in Stealth with Crackshot",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"spell_targets.blade_flurry < 2 & raid_event.adds.in > 20 || buff.blade_flurry.remains > gcd.max",
								["var_name"] = "blade_flurry_sync",
								["description"] =
								"With multiple targets, this variable is checked to decide whether some CDs should be synced with Blade Flurry",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] =
								"High priority stealth list, will fall through if no conditions are met",
								["strict"] = 1,
								["criteria"] = "stealthed.all",
								["list_name"] = "stealth",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "variable.finish_condition",
								["list_name"] = "finish",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "build",
							},
							{
								["enabled"] = true,
								["criteria"] = "energy.base_deficit >= 15 + energy.regen",
								["action"] = "arcane_torrent",
							},
							{
								["action"] = "arcane_pulse",
								["enabled"] = true,
							},
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							},
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["name"] = "imperfect_ascendancy_serum",
							},
							{
								["enabled"] = true,
								["action"] = "stealth",
								["precombat_seconds"] = "2",
							},
							{
								["buff_name"] = "stealth",
								["criteria"] = "talent.double_jeopardy.enabled",
								["description"] = "Cancel Stealth to activate Double Jeopardy",
								["enabled"] = true,
								["action"] = "cancel_buff",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"settings.use_ld_opener & talent.improved_adrenaline_rush.enabled & buff.adrenaline_rush.down",
								["action"] = "adrenaline_rush",
								["precombat_seconds"] = "2",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.roll_the_bones.down",
								["action"] = "roll_the_bones",
								["precombat_seconds"] = "2",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! settings.use_ld_opener & talent.improved_adrenaline_rush.enabled & buff.adrenaline_rush.down",
								["action"] = "adrenaline_rush",
								["precombat_seconds"] = "1",
							},
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "slice_and_dice",
								["precombat_seconds"] = "1",
							},
							{
								["action"] = "stealth",
								["enabled"] = true,
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.adrenaline_rush.up & ( ! variable.finish_condition || ! talent.improved_adrenaline_rush.enabled ) || stealthed.all & talent.crackshot.enabled & talent.improved_adrenaline_rush.enabled & combo_points <= 2",
								["action"] = "adrenaline_rush",
								["description"] =
								"Cooldowns  Use Adrenaline Rush if it is not active and the finisher condition is not met, but Crackshot builds can refresh it with 2cp or lower inside stealth",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets >= 2 & buff.blade_flurry.remains < gcd.max",
								["action"] = "blade_flurry",
								["description"] = "Maintain Blade Flurry on 2+ targets",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.deft_maneuvers.enabled & ! variable.finish_condition & ( spell_targets >= 3 & combo_points.deficit = spell_targets + buff.broadside.up || spell_targets >= 5 )",
								["action"] = "blade_flurry",
								["description"] =
								"With Deft Maneuvers, use Blade Flurry on cooldown at 5+ targets, or at 3-4 targets if missing combo points equal to the amount given",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.rtb_reroll || rtb_buffs = 0 || rtb_buffs_max_remains <= 2 & set_bonus.tier31_4pc || rtb_buffs_max_remains <= 7 & cooldown.vanish.ready & talent.crackshot.enabled",
								["action"] = "roll_the_bones",
								["description"] =
								"Use Roll the Bones if reroll conditions are met, or with no buffs, or 2s before buffs expire with T31, or 7s before buffs expire with Vanish ready",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"rtb_buffs >= 3 + ( buff.buried_treasure.up || set_bonus.tier31_4pc ) & ( rtb_buffs_min_remains < 2 || buff.broadside.up )",
								["action"] = "keep_it_rolling",
								["description"] =
								"Use Keep it Rolling with at least 3 buffs that are not Buried Treasure. If Broadside is not active, then wait until just before the lowest buff expires.",
							},
							{
								["enabled"] = true,
								["criteria"] = "combo_points < cp_max_spend",
								["action"] = "ghostly_strike",
							},
							{
								["enabled"] = true,
								["name"] = "manic_grieftorch",
								["action"] = "manic_grieftorch",
								["criteria"] = "! stealthed.all & buff.between_the_eyes.up || fight_remains <= 5",
								["description"] =
								"Trinkets that should not be used during stealth and have higher priority than entering stealth",
							},
							{
								["enabled"] = true,
								["name"] = "beacon_to_the_beyond",
								["action"] = "beacon_to_the_beyond",
								["criteria"] = "! stealthed.all & buff.between_the_eyes.up || fight_remains <= 5",
							},
							{
								["enabled"] = false,
								["criteria"] = "! stealthed.all || fight_remains <= 22",
								["name"] = "imperfect_ascendancy_serum",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition & ! stealthed.all",
								["action"] = "killing_spree",
								["description"] = "Killing Spree has higher priority than stealth cooldowns",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Crackshot builds use stealth cooldowns if Between the Eyes is ready",
								["criteria"] =
								"! stealthed.all & ( ! talent.crackshot.enabled || cooldown.between_the_eyes.ready )",
								["list_name"] = "stealth_cds",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.thistle_tea.up & ( energy.base_deficit >= 150 || fight_remains < charges * 6 )",
								["action"] = "thistle_tea",
							},
							{
								["enabled"] = true,
								["criteria"] = "energy.base_time_to_max > 4 & ! stealthed.all",
								["action"] = "blade_rush",
								["description"] = "Use Blade Rush at minimal energy outside of stealth",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.react || fight_remains < 30 || buff.adrenaline_rush.up",
								["action"] = "potion",
							},
							{
								["action"] = "blood_fury",
								["enabled"] = true,
							},
							{
								["action"] = "berserking",
								["enabled"] = true,
							},
							{
								["action"] = "fireblood",
								["enabled"] = true,
							},
							{
								["action"] = "ancestral_call",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "elementium_pocket_anvil",
								["use_off_gcd"] = 1,
								["description"] = "Default conditions for usable items.",
								["criteria"] = "gcd.remains <= action.sinister_strike.gcd / 2",
								["name"] = "elementium_pocket_anvil",
							},
							{
								["enabled"] = true,
								["action"] = "dragonfire_bomb_dispenser",
								["use_off_gcd"] = 1,
								["description"] =
								"Use Bomb Dispenser on cooldown, but hold if 2nd trinket is nearly off cooldown, unless at max charges or sim duration ends soon",
								["criteria"] =
								"gcd.remains <= action.sinister_strike.gcd / 2 & ( ( ! trinket.t1.is.dragonfire_bomb_dispenser & trinket.t1.cooldown.remains > 10 || trinket.t2.cooldown.remains > 10 ) || cooldown.dragonfire_bomb_dispenser.charges > 2 || fight_remains < 20 || ! trinket.t2.has_cooldown || ! trinket.t1.has_cooldown )",
								["name"] = "dragonfire_bomb_dispenser",
							},
							{
								["enabled"] = true,
								["name"] = "stormeaters_boon",
								["action"] = "stormeaters_boon",
								["criteria"] =
								"spell_targets.blade_flurry > desired_targets || raid_event.adds.in > 60 || raid_event.adds.count < 2 || fight_remains < 10",
							},
							{
								["enabled"] = true,
								["name"] = "enduring_dreadplate",
								["action"] = "enduring_dreadplate",
								["criteria"] =
								"spell_targets.blade_flurry > desired_targets || raid_event.adds.in > 60 || raid_event.adds.count < 2 || fight_remains < 16",
							},
							{
								["enabled"] = true,
								["name"] = "windscar_whetstone",
								["action"] = "windscar_whetstone",
								["criteria"] =
								"spell_targets.blade_flurry > desired_targets || raid_event.adds.in > 60 || raid_event.adds.count < 2 || fight_remains < 7",
							},
							{
								["enabled"] = true,
								["slots"] = "trinket1",
								["action"] = "trinket1",
								["criteria"] =
								"buff.between_the_eyes.up || trinket.t1.has_stat.any_dps || fight_remains <= 20",
							},
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] =
								"buff.between_the_eyes.up || trinket.t2.has_stat.any_dps || fight_remains <= 20",
							},
						},
						["stealth"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"talent.subterfuge.enabled & talent.hidden_opportunity.enabled & spell_targets >= 2 & buff.blade_flurry.remains < gcd.max",
								["action"] = "blade_flurry",
								["description"] = "Stealth",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition",
								["action"] = "cold_blood",
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["description"] = "Ensure Crackshot BtE is not skipped because of low energy",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.finish_condition & talent.crackshot.enabled & ( ! buff.shadowmeld.up || stealthed.rogue )",
								["action"] = "between_the_eyes",
								["description"] =
								"High priority Between the Eyes for Crackshot, except not directly out of Shadowmeld",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition",
								["action"] = "dispatch",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.crackshot.enabled & talent.fan_the_hammer.rank >= 2 & buff.opportunity.stack >= 6 & ( buff.broadside.up & combo_points <= 1 || buff.greenskins_wickers.up )",
								["action"] = "pistol_shot",
								["description"] =
								"2 Fan the Hammer Crackshot builds can consume Opportunity in stealth with max stacks, Broadside, and low CPs, or with Greenskins active",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hidden_opportunity.enabled",
								["action"] = "ambush",
							},
						},
						["stealth_cds"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"talent.underhanded_upper_hand.enabled & talent.subterfuge.enabled & ( buff.adrenaline_rush.up || ! talent.without_a_trace.enabled & talent.crackshot.enabled ) & ( variable.finish_condition || ! talent.crackshot.enabled & ( variable.ambush_condition || ! talent.hidden_opportunity.enabled ) )",
								["action"] = "vanish",
								["description"] =
								"Stealth Cooldowns  Builds with Underhanded Upper Hand and Subterfuge (and Without a Trace for Crackshot) must use Vanish while Adrenaline Rush is active",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.underhanded_upper_hand.enabled & talent.crackshot.enabled & variable.finish_condition",
								["action"] = "vanish",
								["description"] =
								"Builds without Underhanded Upper Hand but with Crackshot must still use Vanish into Between the Eyes on cooldown",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.underhanded_upper_hand.enabled & ! talent.crackshot.enabled & talent.hidden_opportunity.enabled & ! buff.audacity.up & buff.opportunity.stack < buff.opportunity.max_stack & variable.ambush_condition",
								["action"] = "vanish",
								["description"] =
								"Builds without Underhanded Upper Hand and Crackshot but still Hidden Opportunity use Vanish into Ambush when Audacity is not active and under max Opportunity stacks",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.underhanded_upper_hand.enabled & ! talent.crackshot.enabled & ! talent.hidden_opportunity.enabled & ( ! variable.finish_condition & talent.double_jeopardy.enabled || ! buff.take_em_by_surprise.up & talent.take_em_by_surprise.enabled )",
								["action"] = "vanish",
								["description"] =
								"Builds without Underhanded Upper Hand, Crackshot, and Hidden Opportunity use Vanish into a builder to activate Double Jeopardy without breaking the current coin streak, or to activate Take 'em by Surprise",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.finish_condition & ! cooldown.vanish.ready",
								["action"] = "shadowmeld",
							},
						},
						["build"] = {
							{
								["enabled"] = true,
								["description"] = "Builders",
								["action"] = "echoing_reprimand",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hidden_opportunity.enabled & buff.audacity.up",
								["action"] = "ambush",
								["description"] = "High priority Ambush for Hidden Opportunity builds",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.fan_the_hammer.enabled & talent.audacity.enabled & talent.hidden_opportunity.enabled & buff.opportunity.up & ! buff.audacity.up",
								["action"] = "pistol_shot",
								["description"] =
								"With Audacity + Hidden Opportunity + Fan the Hammer, consume Opportunity to proc Audacity any time Ambush is not available",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.fan_the_hammer.enabled & buff.opportunity.up & ( buff.opportunity.stack >= buff.opportunity.max_stack || buff.opportunity.remains < 2 )",
								["action"] = "pistol_shot",
								["description"] =
								"With Fan the Hammer, consume Opportunity as a higher priority if at max stacks or if it will expire",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.fan_the_hammer.enabled & buff.opportunity.up & ( combo_points.deficit >= ( 1 + ( talent.quick_draw.enabled + buff.broadside.up ) * ( talent.fan_the_hammer.rank + 1 ) ) || combo_points <= talent.ruthlessness.enabled )",
								["action"] = "pistol_shot",
								["description"] =
								"With Fan the Hammer, consume Opportunity if it will not overcap CPs, or with 1 CP at minimum",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.fan_the_hammer.enabled & buff.opportunity.up & ( energy.base_deficit > energy.regen * 1.5 || combo_points.deficit <= 1 + buff.broadside.up || talent.quick_draw.enabled || talent.audacity.enabled & ! buff.audacity.up )",
								["action"] = "pistol_shot",
								["description"] =
								"If not using Fan the Hammer, then consume Opportunity based on energy, when it will exactly cap CPs, or when using Quick Draw",
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["description"] =
								"Fallback pooling just so Sinister Strike is never casted if Ambush is available for Hidden Opportunity builds",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hidden_opportunity.enabled",
								["action"] = "ambush",
							},
							{
								["action"] = "sinister_strike",
								["enabled"] = true,
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'finish' required some automated changes.\nLine 1: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 1: Converted 'talent.improved_between_the_eyes' to 'talent.improved_between_the_eyes.enabled' (1x).\nLine 1: Converted 'talent.greenskins_wickers' to 'talent.greenskins_wickers.enabled' (1x).\nLine 2: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'rtb_buffs.will_lose.buried_treasure' to 'rtb_buffs_will_lose_buff.buried_treasure' (1x).\nLine 3: Converted 'rtb_buffs.will_lose.grand_melee' to 'rtb_buffs_will_lose_buff.grand_melee' (1x).\nLine 4: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 4: Converted 'rtb_buffs.will_lose.true_bearing' to 'rtb_buffs_will_lose_buff.true_bearing' (1x).\nLine 4: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 4: Converted 'rtb_buffs.will_lose.broadside' to 'rtb_buffs_will_lose_buff.broadside' (1x).\nLine 4: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 5: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 6: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 6: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 6: Converted 'rtb_buffs.will_lose.skull_and_crossbones' to 'rtb_buffs_will_lose_buff.skull_and_crossbones' (1x).\nLine 6: Converted 'rtb_buffs.will_lose.grand_melee' to 'rtb_buffs_will_lose_buff.grand_melee' (1x).\nLine 9: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 9: Converted 'talent.improved_ambush' to 'talent.improved_ambush.enabled' (1x).\nLine 10: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 1: Unsupported use_item action [ imperfect_ascendancy_serum]; entry disabled.\nLine 3: Converted 'talent.double_jeopardy' to 'talent.double_jeopardy.enabled' (1x).\nLine 4: Converted 'talent.improved_adrenaline_rush' to 'talent.improved_adrenaline_rush.enabled' (1x).\nLine 6: Converted 'talent.improved_adrenaline_rush' to 'talent.improved_adrenaline_rush.enabled' (1x).\n\nThe import for 'stealth' required some automated changes.\nLine 1: Converted 'talent.subterfuge' to 'talent.subterfuge.enabled' (1x).\nLine 1: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 4: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 6: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 7: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'talent.improved_adrenaline_rush' to 'talent.improved_adrenaline_rush.enabled' (1x).\nLine 1: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 1: Converted 'talent.improved_adrenaline_rush' to 'talent.improved_adrenaline_rush.enabled' (1x).\nLine 3: Converted 'talent.deft_maneuvers' to 'talent.deft_maneuvers.enabled' (1x).\nLine 4: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 9: Unsupported use_item action [ imperfect_ascendancy_serum]; entry disabled.\nLine 11: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 19: Converted operations in 'gcd.remains<=action.sinister_strike.gcd%2' to 'gcd.remains<=action.sinister_strike.gcd/2'.\nLine 20: Converted 'trinket.1.is.dragonfire_bomb_dispenser' to 'trinket.t1.is.dragonfire_bomb_dispenser' (1x).\nLine 20: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 20: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 20: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 20: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 20: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 20: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 20: Converted operations in 'gcd.remains<=action.sinister_strike.gcd%2&((!trinket.t1.is.dragonfire_bomb_dispenser&trinket.t1.cooldown.remains>10||trinket.t2.cooldown.remains>10)||cooldown.dragonfire_bomb_dispenser.charges>2||fight_remains<20||!trinket.t2.has_cooldown||!trinket.t1.has_cooldown)' to 'gcd.remains<=action.sinister_strike.gcd/2&((!trinket.t1.is.dragonfire_bomb_dispenser&trinket.t1.cooldown.remains>10||trinket.t2.cooldown.remains>10)||cooldown.dragonfire_bomb_dispenser.charges>2||fight_remains<20||!trinket.t2.has_cooldown||!trinket.t1.has_cooldown)'.\nLine 24: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 25: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\n\nThe import for 'stealth_cds' required some automated changes.\nLine 1: Converted 'talent.underhanded_upper_hand' to 'talent.underhanded_upper_hand.enabled' (1x).\nLine 1: Converted 'talent.subterfuge' to 'talent.subterfuge.enabled' (1x).\nLine 1: Converted 'talent.without_a_trace' to 'talent.without_a_trace.enabled' (1x).\nLine 1: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 1: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 1: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 2: Converted 'talent.underhanded_upper_hand' to 'talent.underhanded_upper_hand.enabled' (1x).\nLine 2: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 3: Converted 'talent.underhanded_upper_hand' to 'talent.underhanded_upper_hand.enabled' (1x).\nLine 3: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 3: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 4: Converted 'talent.underhanded_upper_hand' to 'talent.underhanded_upper_hand.enabled' (1x).\nLine 4: Converted 'talent.crackshot' to 'talent.crackshot.enabled' (1x).\nLine 4: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 4: Converted 'talent.double_jeopardy' to 'talent.double_jeopardy.enabled' (1x).\nLine 4: Converted 'talent.take_em_by_surprise' to 'talent.take_em_by_surprise.enabled' (1x).\n\nThe import for 'build' required some automated changes.\nLine 2: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 3: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 3: Converted 'talent.audacity' to 'talent.audacity.enabled' (1x).\nLine 3: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\nLine 4: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 5: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 5: Converted 'talent.quick_draw' to 'talent.quick_draw.enabled' (1x).\nLine 5: Converted 'talent.ruthlessness' to 'talent.ruthlessness.enabled' (1x).\nLine 6: Converted 'talent.fan_the_hammer' to 'talent.fan_the_hammer.enabled' (1x).\nLine 8: Converted 'talent.hidden_opportunity' to 'talent.hidden_opportunity.enabled' (1x).\n\nImported 7 action lists.\n",
					["profile"] =
					"actions.precombat+=/use_item,name=imperfect_ascendancy_serum\nactions.precombat+=/stealth,precombat_seconds=2\n# Cancel Stealth to activate Double Jeopardy\nactions.precombat+=/cancel_buff,name=stealth,if=talent.double_jeopardy\nactions.precombat+=/adrenaline_rush,precombat_seconds=2,if=settings.use_ld_opener&talent.improved_adrenaline_rush&buff.adrenaline_rush.down\nactions.precombat+=/roll_the_bones,precombat_seconds=2,if=buff.roll_the_bones.down\nactions.precombat+=/adrenaline_rush,precombat_seconds=1,if=!settings.use_ld_opener&talent.improved_adrenaline_rush&buff.adrenaline_rush.down\nactions.precombat+=/slice_and_dice,precombat_seconds=1,if=refreshable\nactions.precombat+=/stealth\n\n# Restealth if possible (no vulnerable enemies in combat)\nactions+=/stealth\n# Interrupt on cooldown to allow simming interactions with that\nactions+=/kick\n# Default Roll the Bones reroll rule: reroll for any buffs that aren't Buried Treasure, excluding Grand Melee in single target\nactions+=/variable,name=rtb_reroll,value=rtb_buffs.will_lose=(rtb_buffs.will_lose.buried_treasure+rtb_buffs.will_lose.grand_melee&spell_targets.blade_flurry<2&raid_event.adds.in>10)\n# Crackshot builds without T31 should reroll for True Bearing (or Broadside without Hidden Opportunity) if we won't lose over 1 buff\nactions+=/variable,name=rtb_reroll,if=talent.crackshot&!set_bonus.tier31_4pc,value=(!rtb_buffs.will_lose.true_bearing&talent.hidden_opportunity||!rtb_buffs.will_lose.broadside&!talent.hidden_opportunity)&rtb_buffs.will_lose<=1\n# Crackshot builds with T31 should reroll if we won't lose over 1 buff (2 with Loaded Dice)\nactions+=/variable,name=rtb_reroll,if=talent.crackshot&set_bonus.tier31_4pc,value=(rtb_buffs.will_lose<=1+buff.loaded_dice.up)\n# Hidden Opportunity builds without Crackshot should reroll for Skull and Crossbones or any 2 buffs excluding Grand Melee in single target\nactions+=/variable,name=rtb_reroll,if=!talent.crackshot&talent.hidden_opportunity,value=!rtb_buffs.will_lose.skull_and_crossbones&(rtb_buffs.will_lose<2+rtb_buffs.will_lose.grand_melee&spell_targets.blade_flurry<2&raid_event.adds.in>10)\n# Additional reroll rules if all active buffs will not be rolled away, not in stealth, Loaded Dice is active, and we have less than 6 buffs\nactions+=/variable,name=rtb_reroll,value=variable.rtb_reroll&rtb_buffs.longer=0||rtb_buffs.normal=0&rtb_buffs.longer>=1&rtb_buffs<6&rtb_buffs.max_remains<=39&!stealthed.all&buff.loaded_dice.up\n# Avoid rerolls when we will not have time remaining on the fight or add wave to recoup the opportunity cost of the global\nactions+=/variable,name=rtb_reroll,op=reset,if=!(raid_event.adds.remains>12||raid_event.adds.up&(raid_event.adds.in-raid_event.adds.remains)<6||target.time_to_die>12)||fight_remains<12\nactions+=/variable,name=ambush_condition,value=(talent.hidden_opportunity||combo_points.deficit>=2+talent.improved_ambush+buff.broadside.up)&energy>=50\n# Use finishers if at -1 from max combo points, or -2 in Stealth with Crackshot\nactions+=/variable,name=finish_condition,value=effective_combo_points>=cp_max_spend-1-(stealthed.all&talent.crackshot)\n# With multiple targets, this variable is checked to decide whether some CDs should be synced with Blade Flurry\nactions+=/variable,name=blade_flurry_sync,value=spell_targets.blade_flurry<2&raid_event.adds.in>20||buff.blade_flurry.remains>gcd\nactions+=/call_action_list,name=cds\n# High priority stealth list, will fall through if no conditions are met\nactions+=/call_action_list,name=stealth,strict=1,if=stealthed.all\nactions+=/run_action_list,name=finish,strict=1,if=variable.finish_condition\nactions+=/call_action_list,name=build\nactions+=/arcane_torrent,if=energy.base_deficit>=15+energy.regen\nactions+=/arcane_pulse\nactions+=/lights_judgment\nactions+=/bag_of_tricks\n\n# Builders\nactions.build+=/echoing_reprimand\n# High priority Ambush for Hidden Opportunity builds\nactions.build+=/ambush,if=talent.hidden_opportunity&buff.audacity.up\n# With Audacity + Hidden Opportunity + Fan the Hammer, consume Opportunity to proc Audacity any time Ambush is not available\nactions.build+=/pistol_shot,if=talent.fan_the_hammer&talent.audacity&talent.hidden_opportunity&buff.opportunity.up&!buff.audacity.up\n# With Fan the Hammer, consume Opportunity as a higher priority if at max stacks or if it will expire\nactions.build+=/pistol_shot,if=talent.fan_the_hammer&buff.opportunity.up&(buff.opportunity.stack>=buff.opportunity.max_stack||buff.opportunity.remains<2)\n# With Fan the Hammer, consume Opportunity if it will not overcap CPs, or with 1 CP at minimum\nactions.build+=/pistol_shot,if=talent.fan_the_hammer&buff.opportunity.up&(combo_points.deficit>=(1+(talent.quick_draw+buff.broadside.up)*(talent.fan_the_hammer.rank+1))||combo_points<=talent.ruthlessness)\n# If not using Fan the Hammer, then consume Opportunity based on energy, when it will exactly cap CPs, or when using Quick Draw\nactions.build+=/pistol_shot,if=!talent.fan_the_hammer&buff.opportunity.up&(energy.base_deficit>energy.regen*1.5||combo_points.deficit<=1+buff.broadside.up||talent.quick_draw.enabled||talent.audacity.enabled&!buff.audacity.up)\n# Fallback pooling just so Sinister Strike is never casted if Ambush is available for Hidden Opportunity builds\nactions.build+=/pool_resource,for_next=1\nactions.build+=/ambush,if=talent.hidden_opportunity\nactions.build+=/sinister_strike\n\n# Cooldowns  Use Adrenaline Rush if it is not active and the finisher condition is not met, but Crackshot builds can refresh it with 2cp or lower inside stealth\nactions.cds+=/adrenaline_rush,if=!buff.adrenaline_rush.up&(!variable.finish_condition||!talent.improved_adrenaline_rush)||stealthed.all&talent.crackshot&talent.improved_adrenaline_rush&combo_points<=2\n# Maintain Blade Flurry on 2+ targets\nactions.cds+=/blade_flurry,if=spell_targets>=2&buff.blade_flurry.remains<gcd\n# With Deft Maneuvers, use Blade Flurry on cooldown at 5+ targets, or at 3-4 targets if missing combo points equal to the amount given\nactions.cds+=/blade_flurry,if=talent.deft_maneuvers&!variable.finish_condition&(spell_targets>=3&combo_points.deficit=spell_targets+buff.broadside.up||spell_targets>=5)\n# Use Roll the Bones if reroll conditions are met, or with no buffs, or 2s before buffs expire with T31, or 7s before buffs expire with Vanish ready\nactions.cds+=/roll_the_bones,if=variable.rtb_reroll||rtb_buffs=0||rtb_buffs.max_remains<=2&set_bonus.tier31_4pc||rtb_buffs.max_remains<=7&cooldown.vanish.ready&talent.crackshot\n# Use Keep it Rolling with at least 3 buffs that are not Buried Treasure. If Broadside is not active, then wait until just before the lowest buff expires.\nactions.cds+=/keep_it_rolling,if=rtb_buffs>=3+(buff.buried_treasure.up||set_bonus.tier31_4pc)&(rtb_buffs.min_remains<2||buff.broadside.up)\nactions.cds+=/ghostly_strike,if=combo_points<cp_max_spend\n# Trinkets that should not be used during stealth and have higher priority than entering stealth\nactions.cds+=/use_item,name=manic_grieftorch,if=!stealthed.all&buff.between_the_eyes.up||fight_remains<=5\nactions.cds+=/use_item,name=beacon_to_the_beyond,if=!stealthed.all&buff.between_the_eyes.up||fight_remains<=5\nactions.cds+=/use_item,name=imperfect_ascendancy_serum,if=!stealthed.all||fight_remains<=22\n# Killing Spree has higher priority than stealth cooldowns\nactions.cds+=/killing_spree,if=variable.finish_condition&!stealthed.all\n# Crackshot builds use stealth cooldowns if Between the Eyes is ready\nactions.cds+=/call_action_list,name=stealth_cds,if=!stealthed.all&(!talent.crackshot||cooldown.between_the_eyes.ready)\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&(energy.base_deficit>=150||fight_remains<charges*6)\n# Use Blade Rush at minimal energy outside of stealth\nactions.cds+=/blade_rush,if=energy.base_time_to_max>4&!stealthed.all\nactions.cds+=/potion,if=buff.bloodlust.react||fight_remains<30||buff.adrenaline_rush.up\nactions.cds+=/blood_fury\nactions.cds+=/berserking\nactions.cds+=/fireblood\nactions.cds+=/ancestral_call\n# Default conditions for usable items.\nactions.cds+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1,if=gcd.remains<=action.sinister_strike.gcd%2\n# Use Bomb Dispenser on cooldown, but hold if 2nd trinket is nearly off cooldown, unless at max charges or sim duration ends soon\nactions.cds+=/use_item,name=dragonfire_bomb_dispenser,use_off_gcd=1,if=gcd.remains<=action.sinister_strike.gcd%2&((!trinket.1.is.dragonfire_bomb_dispenser&trinket.1.cooldown.remains>10||trinket.2.cooldown.remains>10)||cooldown.dragonfire_bomb_dispenser.charges>2||fight_remains<20||!trinket.2.has_cooldown||!trinket.1.has_cooldown)\nactions.cds+=/use_item,name=stormeaters_boon,if=spell_targets.blade_flurry>desired_targets||raid_event.adds.in>60||raid_event.adds.count<2||fight_remains<10\nactions.cds+=/use_item,name=enduring_dreadplate,if=spell_targets.blade_flurry>desired_targets||raid_event.adds.in>60||raid_event.adds.count<2||fight_remains<16\nactions.cds+=/use_item,name=windscar_whetstone,if=spell_targets.blade_flurry>desired_targets||raid_event.adds.in>60||raid_event.adds.count<2||fight_remains<7\nactions.cds+=/use_items,slots=trinket1,if=buff.between_the_eyes.up||trinket.1.has_stat.any_dps||fight_remains<=20\nactions.cds+=/use_items,slots=trinket2,if=buff.between_the_eyes.up||trinket.2.has_stat.any_dps||fight_remains<=20\n\n# Finishers  Use Between the Eyes to keep the crit buff up, but on cooldown if Improved/Greenskins, and avoid overriding Greenskins\nactions.finish+=/between_the_eyes,if=!talent.crackshot&(buff.between_the_eyes.remains<4||talent.improved_between_the_eyes||talent.greenskins_wickers)&!buff.greenskins_wickers.up\n# Crackshot builds use Between the Eyes outside of Stealth if we will not enter a Stealth window before the next cast\nactions.finish+=/between_the_eyes,if=talent.crackshot&cooldown.vanish.remains>45&(raid_event.adds.remains>8||raid_event.adds.in<raid_event.adds.remains||!raid_event.adds.up)\nactions.finish+=/slice_and_dice,if=buff.slice_and_dice.remains<fight_remains&refreshable\nactions.finish+=/cold_blood\nactions.finish+=/coup_de_grace\nactions.finish+=/dispatch\n\n# Stealth\nactions.stealth+=/blade_flurry,if=talent.subterfuge&talent.hidden_opportunity&spell_targets>=2&buff.blade_flurry.remains<gcd\nactions.stealth+=/cold_blood,if=variable.finish_condition\n# Ensure Crackshot BtE is not skipped because of low energy\nactions.stealth+=/pool_resource,for_next=1\n# High priority Between the Eyes for Crackshot, except not directly out of Shadowmeld\nactions.stealth+=/between_the_eyes,if=variable.finish_condition&talent.crackshot&(!buff.shadowmeld.up||stealthed.rogue)\nactions.stealth+=/dispatch,if=variable.finish_condition\n# 2 Fan the Hammer Crackshot builds can consume Opportunity in stealth with max stacks, Broadside, and low CPs, or with Greenskins active\nactions.stealth+=/pistol_shot,if=talent.crackshot&talent.fan_the_hammer.rank>=2&buff.opportunity.stack>=6&(buff.broadside.up&combo_points<=1||buff.greenskins_wickers.up)\nactions.stealth+=/ambush,if=talent.hidden_opportunity\n\n# Stealth Cooldowns  Builds with Underhanded Upper Hand and Subterfuge (and Without a Trace for Crackshot) must use Vanish while Adrenaline Rush is active\nactions.stealth_cds+=/vanish,if=talent.underhanded_upper_hand&talent.subterfuge&(buff.adrenaline_rush.up||!talent.without_a_trace&talent.crackshot)&(variable.finish_condition||!talent.crackshot&(variable.ambush_condition||!talent.hidden_opportunity))\n# Builds without Underhanded Upper Hand but with Crackshot must still use Vanish into Between the Eyes on cooldown\nactions.stealth_cds+=/vanish,if=!talent.underhanded_upper_hand&talent.crackshot&variable.finish_condition\n# Builds without Underhanded Upper Hand and Crackshot but still Hidden Opportunity use Vanish into Ambush when Audacity is not active and under max Opportunity stacks\nactions.stealth_cds+=/vanish,if=!talent.underhanded_upper_hand&!talent.crackshot&talent.hidden_opportunity&!buff.audacity.up&buff.opportunity.stack<buff.opportunity.max_stack&variable.ambush_condition\n# Builds without Underhanded Upper Hand, Crackshot, and Hidden Opportunity use Vanish into a builder to activate Double Jeopardy without breaking the current coin streak, or to activate Take 'em by Surprise\nactions.stealth_cds+=/vanish,if=!talent.underhanded_upper_hand&!talent.crackshot&!talent.hidden_opportunity&(!variable.finish_condition&talent.double_jeopardy||!buff.take_em_by_surprise.up&talent.take_em_by_surprise)\nactions.stealth_cds+=/shadowmeld,if=variable.finish_condition&!cooldown.vanish.ready",
					["spec"] = 260,
				},
				["Retribution"] = {
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 70,
					["desc"] = "2024-07-23: The War Within",
					["profile"] =
					"actions.precombat+=/shield_of_vengeance\nactions.precombat+=/variable,name=trinket_1_buffs,value=trinket.1.has_buff.strength||trinket.1.has_buff.mastery||trinket.1.has_buff.versatility||trinket.1.has_buff.haste||trinket.1.has_buff.crit\nactions.precombat+=/variable,name=trinket_2_buffs,value=trinket.2.has_buff.strength||trinket.2.has_buff.mastery||trinket.2.has_buff.versatility||trinket.2.has_buff.haste||trinket.2.has_buff.crit\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_1_buffs&(trinket.1.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.1.cooldown.duration=0||trinket.1.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.1.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=variable.trinket_2_buffs&(trinket.2.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.2.cooldown.duration=0||trinket.2.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.2.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.2.cooldown.duration%trinket.2.proc.any_dps.duration)*(1.5+trinket.2.has_buff.strength)*(variable.trinket_2_sync))>((trinket.1.cooldown.duration%trinket.1.proc.any_dps.duration)*(1.5+trinket.1.has_buff.strength)*(variable.trinket_1_sync))\n\nactions+=/rebuke\nactions+=/call_action_list,name=cooldowns\nactions+=/call_action_list,name=generators\n\nactions.cooldowns+=/potion,if=buff.avenging_wrath.up||buff.crusade.up||debuff.execution_sentence.up||boss&fight_remains<30\n## actions.cooldowns+=/invoke_external_buff,name=power_infusion,if=buff.avenging_wrath.up||buff.crusade.up\nactions.cooldowns+=/lights_judgment,if=spell_targets.lights_judgment>=2||!raid_event.adds.exists||raid_event.adds.in>75||raid_event.adds.up\nactions.cooldowns+=/fireblood,if=buff.avenging_wrath.up||buff.crusade.up&buff.crusade.stack=10\nactions.cooldowns+=/use_item,name=algethar_puzzle_box,if=(cooldown.avenging_wrath.remains<5&!talent.crusade||cooldown.crusade.remains<5&talent.crusade)&(holy_power>=4&time<5||holy_power>=3&time>5)\nactions.cooldowns+=/use_item,slot=trinket1,if=(buff.avenging_wrath.up&cooldown.avenging_wrath.remains>40||buff.crusade.up&buff.crusade.stack=10)&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1)||trinket.1.proc.any_dps.duration>=fight_remains\nactions.cooldowns+=/use_item,slot=trinket2,if=(buff.avenging_wrath.up&cooldown.avenging_wrath.remains>40||buff.crusade.up&buff.crusade.stack=10)&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2)||trinket.2.proc.any_dps.duration>=fight_remains\nactions.cooldowns+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&(trinket.2.cooldown.remains||!variable.trinket_2_buffs||!buff.crusade.up&cooldown.crusade.remains>20||!buff.avenging_wrath.up&cooldown.avenging_wrath.remains>20)\nactions.cooldowns+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&(trinket.1.cooldown.remains||!variable.trinket_1_buffs||!buff.crusade.up&cooldown.crusade.remains>20||!buff.avenging_wrath.up&cooldown.avenging_wrath.remains>20)\nactions.cooldowns+=/use_item,name=shadowed_razing_annihilator,if=(trinket.2.cooldown.remains||!variable.trinket_2_buffs)&(trinket.2.cooldown.remains||!variable.trinket_2_buffs)\nactions.cooldowns+=/use_item,name=fyralath_the_dreamrender,if=dot.mark_of_fyralath.ticking&!buff.avenging_wrath.up&!buff.crusade.up\nactions.cooldowns+=/shield_of_vengeance,if=fight_remains>15&(!talent.execution_sentence||!debuff.execution_sentence.up)\nactions.cooldowns+=/execution_sentence,if=(!buff.crusade.up&cooldown.crusade.remains>15||buff.crusade.stack=10||cooldown.avenging_wrath.remains<0.75||cooldown.avenging_wrath.remains>15||talent.radiant_glory)&(holy_power>=4&time<5||holy_power>=3&time>5||holy_power>=2&talent.divine_auxiliary)&(target.time_to_die>8&!talent.executioners_will||target.time_to_die>12)\nactions.cooldowns+=/avenging_wrath,if=(holy_power>=4&time<5||holy_power>=3&time>5||holy_power>=2&talent.divine_auxiliary&(cooldown.execution_sentence.remains=0||cooldown.final_reckoning.remains=0))&(!raid_event.adds.up||target.time_to_die>10)\nactions.cooldowns+=/crusade,if=holy_power>=5&time<5||holy_power>=3&time>5\nactions.cooldowns+=/final_reckoning,if=(holy_power>=4&time<8||holy_power>=3&time>=8||holy_power>=2&talent.divine_auxiliary)&(cooldown.avenging_wrath.remains>10||cooldown.crusade.remains&(!buff.crusade.up||buff.crusade.stack>=10)||talent.radiant_glory&(buff.avenging_wrath.up||buff.crusade.up))&(!raid_event.adds.exists||raid_event.adds.up||raid_event.adds.in>40)\n\nactions.finishers+=/variable,name=ds_castable,value=(spell_targets.divine_storm>=3||spell_targets.divine_storm>=2&!talent.divine_arbiter||buff.empyrean_power.up)&!buff.empyrean_legacy.up&!(buff.divine_arbiter.up&buff.divine_arbiter.stack>24)\nactions.finishers+=/divine_hammer\nactions.finishers+=/divine_storm,if=variable.ds_castable&(!talent.crusade||cooldown.crusade.remains>gcd*3||buff.crusade.up&buff.crusade.stack<10||talent.radiant_glory)\nactions.finishers+=/justicars_vengeance,if=!talent.crusade||cooldown.crusade.remains>gcd*3||buff.crusade.up&buff.crusade.stack<10||talent.radiant_glory\nactions.finishers+=/templars_verdict,if=!talent.crusade||cooldown.crusade.remains>gcd*3||buff.crusade.up&buff.crusade.stack<10||talent.radiant_glory\n\nactions.generators+=/call_action_list,name=finishers,strict=1,if=holy_power=5||buff.echoes_of_wrath.up&set_bonus.tier31_4pc&talent.crusading_strikes||(debuff.judgment.up||holy_power=4)&buff.divine_resonance.up&!set_bonus.tier31_2pc\nactions.generators+=/wake_of_ashes,if=holy_power<=2&(cooldown.avenging_wrath.remains>6||cooldown.crusade.remains>6||talent.radiant_glory)&(!talent.execution_sentence||cooldown.execution_sentence.remains>4||target.time_to_die<8)&(!raid_event.adds.exists||raid_event.adds.in>20||raid_event.adds.up)\nactions.generators+=/blade_of_justice,if=!dot.expurgation.ticking&set_bonus.tier31_2pc\nactions.generators+=/divine_toll,if=holy_power<=2&(!raid_event.adds.exists||raid_event.adds.in>30||raid_event.adds.up)&(cooldown.avenging_wrath.remains>15||cooldown.crusade.remains>15||talent.radiant_glory||boss&fight_remains<8)\nactions.generators+=/judgment,if=dot.expurgation.ticking&!buff.echoes_of_wrath.up&set_bonus.tier31_2pc\nactions.generators+=/call_action_list,name=finishers,strict=1,if=holy_power>=3&buff.crusade.up&buff.crusade.stack<10\nactions.generators+=/templar_slash,if=buff.templar_strikes.remains<gcd&spell_targets.divine_storm>=2\nactions.generators+=/blade_of_justice,if=(holy_power<=3||!talent.holy_blade)&(spell_targets.divine_storm>=2&!talent.crusading_strikes||spell_targets.divine_storm>=4)\nactions.generators+=/hammer_of_wrath,if=(spell_targets.divine_storm<2||!talent.blessed_champion)&(holy_power<=3||target.health.pct>20||!talent.vanguards_momentum)\nactions.generators+=/templar_slash,if=buff.templar_strikes.remains<gcd\nactions.generators+=/judgment,if=!debuff.judgment.up&(holy_power<=3||!talent.boundless_judgment)\nactions.generators+=/blade_of_justice,if=holy_power<=3||!talent.holy_blade\nactions.generators+=/judgment,if=holy_power<=3||!talent.boundless_judgment\nactions.generators+=/call_action_list,name=finishers,strict=1,if=(target.health.pct<=20||buff.avenging_wrath.up||buff.crusade.up||buff.empyrean_power.up)\nactions.generators+=/crusader_strike,if=cooldown.crusader_strike.charges_fractional>=1.75&(holy_power<=2||holy_power<=3&cooldown.blade_of_justice.remains>gcd*2||holy_power=4&cooldown.blade_of_justice.remains>gcd*2&cooldown.judgment.remains>gcd*2)\nactions.generators+=/call_action_list,name=finishers\nactions.generators+=/templar_slash\nactions.generators+=/templar_strike\nactions.generators+=/hammer_of_wrath,if=holy_power<=3||target.health.pct>20||!talent.vanguards_momentum\nactions.generators+=/crusader_strike\nactions.generators+=/arcane_torrent",
					["version"] = 20240805,
					["warnings"] =
					"The import for 'precombat' required some automated changes.\nLine 2: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 2: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_buff.mastery' (1x).\nLine 2: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_buff.versatility' (1x).\nLine 2: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_buff.haste' (1x).\nLine 2: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_buff.crit' (1x).\nLine 2: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 3: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_buff.mastery' (1x).\nLine 3: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_buff.versatility' (1x).\nLine 3: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_buff.haste' (1x).\nLine 3: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_use_buff' (1x).\nLine 3: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_buff.crit' (1x).\nLine 3: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted operations in 'variable.trinket_1_buffs&(trinket.t1.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.t1.cooldown.duration=0||trinket.t1.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.t1.cooldown.duration=0)' to 'variable.trinket_1_buffs&(trinket.t1.cooldown.duration%cooldown.crusade.duration=0||cooldown.crusade.duration%trinket.t1.cooldown.duration=0||trinket.t1.cooldown.duration%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%trinket.t1.cooldown.duration=0)'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted operations in 'variable.trinket_2_buffs&(trinket.t2.cooldown.duration%%cooldown.crusade.duration=0||cooldown.crusade.duration%%trinket.t2.cooldown.duration=0||trinket.t2.cooldown.duration%%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%%trinket.t2.cooldown.duration=0)' to 'variable.trinket_2_buffs&(trinket.t2.cooldown.duration%cooldown.crusade.duration=0||cooldown.crusade.duration%trinket.t2.cooldown.duration=0||trinket.t2.cooldown.duration%cooldown.avenging_wrath.duration=0||cooldown.avenging_wrath.duration%trinket.t2.cooldown.duration=0)'.\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 6: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_buff.strength' (1x).\nLine 6: Converted 'trinket.2.has_buff.strength' to 'trinket.t2.has_use_buff' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 6: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 6: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 6: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_buff.strength' (1x).\nLine 6: Converted 'trinket.1.has_buff.strength' to 'trinket.t1.has_use_buff' (1x).\nLine 6: Converted operations in '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration%trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration%trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))' to '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration/trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration/trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))'.\nThe following auras were used in the action list but were not found in the addon database:\n - crit\n\nThe import for 'cooldowns' required some automated changes.\nLine 4: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 4: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 5: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 5: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 5: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 6: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 6: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 6: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 11: Converted 'talent.execution_sentence' to 'talent.execution_sentence.enabled' (1x).\nLine 12: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\nLine 12: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\nLine 12: Converted 'talent.executioners_will' to 'talent.executioners_will.enabled' (1x).\nLine 13: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\nLine 15: Converted 'talent.divine_auxiliary' to 'talent.divine_auxiliary.enabled' (1x).\nLine 15: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\n\nThe import for 'finishers' required some automated changes.\nLine 1: Converted 'talent.divine_arbiter' to 'talent.divine_arbiter.enabled' (1x).\nLine 3: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 3: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\nLine 4: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 4: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\nLine 5: Converted 'talent.crusade' to 'talent.crusade.enabled' (1x).\nLine 5: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\n\nThe import for 'generators' required some automated changes.\nLine 1: Converted 'talent.crusading_strikes' to 'talent.crusading_strikes.enabled' (1x).\nLine 2: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\nLine 2: Converted 'talent.execution_sentence' to 'talent.execution_sentence.enabled' (1x).\nLine 4: Converted 'talent.radiant_glory' to 'talent.radiant_glory.enabled' (1x).\nLine 8: Converted 'talent.holy_blade' to 'talent.holy_blade.enabled' (1x).\nLine 8: Converted 'talent.crusading_strikes' to 'talent.crusading_strikes.enabled' (1x).\nLine 9: Converted 'talent.blessed_champion' to 'talent.blessed_champion.enabled' (1x).\nLine 9: Converted 'talent.vanguards_momentum' to 'talent.vanguards_momentum.enabled' (1x).\nLine 11: Converted 'talent.boundless_judgment' to 'talent.boundless_judgment.enabled' (1x).\nLine 12: Converted 'talent.holy_blade' to 'talent.holy_blade.enabled' (1x).\nLine 13: Converted 'talent.boundless_judgment' to 'talent.boundless_judgment.enabled' (1x).\nLine 19: Converted 'talent.vanguards_momentum' to 'talent.vanguards_momentum.enabled' (1x).\n\nImported 5 action lists.\n",
					["author"] = "SimC",
					["lists"] = {
						["default"] = {
							{
								["action"] = "rebuke",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldowns",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "generators",
							},
						},
						["precombat"] = {
							{
								["action"] = "shield_of_vengeance",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff",
								["var_name"] = "trinket_1_buffs",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff",
								["var_name"] = "trinket_2_buffs",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_1_sync",
								["criteria"] =
								"variable.trinket_1_buffs & ( trinket.t1.cooldown.duration % cooldown.crusade.duration = 0 || cooldown.crusade.duration % trinket.t1.cooldown.duration = 0 || trinket.t1.cooldown.duration % cooldown.avenging_wrath.duration = 0 || cooldown.avenging_wrath.duration % trinket.t1.cooldown.duration = 0 )",
								["value_else"] = "0.5",
								["value"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_2_sync",
								["criteria"] =
								"variable.trinket_2_buffs & ( trinket.t2.cooldown.duration % cooldown.crusade.duration = 0 || cooldown.crusade.duration % trinket.t2.cooldown.duration = 0 || trinket.t2.cooldown.duration % cooldown.avenging_wrath.duration = 0 || cooldown.avenging_wrath.duration % trinket.t2.cooldown.duration = 0 )",
								["value_else"] = "0.5",
								["value"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_priority",
								["criteria"] =
								"! variable.trinket_1_buffs & variable.trinket_2_buffs || variable.trinket_2_buffs & ( ( trinket.t2.cooldown.duration / trinket.t2.buff_duration ) * ( 1.5 + trinket.t2.has_use_buff ) * ( variable.trinket_2_sync ) ) > ( ( trinket.t1.cooldown.duration / trinket.t1.buff_duration ) * ( 1.5 + trinket.t1.has_use_buff ) * ( variable.trinket_1_sync ) )",
								["value_else"] = "1",
								["value"] = "2",
							},
						},
						["generators"] = {
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] =
								"holy_power = 5 || buff.echoes_of_wrath.up & set_bonus.tier31_4pc & talent.crusading_strikes.enabled || ( debuff.judgment.up || holy_power = 4 ) & buff.divine_resonance.up & ! set_bonus.tier31_2pc",
								["list_name"] = "finishers",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"holy_power <= 2 & ( cooldown.avenging_wrath.remains > 6 || cooldown.crusade.remains > 6 || talent.radiant_glory.enabled ) & ( ! talent.execution_sentence.enabled || cooldown.execution_sentence.remains > 4 || target.time_to_die < 8 ) & ( ! raid_event.adds.exists || raid_event.adds.in > 20 || raid_event.adds.up )",
								["action"] = "wake_of_ashes",
							},
							{
								["enabled"] = true,
								["criteria"] = "! dot.expurgation.ticking & set_bonus.tier31_2pc",
								["action"] = "blade_of_justice",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"holy_power <= 2 & ( ! raid_event.adds.exists || raid_event.adds.in > 30 || raid_event.adds.up ) & ( cooldown.avenging_wrath.remains > 15 || cooldown.crusade.remains > 15 || talent.radiant_glory.enabled || boss & fight_remains < 8 )",
								["action"] = "divine_toll",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"dot.expurgation.ticking & ! buff.echoes_of_wrath.up & set_bonus.tier31_2pc",
								["action"] = "judgment",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "holy_power >= 3 & buff.crusade.up & buff.crusade.stack < 10",
								["list_name"] = "finishers",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.templar_strikes.remains < gcd.max & spell_targets.divine_storm >= 2",
								["action"] = "templar_slash",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( holy_power <= 3 || ! talent.holy_blade.enabled ) & ( spell_targets.divine_storm >= 2 & ! talent.crusading_strikes.enabled || spell_targets.divine_storm >= 4 )",
								["action"] = "blade_of_justice",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( spell_targets.divine_storm < 2 || ! talent.blessed_champion.enabled ) & ( holy_power <= 3 || target.health.pct > 20 || ! talent.vanguards_momentum.enabled )",
								["action"] = "hammer_of_wrath",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.templar_strikes.remains < gcd.max",
								["action"] = "templar_slash",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! debuff.judgment.up & ( holy_power <= 3 || ! talent.boundless_judgment.enabled )",
								["action"] = "judgment",
							},
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 3 || ! talent.holy_blade.enabled",
								["action"] = "blade_of_justice",
							},
							{
								["enabled"] = true,
								["criteria"] = "holy_power <= 3 || ! talent.boundless_judgment.enabled",
								["action"] = "judgment",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] =
								"( target.health.pct <= 20 || buff.avenging_wrath.up || buff.crusade.up || buff.empyrean_power.up )",
								["list_name"] = "finishers",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"cooldown.crusader_strike.charges_fractional >= 1.75 & ( holy_power <= 2 || holy_power <= 3 & cooldown.blade_of_justice.remains > gcd.max * 2 || holy_power = 4 & cooldown.blade_of_justice.remains > gcd.max * 2 & cooldown.judgment.remains > gcd.max * 2 )",
								["action"] = "crusader_strike",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "finishers",
							},
							{
								["action"] = "templar_slash",
								["enabled"] = true,
							},
							{
								["action"] = "templar_strike",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"holy_power <= 3 || target.health.pct > 20 || ! talent.vanguards_momentum.enabled",
								["action"] = "hammer_of_wrath",
							},
							{
								["action"] = "crusader_strike",
								["enabled"] = true,
							},
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							},
						},
						["finishers"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( spell_targets.divine_storm >= 3 || spell_targets.divine_storm >= 2 & ! talent.divine_arbiter.enabled || buff.empyrean_power.up ) & ! buff.empyrean_legacy.up & ! ( buff.divine_arbiter.up & buff.divine_arbiter.stack > 24 )",
								["var_name"] = "ds_castable",
							},
							{
								["action"] = "divine_hammer",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.ds_castable & ( ! talent.crusade.enabled || cooldown.crusade.remains > gcd.max * 3 || buff.crusade.up & buff.crusade.stack < 10 || talent.radiant_glory.enabled )",
								["action"] = "divine_storm",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.crusade.enabled || cooldown.crusade.remains > gcd.max * 3 || buff.crusade.up & buff.crusade.stack < 10 || talent.radiant_glory.enabled",
								["action"] = "justicars_vengeance",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.crusade.enabled || cooldown.crusade.remains > gcd.max * 3 || buff.crusade.up & buff.crusade.stack < 10 || talent.radiant_glory.enabled",
								["action"] = "templars_verdict",
							},
						},
						["cooldowns"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"buff.avenging_wrath.up || buff.crusade.up || debuff.execution_sentence.up || boss & fight_remains < 30",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets.lights_judgment >= 2 || ! raid_event.adds.exists || raid_event.adds.in > 75 || raid_event.adds.up",
								["action"] = "lights_judgment",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.avenging_wrath.up || buff.crusade.up & buff.crusade.stack = 10",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
								["criteria"] =
								"( cooldown.avenging_wrath.remains < 5 & ! talent.crusade.enabled || cooldown.crusade.remains < 5 & talent.crusade.enabled ) & ( holy_power >= 4 & time < 5 || holy_power >= 3 & time > 5 )",
							},
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] =
								"( buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 40 || buff.crusade.up & buff.crusade.stack = 10 ) & ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains || variable.trinket_priority = 1 ) || trinket.t1.buff_duration >= fight_remains",
								["slot"] = "trinket1",
							},
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] =
								"( buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 40 || buff.crusade.up & buff.crusade.stack = 10 ) & ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains || variable.trinket_priority = 2 ) || trinket.t2.buff_duration >= fight_remains",
								["slot"] = "trinket2",
							},
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["criteria"] =
								"! variable.trinket_1_buffs & ( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs || ! buff.crusade.up & cooldown.crusade.remains > 20 || ! buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 20 )",
								["slot"] = "trinket1",
							},
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] =
								"! variable.trinket_2_buffs & ( trinket.t1.cooldown.remains || ! variable.trinket_1_buffs || ! buff.crusade.up & cooldown.crusade.remains > 20 || ! buff.avenging_wrath.up & cooldown.avenging_wrath.remains > 20 )",
								["slot"] = "trinket2",
							},
							{
								["enabled"] = true,
								["name"] = "shadowed_razing_annihilator",
								["action"] = "shadowed_razing_annihilator",
								["criteria"] =
								"( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs ) & ( trinket.t2.cooldown.remains || ! variable.trinket_2_buffs )",
							},
							{
								["enabled"] = true,
								["name"] = "fyralath_the_dreamrender",
								["action"] = "fyralath_the_dreamrender",
								["criteria"] =
								"dot.mark_of_fyralath.ticking & ! buff.avenging_wrath.up & ! buff.crusade.up",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"fight_remains > 15 & ( ! talent.execution_sentence.enabled || ! debuff.execution_sentence.up )",
								["action"] = "shield_of_vengeance",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! buff.crusade.up & cooldown.crusade.remains > 15 || buff.crusade.stack = 10 || cooldown.avenging_wrath.remains < 0.75 || cooldown.avenging_wrath.remains > 15 || talent.radiant_glory.enabled ) & ( holy_power >= 4 & time < 5 || holy_power >= 3 & time > 5 || holy_power >= 2 & talent.divine_auxiliary.enabled ) & ( target.time_to_die > 8 & ! talent.executioners_will.enabled || target.time_to_die > 12 )",
								["action"] = "execution_sentence",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( holy_power >= 4 & time < 5 || holy_power >= 3 & time > 5 || holy_power >= 2 & talent.divine_auxiliary.enabled & ( cooldown.execution_sentence.remains = 0 || cooldown.final_reckoning.remains = 0 ) ) & ( ! raid_event.adds.up || target.time_to_die > 10 )",
								["action"] = "avenging_wrath",
							},
							{
								["enabled"] = true,
								["criteria"] = "holy_power >= 5 & time < 5 || holy_power >= 3 & time > 5",
								["action"] = "crusade",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( holy_power >= 4 & time < 8 || holy_power >= 3 & time >= 8 || holy_power >= 2 & talent.divine_auxiliary.enabled ) & ( cooldown.avenging_wrath.remains > 10 || cooldown.crusade.remains & ( ! buff.crusade.up || buff.crusade.stack >= 10 ) || talent.radiant_glory.enabled & ( buff.avenging_wrath.up || buff.crusade.up ) ) & ( ! raid_event.adds.exists || raid_event.adds.up || raid_event.adds.in > 40 )",
								["action"] = "final_reckoning",
							},
						},
					},
				},
				["Discipline"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240730,
					["author"] = "SimC",
					["desc"] = "Healer priorities are DPS-focused only\n\n2024-07-30: The War Within",
					["lists"] = {
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldowns",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"! buff.twilight_equilibrium_holy_amp.up & ! buff.twilight_equilibrium_shadow_amp.up",
								["var_name"] = "te_none",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.twilight_equilibrium_shadow_amp.up || variable.te_none",
								["description"] = "Twilight Equilibrium is buffing shadow damage",
								["var_name"] = "te_shadow",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.twilight_equilibrium_holy_amp.up || variable.te_none",
								["description"] = "Twilight Equilibrium is buffing holy damage",
								["var_name"] = "te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.shadow_covenant.enabled",
								["description"] = "Long Shadow covenant is enabled",
								["var_name"] = "long_scov",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.shadowfiend.up || buff.shadow_covenant.up",
								["description"] = "Ready to start shadow covenant phase",
								["var_name"] = "can_enter_scov",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "2",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.mind_blast.execute_time",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration_max",
								["criteria"] = "talent.dark_indulgence.enabled",
								["description"] = "penance",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.shadow_word_death.execute_time",
								["criteria"] = "talent.shadow_word_death.enabled",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.shadow_word_death.execute_time",
								["criteria"] =
								"talent.shadow_word_death.enabled & talent.death_and_madness.enabled & target.health.pct < 20",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.mindgames.execute_time",
								["criteria"] = "talent.mindgames.enabled",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.divine_star.execute_time",
								["criteria"] = "talent.divine_star.enabled",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.halo.execute_time",
								["criteria"] = "talent.halo.enabled",
								["var_name"] = "shadow_spells_duration_max",
							},
							{
								["enabled"] = true,
								["op"] = "floor",
								["action"] = "variable",
								["value"] =
								"( buff.shadow_covenant.duration - variable.shadow_spells_duration_max ) / gcd.max",
								["description"] =
								"(scov duration - shadow spells duration) / GCD time = estimate of holy spells we should need to use during the next scov window  Long scov example: (15 - 12) / 1.5 = 2 GCDs to spend on holy spells  Short scov example: (7 - 12) / 1.5 = -3.3 GCDs to spend on holy spells (none)",
								["var_name"] = "max_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["description"] =
								"Counting variable, the number of non-fractional remaining holy casts available",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "variable.max_te_holy",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"TODO: duration_expected is buggy on penance/dark reprimand, using a static reduction as a stand-in for now",
								["criteria"] = "talent.train_of_thought.enabled",
								["value"] = "2",
								["action"] = "variable",
								["value_else"] = "0",
								["var_name"] = "expected_penance_reduction",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["description"] =
								"Calculate how much cast time worth of shadow spells we have currently available. We use shadow_spells_duration to determine if we have time to weave in any holy spells to proc twilight equilibrium.",
								["var_name"] = "shadow_spells_duration",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"cooldown.penance.up || ( ( cooldown.penance.remains - variable.expected_penance_reduction ) < buff.shadow_covenant.remains )",
								["description"] = "Penance",
								["value"] = "2",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"cooldown.mindgames.up || ( cooldown.mindgames.remains_expected < buff.shadow_covenant.remains )",
								["description"] = "Mindgames",
								["value"] = "action.mindgames.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"cooldown.shadow_word_death.up || ( cooldown.shadow_word_death.remains < buff.shadow_covenant.remains )",
								["description"] = "We always get the first SW:D",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"( cooldown.shadow_word_death.up || ( cooldown.shadow_word_death.remains < buff.shadow_covenant.remains ) ) & ( target.health.pct < 20 || target.time_to_pct_20 < cooldown.shadow_word_death.remains ) & talent.death_and_madness.enabled",
								["description"] = "Second SW:D only when talented and target health in execute range",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] = "action.mind_blast.charges >= 1",
								["description"] = "Add any whole charges of mind blast",
								["value"] = "action.mind_blast.charges * action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"( ( action.mind_blast.charges_fractional >= 1 & action.mind_blast.charges_fractional < 2 ) & ( ( ( 1 - ( action.mind_blast.charges_fractional - 1 ) ) * action.mind_blast.recharge_time ) < buff.shadow_covenant.remains ) ) || ( ( action.mind_blast.charges_fractional < 1 ) & ( ( ( 1 - action.mind_blast.charges_fractional ) * action.mind_blast.recharge_time ) < buff.shadow_covenant.remains ) )",
								["description"] = "Add any fractional charges of mindblast that will recharge in time",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"cooldown.divine_star.up || ( cooldown.divine_star.remains < buff.shadow_covenant.remains )",
								["description"] = "Divine Star",
								["value"] = "action.divine_star.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "shadow_spells_duration",
								["criteria"] =
								"cooldown.halo.up || ( cooldown.halo.remains < buff.shadow_covenant.remains )",
								["description"] = "Halo",
								["value"] = "action.halo.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"Determine if we have enough scov time remaining to weave in a twilight equilibrium activation. If we don't have TE talented, always false. Using smite's execution time to represent a worst-case scenario.",
								["criteria"] = "talent.twilight_equilibrium.enabled",
								["value"] =
								"( buff.shadow_covenant.remains - variable.shadow_spells_duration ) > action.smite.execute_time",
								["action"] = "variable",
								["value_else"] = "0",
								["var_name"] = "should_te",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.shadowfiend.remains + action.shadowfiend.execute_time",
								["description"] =
								"First casts should always be HD prep->covenant->schism->HD dark reprimand",
								["var_name"] = "next_penance_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_penance_time",
								["criteria"] = "variable.remaining_te_holy > 0",
								["description"] =
								"If we have enough scov duration, add a holy cast to proc twilight equilibrium",
								["value"] = "gcd.max",
							},
							{
								["enabled"] = true,
								["op"] = "sub",
								["action"] = "variable",
								["value"] = "1",
								["description"] = "Reduce our counting variable",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( cooldown.penance.duration - variable.expected_penance_reduction ) < variable.next_penance_time",
								["var_name"] = "can_penance",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.next_penance_time + 2",
								["description"] =
								"Shadow Word: Death  SW:D is better than other spells if we are in execute phase.",
								["var_name"] = "next_swd_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_swd_time",
								["criteria"] = "variable.remaining_te_holy > 0",
								["description"] =
								"If we have enough scov duration, add a holy cast to proc twilight equilibrium",
								["value"] = "gcd.max",
							},
							{
								["enabled"] = true,
								["op"] = "sub",
								["action"] = "variable",
								["value"] = "1",
								["description"] = "Reduce our counting variable",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_swd_time",
								["criteria"] =
								"( ( talent.mindgames.enabled & talent.shattered_perceptions.enabled ) || ( talent.mindgames.enabled & ! talent.expiation.enabled ) ) & target.health.pct >= 20",
								["description"] =
								"indgame  ette ha W:   ren'  xecut has n  av hattere erception  on' av xpiatio",
								["value"] = "action.mindgames.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_swd_time",
								["criteria"] = "target.health.pct >= 20",
								["description"] = "Mind blast is better than SW:D if we aren't in execute",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_swd_time",
								["criteria"] = "target.health.pct >= 20 & talent.dark_indulgence.enabled",
								["description"] = "Second mindblast when talented",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_swd_time",
								["criteria"] =
								"talent.divine_star.enabled & target.health.pct >= 20 & ! talent.expiation.enabled",
								["description"] =
								"Divine Star and halo are better than SW:D if we aren't in execute and don't have expiation",
								["value"] = "action.divine_star.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["value"] = "action.halo.execute_time",
								["criteria"] =
								"talent.halo.enabled & target.health.pct >= 20 & ! talent.expiation.enabled",
								["var_name"] = "next_swd_time",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.shadow_word_death.duration_expected < variable.next_swd_time",
								["var_name"] = "can_swd",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.next_penance_time + 2",
								["description"] =
								"Mindblast  Mindblast is better than other spells if we aren't in execute phase",
								["var_name"] = "next_mind_blast_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mind_blast_time",
								["criteria"] = "variable.remaining_te_holy > 0",
								["description"] =
								"If we have enough scov duration, add a holy cast to proc twilight equilibrium",
								["value"] = "gcd.max",
							},
							{
								["enabled"] = true,
								["op"] = "sub",
								["action"] = "variable",
								["value"] = "1",
								["description"] = "Reduce our counting variable",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mind_blast_time",
								["criteria"] = "target.health.pct < 20",
								["description"] = "Add SW:D if we're in execute phase",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mind_blast_time",
								["criteria"] = "talent.death_and_madness.enabled & target.health.pct < 20",
								["description"] = "Add a second SW:D if we have death and madness",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mind_blast_time",
								["criteria"] = "talent.mindgames.enabled & ! talent.expiation.enabled",
								["description"] = "Add mindgames if we have it talented and don't have expiation",
								["value"] = "action.mindgames.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"TODO: This is a little bit simplistic, requiring both charges of mindblast to be available at the moment the first charge needs to be used. Slight optimization should be possible.",
								["criteria"] = "action.mind_blast.charges_fractional >= 1",
								["value"] =
								"( ( action.mind_blast.max_charges - ( action.mind_blast.charges_fractional - 1 ) ) * action.mind_blast.recharge_time ) < variable.next_mind_blast_time",
								["action"] = "variable",
								["value_else"] = "0",
								["var_name"] = "can_mind_blast",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.next_penance_time + 2",
								["description"] =
								"Mindgames  Mindgames is a better option than other spells if we aren't in execute and don't have expiation",
								["var_name"] = "next_mindgames_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mindgames_time",
								["criteria"] = "variable.remaining_te_holy > 0",
								["description"] =
								"If we have enough scov duration, add a holy cast to proc twilight equilibrium",
								["value"] = "gcd.max",
							},
							{
								["enabled"] = true,
								["op"] = "sub",
								["action"] = "variable",
								["value"] = "1",
								["description"] = "Reduce our counting variable",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mindgames_time",
								["criteria"] =
								"target.health.pct < 20 || ( talent.expiation.enabled & ! talent.shattered_perceptions.enabled )",
								["description"] =
								"SW:D is better than mindgames in execute phase, or outside of execute phase if we don't have shattered perceptions but do have expiation",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mindgames_time",
								["criteria"] = "target.health.pct < 20 & talent.death_and_madness.enabled",
								["description"] = "Add a second SW:D if we have death and madness",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mindgames_time",
								["criteria"] = "talent.expiation.enabled",
								["description"] = "Mind blast is better than mindgames if we have expiation",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_mindgames_time",
								["criteria"] = "talent.expiation.enabled & talent.dark_indulgence.enabled",
								["description"] = "Second mindblast when talented",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.mindgames.duration_expected < variable.next_mindgames_time",
								["var_name"] = "can_mindgames",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.next_penance_time + 2",
								["description"] = "Divine Star",
								["var_name"] = "next_divine_star_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_divine_star_time",
								["criteria"] = "variable.remaining_te_holy > 0",
								["description"] =
								"If we have enough scov duration, add a holy cast to proc twilight equilibrium",
								["value"] = "gcd.max",
							},
							{
								["enabled"] = true,
								["op"] = "sub",
								["action"] = "variable",
								["value"] = "1",
								["description"] = "Reduce our counting variable",
								["var_name"] = "remaining_te_holy",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_divine_star_time",
								["criteria"] = "target.health.pct < 20 || talent.expiation.enabled",
								["description"] =
								"SW:D is better unless outside of execute phase when expiation is untalented",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_divine_star_time",
								["criteria"] = "target.health.pct < 20 & talent.death_and_madness.enabled",
								["description"] = "Add a second SW:D if we have death and madness",
								["value"] = "action.shadow_word_death.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_divine_star_time",
								["criteria"] = "talent.expiation.enabled",
								["description"] = "Mind blast is always better",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_divine_star_time",
								["criteria"] = "talent.dark_indulgence.enabled",
								["description"] = "Second mindblast when talented",
								["value"] = "action.mind_blast.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "add",
								["action"] = "variable",
								["var_name"] = "next_divine_star_time",
								["criteria"] = "talent.mindgames.enabled",
								["description"] = "Mindgames is always better",
								["value"] = "action.mindgames.execute_time",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.divine_star.duration < variable.next_divine_star_time",
								["var_name"] = "can_divine_star",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.shadow_covenant.enabled & cooldown.mindbender.up",
								["action"] = "run_action_list",
								["list_name"] = "scov_prep",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.long_scov & variable.can_enter_scov",
								["action"] = "run_action_list",
								["list_name"] = "long_scov",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.purge_the_wicked.enabled & ( target.time_to_die > ( 0.3 * dot.purge_the_wicked.duration ) ) & ( ! ticking || ( refreshable & ( ! talent.painful_punishment.enabled || ( talent.painful_punishment.enabled & ( dot.purge_the_wicked.remains < ( cooldown.penance.remains - variable.expected_penance_reduction ) ) ) ) ) )",
								["action"] = "purge_the_wicked",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.purge_the_wicked.enabled & ( target.time_to_die > ( 0.3 * dot.shadow_word_pain.duration ) ) & ( ! ticking || ( refreshable & ( ! talent.painful_punishment.enabled || ( talent.painful_punishment.enabled & ( dot.shadow_word_pain.remains < ( cooldown.penance.remains - variable.expected_penance_reduction ) ) ) ) ) )",
								["action"] = "shadow_word_pain",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.shadow_covenant.enabled || variable.can_swd ) & target.health.pct < 20",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.dark_indulgence.enabled & buff.power_of_the_dark_side.down & cooldown.penance.remains < gcd.max",
								["action"] = "mind_blast",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_penance )",
								["action"] = "penance",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.shadow_covenant.enabled || variable.can_mind_blast",
								["action"] = "mind_blast",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.shadow_covenant.enabled || variable.can_mindgames ) & talent.shattered_perceptions.enabled",
								["action"] = "mindgames",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.shadow_covenant.enabled || variable.can_swd ) & talent.expiation.enabled & ( target.time_to_pct_20 > ( 0.5 * cooldown.shadow_word_death.duration ) )",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.shadow_covenant.enabled || variable.can_mindgames ) & ! talent.shattered_perceptions.enabled",
								["action"] = "mindgames",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.shadow_covenant.enabled",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! talent.shadow_covenant.enabled || variable.can_divine_star )",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.shadow_covenant.enabled || variable.can_swd ) & ( target.time_to_pct_20 > ( 0.5 * cooldown.shadow_word_death.duration ) )",
								["action"] = "shadow_word_death",
							},
							{
								["action"] = "smite",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["action"] = "power_word_fortitude",
								["enabled"] = true,
							},
						},
						["cooldowns"] = {
							{
								["enabled"] = true,
								["criteria"] = "! talent.mindbender.enabled & ! buff.shadow_covenant.up",
								["action"] = "mindbender",
								["description"] = "Don't use pets during shadow covenant windows, wasting GCDs",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.mindbender.enabled & ! buff.shadow_covenant.up",
								["action"] = "mindbender",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.shadow_covenant.enabled || ( talent.shadow_covenant.enabled & ( cooldown.shadowfiend.up || buff.shadow_covenant.up ) )",
								["action"] = "power_infusion",
								["description"] = "hold PI to use with shadow covenant if we have it",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.power_infusion.up",
								["action"] = "potion",
								["description"] = "sync potion with PI",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.power_infusion.up || cooldown.power_infusion.remains >= action_cooldown",
								["action"] = "use_items",
								["description"] = "sync trinkets with PI",
							},
						},
						["long_scov"] = {
							{
								["enabled"] = true,
								["description"] = "Long Shadow Covenant",
								["action"] = "mindbender",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.halo >= 3",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.divine_star >= 3",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.should_te || ( variable.should_te & variable.te_holy ) ) & ( ! ticking || refreshable ) & ( target.time_to_die > ( 0.3 * dot.purge_the_wicked.duration ) )",
								["action"] = "purge_the_wicked",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"target.health.pct < 20 & talent.expiation.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "penance",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.halo >= 2",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & spell_targets.divine_star >= 2",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"target.health.pct < 20 & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.expiation.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "mind_blast",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.shattered_perceptions.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "mindgames",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.expiation.enabled & ( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & ( target.time_to_pct_20 > buff.shadow_covenant.remains )",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "mindgames",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "mind_blast",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_shadow ) )",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.should_te || ( variable.should_te & variable.te_shadow ) ) & ( target.time_to_pct_20 > buff.shadow_covenant.remains )",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! variable.should_te || ( variable.should_te & variable.te_holy ) )",
								["action"] = "smite",
							},
							{
								["enabled"] = true,
								["description"] = "just in case we run out of shadow spells with the above conditions",
								["action"] = "penance",
							},
							{
								["action"] = "mindgames",
								["enabled"] = true,
							},
							{
								["action"] = "mind_blast",
								["enabled"] = true,
							},
							{
								["action"] = "shadow_word_death",
								["enabled"] = true,
							},
							{
								["action"] = "divine_star",
								["enabled"] = true,
							},
							{
								["action"] = "halo",
								["enabled"] = true,
							},
							{
								["action"] = "smite",
								["enabled"] = true,
							},
						},
						["scov_prep"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"! ticking & ( target.time_to_die > ( 0.3 * dot.purge_the_wicked.duration ) )",
								["action"] = "purge_the_wicked",
								["description"] = "Prepare to enter shadow covenant",
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.shadowfiend.remains < cast_time",
								["action"] = "power_word_radiance",
							},
							{
								["enabled"] = true,
								["criteria"] = "( target.time_to_die > ( 0.3 * dot.purge_the_wicked.duration ) )",
								["action"] = "purge_the_wicked",
							},
						},
					},
					["version"] = 20240730,
					["warnings"] =
					"The import for 'default' required some automated changes.\nLine 5: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 10: Converted 'talent.dark_indulgence' to 'talent.dark_indulgence.enabled' (1x).\nLine 11: Converted 'talent.shadow_word_death' to 'talent.shadow_word_death.enabled' (1x).\nLine 12: Converted 'talent.shadow_word_death' to 'talent.shadow_word_death.enabled' (1x).\nLine 12: Converted 'talent.death_and_madness' to 'talent.death_and_madness.enabled' (1x).\nLine 13: Converted 'talent.mindgames' to 'talent.mindgames.enabled' (1x).\nLine 14: Converted 'talent.divine_star' to 'talent.divine_star.enabled' (1x).\nLine 15: Converted 'talent.halo' to 'talent.halo.enabled' (1x).\nLine 16: Converted operations in '(buff.shadow_covenant.duration-variable.shadow_spells_duration_max)%gcd.max' to '(buff.shadow_covenant.duration-variable.shadow_spells_duration_max)/gcd.max'.\nLine 19: Converted 'talent.train_of_thought' to 'talent.train_of_thought.enabled' (1x).\nLine 24: Converted 'talent.death_and_madness' to 'talent.death_and_madness.enabled' (1x).\nLine 29: Converted 'talent.twilight_equilibrium' to 'talent.twilight_equilibrium.enabled' (1x).\nLine 37: Converted 'talent.mindgames' to 'talent.mindgames.enabled' (1x).\nLine 37: Converted 'talent.shattered_perceptions' to 'talent.shattered_perceptions.enabled' (1x).\nLine 37: Converted 'talent.mindgames' to 'talent.mindgames.enabled' (1x).\nLine 37: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 39: Converted 'talent.dark_indulgence' to 'talent.dark_indulgence.enabled' (1x).\nLine 40: Converted 'talent.divine_star' to 'talent.divine_star.enabled' (1x).\nLine 40: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 41: Converted 'talent.halo' to 'talent.halo.enabled' (1x).\nLine 41: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 47: Converted 'talent.death_and_madness' to 'talent.death_and_madness.enabled' (1x).\nLine 48: Converted 'talent.mindgames' to 'talent.mindgames.enabled' (1x).\nLine 48: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 53: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 53: Converted 'talent.shattered_perceptions' to 'talent.shattered_perceptions.enabled' (1x).\nLine 54: Converted 'talent.death_and_madness' to 'talent.death_and_madness.enabled' (1x).\nLine 55: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 56: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 56: Converted 'talent.dark_indulgence' to 'talent.dark_indulgence.enabled' (1x).\nLine 61: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 62: Converted 'talent.death_and_madness' to 'talent.death_and_madness.enabled' (1x).\nLine 63: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 64: Converted 'talent.dark_indulgence' to 'talent.dark_indulgence.enabled' (1x).\nLine 65: Converted 'talent.mindgames' to 'talent.mindgames.enabled' (1x).\nLine 67: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 69: Converted 'talent.purge_the_wicked' to 'talent.purge_the_wicked.enabled' (1x).\nLine 69: Converted 'talent.painful_punishment' to 'talent.painful_punishment.enabled' (1x).\nLine 69: Converted 'talent.painful_punishment' to 'talent.painful_punishment.enabled' (1x).\nLine 70: Converted 'talent.purge_the_wicked' to 'talent.purge_the_wicked.enabled' (1x).\nLine 70: Converted 'talent.painful_punishment' to 'talent.painful_punishment.enabled' (1x).\nLine 70: Converted 'talent.painful_punishment' to 'talent.painful_punishment.enabled' (1x).\nLine 71: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 72: Converted 'talent.dark_indulgence' to 'talent.dark_indulgence.enabled' (1x).\nLine 73: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 74: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 75: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 75: Converted 'talent.shattered_perceptions' to 'talent.shattered_perceptions.enabled' (1x).\nLine 76: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 76: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 77: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 77: Converted 'talent.shattered_perceptions' to 'talent.shattered_perceptions.enabled' (1x).\nLine 78: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 79: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\nLine 80: Converted 'talent.shadow_covenant' to 'talent.shadow_covenant.enabled' (1x).\n\nThe import for 'long_scov' required some automated changes.\nLine 5: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 10: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\nLine 11: Converted 'talent.shattered_perceptions' to 'talent.shattered_perceptions.enabled' (1x).\nLine 12: Converted 'talent.expiation' to 'talent.expiation.enabled' (1x).\n\nImported 5 action lists.\n",
					["spec"] = 256,
					["profile"] =
					"actions.precombat+=/power_word_fortitude\n\nactions+=/call_action_list,name=cooldowns\nactions+=/variable,name=te_none,op=set,value=!buff.twilight_equilibrium_holy_amp.up&!buff.twilight_equilibrium_shadow_amp.up\n# Twilight Equilibrium is buffing shadow damage\nactions+=/variable,name=te_shadow,op=set,value=buff.twilight_equilibrium_shadow_amp.up||variable.te_none\n# Twilight Equilibrium is buffing holy damage\nactions+=/variable,name=te_holy,op=set,value=buff.twilight_equilibrium_holy_amp.up||variable.te_none\n# Long Shadow covenant is enabled\nactions+=/variable,name=long_scov,op=set,value=talent.shadow_covenant\n# Ready to start shadow covenant phase\nactions+=/variable,name=can_enter_scov,op=set,value=cooldown.shadowfiend.up||buff.shadow_covenant.up\nactions+=/variable,name=shadow_spells_duration_max,op=set,value=0\n## actions+=/variable,name=shadow_spells_duration_max,op=add,value=action.schism.execute_time,if=talent.schism\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=2\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.mind_blast.execute_time\n# penance\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.mind_blast.execute_time,if=talent.dark_indulgence\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.shadow_word_death.execute_time,if=talent.shadow_word_death\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.shadow_word_death.execute_time,if=talent.shadow_word_death&talent.death_and_madness&target.health.pct<20\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.mindgames.execute_time,if=talent.mindgames\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.divine_star.execute_time,if=talent.divine_star\nactions+=/variable,name=shadow_spells_duration_max,op=add,value=action.halo.execute_time,if=talent.halo\n# (scov duration - shadow spells duration) / GCD time = estimate of holy spells we should need to use during the next scov window  Long scov example: (15 - 12) / 1.5 = 2 GCDs to spend on holy spells  Short scov example: (7 - 12) / 1.5 = -3.3 GCDs to spend on holy spells (none)\nactions+=/variable,name=max_te_holy,op=floor,value=(buff.shadow_covenant.duration-variable.shadow_spells_duration_max)%gcd.max\n# Counting variable, the number of non-fractional remaining holy casts available\nactions+=/variable,name=remaining_te_holy,op=set,value=0\nactions+=/variable,name=remaining_te_holy,op=add,value=variable.max_te_holy\n# TODO: duration_expected is buggy on penance/dark reprimand, using a static reduction as a stand-in for now\nactions+=/variable,name=expected_penance_reduction,op=setif,condition=talent.train_of_thought,value=2,value_else=0\n# Calculate how much cast time worth of shadow spells we have currently available. We use shadow_spells_duration to determine if we have time to weave in any holy spells to proc twilight equilibrium.\nactions+=/variable,name=shadow_spells_duration,op=set,value=0\n# Schism\n## actions+=/variable,name=shadow_spells_duration,op=add,value=action.schism.execute_time,if=cooldown.schism.up||(cooldown.schism.remains<buff.shadow_covenant.remains)\n# Penance\nactions+=/variable,name=shadow_spells_duration,op=add,value=2,if=cooldown.penance.up||((cooldown.penance.remains-variable.expected_penance_reduction)<buff.shadow_covenant.remains)\n# Mindgames\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.mindgames.execute_time,if=cooldown.mindgames.up||(cooldown.mindgames.remains_expected<buff.shadow_covenant.remains)\n# We always get the first SW:D\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.shadow_word_death.execute_time,if=cooldown.shadow_word_death.up||(cooldown.shadow_word_death.remains<buff.shadow_covenant.remains)\n# Second SW:D only when talented and target health in execute range\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.shadow_word_death.execute_time,if=(cooldown.shadow_word_death.up||(cooldown.shadow_word_death.remains<buff.shadow_covenant.remains))&(target.health.pct<20||target.time_to_pct_20<cooldown.shadow_word_death.remains)&talent.death_and_madness\n# Add any whole charges of mind blast\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.mind_blast.charges*action.mind_blast.execute_time,if=action.mind_blast.charges>=1\n# Add any fractional charges of mindblast that will recharge in time\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.mind_blast.execute_time,if=((action.mind_blast.charges_fractional>=1&action.mind_blast.charges_fractional<2)&(((1-(action.mind_blast.charges_fractional-1))*action.mind_blast.recharge_time)<buff.shadow_covenant.remains))||((action.mind_blast.charges_fractional<1)&(((1-action.mind_blast.charges_fractional)*action.mind_blast.recharge_time)<buff.shadow_covenant.remains))\n# Divine Star\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.divine_star.execute_time,if=cooldown.divine_star.up||(cooldown.divine_star.remains<buff.shadow_covenant.remains)\n# Halo\nactions+=/variable,name=shadow_spells_duration,op=add,value=action.halo.execute_time,if=cooldown.halo.up||(cooldown.halo.remains<buff.shadow_covenant.remains)\n# Determine if we have enough scov time remaining to weave in a twilight equilibrium activation. If we don't have TE talented, always false. Using smite's execution time to represent a worst-case scenario.\nactions+=/variable,name=should_te,op=setif,condition=talent.twilight_equilibrium,value=(buff.shadow_covenant.remains-variable.shadow_spells_duration)>action.smite.execute_time,value_else=0\n\n# First casts should always be HD prep->covenant->schism->HD dark reprimand\nactions+=/variable,name=next_penance_time,op=set,value=cooldown.shadowfiend.remains+action.shadowfiend.execute_time\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_penance_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\nactions+=/variable,name=can_penance,op=set,value=(cooldown.penance.duration-variable.expected_penance_reduction)<variable.next_penance_time\n# Shadow Word: Death  SW:D is better than other spells if we are in execute phase.\nactions+=/variable,name=next_swd_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_swd_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# indgame  ette ha W:   ren'  xecut has n  av hattere erception  on' av xpiatio\nactions+=/variable,name=next_swd_time,op=add,value=action.mindgames.execute_time,if=((talent.mindgames&talent.shattered_perceptions)||(talent.mindgames&!talent.expiation))&target.health.pct>=20\n# Mind blast is better than SW:D if we aren't in execute\nactions+=/variable,name=next_swd_time,op=add,value=action.mind_blast.execute_time,if=target.health.pct>=20\n# Second mindblast when talented\nactions+=/variable,name=next_swd_time,op=add,value=action.mind_blast.execute_time,if=target.health.pct>=20&talent.dark_indulgence\n# Divine Star and halo are better than SW:D if we aren't in execute and don't have expiation\nactions+=/variable,name=next_swd_time,op=add,value=action.divine_star.execute_time,if=talent.divine_star&target.health.pct>=20&!talent.expiation\nactions+=/variable,name=next_swd_time,op=add,value=action.halo.execute_time,if=talent.halo&target.health.pct>=20&!talent.expiation\nactions+=/variable,name=can_swd,op=set,value=cooldown.shadow_word_death.duration_expected<variable.next_swd_time\n# Mindblast  Mindblast is better than other spells if we aren't in execute phase\nactions+=/variable,name=next_mind_blast_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_mind_blast_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# Add SW:D if we're in execute phase\nactions+=/variable,name=next_mind_blast_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20\n# Add a second SW:D if we have death and madness\nactions+=/variable,name=next_mind_blast_time,op=add,value=action.shadow_word_death.execute_time,if=talent.death_and_madness&target.health.pct<20\n# Add mindgames if we have it talented and don't have expiation\nactions+=/variable,name=next_mind_blast_time,op=add,value=action.mindgames.execute_time,if=talent.mindgames&!talent.expiation\n# TODO: This is a little bit simplistic, requiring both charges of mindblast to be available at the moment the first charge needs to be used. Slight optimization should be possible.\nactions+=/variable,name=can_mind_blast,op=setif,condition=action.mind_blast.charges_fractional>=1,value=((action.mind_blast.max_charges-(action.mind_blast.charges_fractional-1))*action.mind_blast.recharge_time)<variable.next_mind_blast_time,value_else=0\n# Mindgames  Mindgames is a better option than other spells if we aren't in execute and don't have expiation\nactions+=/variable,name=next_mindgames_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_mindgames_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# SW:D is better than mindgames in execute phase, or outside of execute phase if we don't have shattered perceptions but do have expiation\nactions+=/variable,name=next_mindgames_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20||(talent.expiation&!talent.shattered_perceptions)\n# Add a second SW:D if we have death and madness\nactions+=/variable,name=next_mindgames_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20&talent.death_and_madness\n# Mind blast is better than mindgames if we have expiation\nactions+=/variable,name=next_mindgames_time,op=add,value=action.mind_blast.execute_time,if=talent.expiation\n# Second mindblast when talented\nactions+=/variable,name=next_mindgames_time,op=add,value=action.mind_blast.execute_time,if=talent.expiation&talent.dark_indulgence\nactions+=/variable,name=can_mindgames,op=set,value=cooldown.mindgames.duration_expected<variable.next_mindgames_time\n# Divine Star\nactions+=/variable,name=next_divine_star_time,op=set,value=variable.next_penance_time+2\n# If we have enough scov duration, add a holy cast to proc twilight equilibrium\nactions+=/variable,name=next_divine_star_time,op=add,value=gcd.max,if=variable.remaining_te_holy>0\n# Reduce our counting variable\nactions+=/variable,name=remaining_te_holy,op=sub,value=1\n# SW:D is better unless outside of execute phase when expiation is untalented\nactions+=/variable,name=next_divine_star_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20||talent.expiation\n# Add a second SW:D if we have death and madness\nactions+=/variable,name=next_divine_star_time,op=add,value=action.shadow_word_death.execute_time,if=target.health.pct<20&talent.death_and_madness\n# Mind blast is always better\nactions+=/variable,name=next_divine_star_time,op=add,value=action.mind_blast.execute_time,if=talent.expiation\n# Second mindblast when talented\nactions+=/variable,name=next_divine_star_time,op=add,value=action.mind_blast.execute_time,if=talent.dark_indulgence\n# Mindgames is always better\nactions+=/variable,name=next_divine_star_time,op=add,value=action.mindgames.execute_time,if=talent.mindgames\nactions+=/variable,name=can_divine_star,op=set,value=cooldown.divine_star.duration<variable.next_divine_star_time\nactions+=/run_action_list,name=scov_prep,if=talent.shadow_covenant&cooldown.mindbender.up\n## actions+=/run_action_list,name=short_scov,if=variable.short_scov&variable.can_enter_scov\nactions+=/run_action_list,name=long_scov,if=variable.long_scov&variable.can_enter_scov\nactions+=/purge_the_wicked,if=talent.purge_the_wicked&(target.time_to_die>(0.3*dot.purge_the_wicked.duration))&(!ticking||(refreshable&(!talent.painful_punishment||(talent.painful_punishment&(dot.purge_the_wicked.remains<(cooldown.penance.remains-variable.expected_penance_reduction))))))\nactions+=/shadow_word_pain,if=!talent.purge_the_wicked&(target.time_to_die>(0.3*dot.shadow_word_pain.duration))&(!ticking||(refreshable&(!talent.painful_punishment||(talent.painful_punishment&(dot.shadow_word_pain.remains<(cooldown.penance.remains-variable.expected_penance_reduction))))))\n## actions+=/schism,if=!talent.shadow_covenant\nactions+=/shadow_word_death,if=(!talent.shadow_covenant||variable.can_swd)&target.health.pct<20\nactions+=/mind_blast,if=talent.dark_indulgence&buff.power_of_the_dark_side.down&cooldown.penance.remains<gcd.max\nactions+=/penance,if=(!talent.shadow_covenant||variable.can_penance)\n## # For DPS, Lights wrath should always be used outside of scov when you take wrath unleashed to maximize the number of smites it buffs. In a real raid setting, you may want to cast it at the beginning of a scov cycle for additional healing.\n## actions+=/lights_wrath,if=talent.wrath_unleashed\nactions+=/mind_blast,if=!talent.shadow_covenant||variable.can_mind_blast\nactions+=/mindgames,if=(!talent.shadow_covenant||variable.can_mindgames)&talent.shattered_perceptions\nactions+=/shadow_word_death,if=(!talent.shadow_covenant||variable.can_swd)&talent.expiation&(target.time_to_pct_20>(0.5*cooldown.shadow_word_death.duration))\nactions+=/mindgames,if=(!talent.shadow_covenant||variable.can_mindgames)&!talent.shattered_perceptions\nactions+=/halo,if=!talent.shadow_covenant\nactions+=/divine_star,if=(!talent.shadow_covenant||variable.can_divine_star)\n## actions+=/power_word_solace\nactions+=/shadow_word_death,if=(!talent.shadow_covenant||variable.can_swd)&(target.time_to_pct_20>(0.5*cooldown.shadow_word_death.duration))\nactions+=/smite\n\n# Prepare to enter shadow covenant\nactions.scov_prep+=/purge_the_wicked,if=!ticking&(target.time_to_die>(0.3*dot.purge_the_wicked.duration))\nactions.scov_prep+=/power_word_radiance,if=cooldown.shadowfiend.remains<cast_time\nactions.scov_prep+=/purge_the_wicked,if=(target.time_to_die>(0.3*dot.purge_the_wicked.duration))\n\n# Long Shadow Covenant\nactions.long_scov+=/mindbender\n## actions.long_scov+=/schism\nactions.long_scov+=/halo,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.halo>=3\nactions.long_scov+=/divine_star,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.divine_star>=3\nactions.long_scov+=/purge_the_wicked,if=(!variable.should_te||(variable.should_te&variable.te_holy))&(!ticking||refreshable)&(target.time_to_die>(0.3*dot.purge_the_wicked.duration))\nactions.long_scov+=/shadow_word_death,if=target.health.pct<20&talent.expiation&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/penance,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/halo,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.halo>=2\nactions.long_scov+=/divine_star,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&spell_targets.divine_star>=2\nactions.long_scov+=/shadow_word_death,if=target.health.pct<20&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/mind_blast,if=talent.expiation&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/mindgames,if=talent.shattered_perceptions&(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/shadow_word_death,if=talent.expiation&(!variable.should_te||(variable.should_te&variable.te_shadow))&(target.time_to_pct_20>buff.shadow_covenant.remains)\nactions.long_scov+=/mindgames,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/mind_blast,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/halo,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/divine_star,if=(!variable.should_te||(variable.should_te&variable.te_shadow))\nactions.long_scov+=/shadow_word_death,if=(!variable.should_te||(variable.should_te&variable.te_shadow))&(target.time_to_pct_20>buff.shadow_covenant.remains)\n## actions.long_scov+=/lights_wrath,if=(!variable.should_te||(variable.should_te&variable.te_holy))\nactions.long_scov+=/smite,if=(!variable.should_te||(variable.should_te&variable.te_holy))\n# just in case we run out of shadow spells with the above conditions\nactions.long_scov+=/penance\nactions.long_scov+=/mindgames\nactions.long_scov+=/mind_blast\nactions.long_scov+=/shadow_word_death\nactions.long_scov+=/divine_star\nactions.long_scov+=/halo\nactions.long_scov+=/smite\n\n## Cooldowns\n# Don't use pets during shadow covenant windows, wasting GCDs\nactions.cooldowns+=/shadowfiend,if=!talent.mindbender.enabled&!buff.shadow_covenant.up\nactions.cooldowns+=/mindbender,if=talent.mindbender.enabled&!buff.shadow_covenant.up\n# hold PI to use with shadow covenant if we have it\nactions.cooldowns+=/power_infusion,if=!talent.shadow_covenant.enabled||(talent.shadow_covenant.enabled&(cooldown.shadowfiend.up||buff.shadow_covenant.up))\n# sync potion with PI\nactions.cooldowns+=/potion,if=buff.power_infusion.up\n# sync trinkets with PI\nactions.cooldowns+=/use_items,if=buff.power_infusion.up||cooldown.power_infusion.remains>=cooldown",
				},
				["Elemental"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 262,
					["desc"] = "2024-07-23: The War Within",
					["profile"] =
					"# Ensure weapon enchant is applied if you've selected Improved Flametongue Weapon.\nactions.precombat+=/flametongue_weapon,if=talent.improved_flametongue_weapon.enabled\nactions.precombat+=/skyfury\nactions.precombat+=/potion\nactions.precombat+=/stormkeeper\nactions.precombat+=/lightning_shield\nactions.precombat+=/thunderstrike_ward\n\n# Enable more movement.\nactions+=/spiritwalkers_grace,moving=1,if=movement.distance>6\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/blood_fury,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/berserking,if=!talent.ascendance.enabled||buff.ascendance.up\nactions+=/fireblood,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/ancestral_call,if=!talent.ascendance.enabled||buff.ascendance.up||cooldown.ascendance.remains>50\nactions+=/bag_of_tricks,if=!talent.ascendance.enabled||!buff.ascendance.up\nactions+=/use_items\nactions+=/lightning_shield,if=buff.lightning_shield.down\nactions+=/natures_swiftness\nactions+=/ancestral_swiftness\n## If you've selected <a href='https://www.wowhead.com/spell=114050/ascendance'>Ascendance</a> sync <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> with it. Otherwise use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> on Cooldown.\n## actions+=/invoke_external_buff,name=power_infusion,if=talent.ascendance.enabled&buff.ascendance.up||!talent.ascendance.enabled\nactions+=/potion\nactions+=/run_action_list,name=aoe,strict=1,if=active_enemies>2&(spell_targets.chain_lightning>2||spell_targets.lava_beam>2)\nactions+=/run_action_list,name=single_target\n\n# Keep your cooldowns rolling.\nactions.aoe+=/fire_elemental,if=!buff.fire_elemental.up&(!talent.primal_elementalist.enabled||!buff.lesser_fire_elemental.up)\n# Keep your cooldowns rolling.\nactions.aoe+=/storm_elemental,if=!buff.storm_elemental.up&(!talent.primal_elementalist.enabled||!buff.lesser_storm_elemental.up)\n# Keep your cooldowns rolling.\nactions.aoe+=/stormkeeper,if=!buff.stormkeeper.up\n# Reset LMT CD as early as possible.\nactions.aoe+=/totemic_recall,if=cooldown.liquid_magma_totem.remains>45\n# Keep your cooldowns rolling.\nactions.aoe+=/liquid_magma_totem,if=totem.liquid_magma_totem.down\n# Spread Flame Shock using Surge of Power.\nactions.aoe+=/primordial_wave,cycle_targets=1,if=buff.surge_of_power.up\n# Spread Flame Shock using Surge of Power.\nactions.aoe+=/primordial_wave,cycle_targets=1,if=talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled\n# Spread Flame Shock using Surge of Power.\nactions.aoe+=/primordial_wave,cycle_targets=1,if=talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled\n# Spread Flame Shock using Surge of Power on up to 4 for Lightning builds.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&talent.lightning_rod.enabled&dot.flame_shock.remains<target.time_to_die-16&active_enemies<5\n# Spread Flame Shock using Surge of Power up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&(!talent.lightning_rod.enabled||talent.skybreakers_fiery_demise.enabled)&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Spread Flame Shock against low target counts if Master of the Elements was selected up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Spread Flame Shock to gamble on Deeply Rooted Element procs up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&active_dot.flame_shock<6\n# Refresh Flame Shock using Surge of Power up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&buff.surge_of_power.up&(!talent.lightning_rod.enabled||talent.skybreakers_fiery_demise.enabled)&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# Refresh Flame Shock against low target counts if Master of the Elements was selected up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.master_of_the_elements.enabled&!talent.lightning_rod.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# Refresh Flame Shock to gamble on Deeply Rooted Element procs up to 6.\nactions.aoe+=/flame_shock,cycle_targets=1,if=refreshable&talent.deeply_rooted_elements.enabled&!talent.surge_of_power.enabled&dot.flame_shock.remains<target.time_to_die-5&dot.flame_shock.remains>0\n# JUST DO IT! https://i.kym-cdn.com/entries/icons/mobile/000/018/147/Shia_LaBeouf__Just_Do_It__Motivational_Speech_(Original_Video_by_LaBeouf__R%C3%B6nkk%C3%B6___Turner)_0-4_screenshot.jpg\nactions.aoe+=/ascendance\n# {T31 fire} Lava burst is top prio on 3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&active_enemies=3&(!talent.lightning_rod.enabled&set_bonus.tier31_4pc)\n# {T31 fire} Earthquake is still good with Mote and either 10 Magma Chamber stacks on 6+ targets or 9+ targets.\nactions.aoe+=/earthquake,if=buff.master_of_the_elements.up&(buff.magma_chamber.stack=10&active_enemies>=6||talent.splintered_elements.enabled&active_enemies>=9||talent.mountains_will_fall.enabled&active_enemies>=9)&(!talent.lightning_rod.enabled&set_bonus.tier31_4pc)\n# {T31 fire} Stormkeeper is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.stormkeeper.up&(buff.surge_of_power.up&active_enemies>=6||buff.master_of_the_elements.up&(active_enemies<6||!talent.surge_of_power.enabled))&(!talent.lightning_rod.enabled&set_bonus.tier31_4pc)\n# {T31 fire} Stormkeeper is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.stormkeeper.up&(buff.surge_of_power.up&active_enemies>=6||buff.master_of_the_elements.up&(active_enemies<6||!talent.surge_of_power.enabled))&(!talent.lightning_rod.enabled&set_bonus.tier31_4pc)\n# {T31 fire} Lava Surge is strong.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&cooldown_react&buff.lava_surge.up&(!talent.lightning_rod.enabled&set_bonus.tier31_4pc)\n# Cast Lava Burst to buff your immediately follow-up Earthquake with Master of the Elements.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&cooldown_react&buff.lava_surge.up&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(maelstrom>=52-5*talent.eye_of_the_storm.enabled-2*talent.flow_of_power.enabled)&(!talent.echoes_of_great_sundering.enabled&!talent.lightning_rod.enabled||buff.echoes_of_great_sundering_es.up||buff.echoes_of_great_sundering_eb.up)&(!buff.ascendance.up&active_enemies>3||active_enemies=3)\n# Use the talents you selected.\nactions.aoe+=/earthquake,if=!talent.echoes_of_great_sundering.enabled&active_enemies>3&(spell_targets.chain_lightning>3||spell_targets.lava_beam>3)\n# Use the talents you selected.\nactions.aoe+=/earthquake,if=!talent.echoes_of_great_sundering.enabled&!talent.elemental_blast.enabled&active_enemies=3&(spell_targets.chain_lightning=3||spell_targets.lava_beam=3)\n# Use the talents you selected.\nactions.aoe+=/earthquake,if=buff.echoes_of_great_sundering_es.up||buff.echoes_of_great_sundering_eb.up\n# Use the talents you selected. Spread Lightning Rod to as many targets as possible.\nactions.aoe+=/elemental_blast,cycle_targets=1,if=talent.echoes_of_great_sundering.enabled\n# Use the talents you selected.\nactions.aoe+=/elemental_blast,if=talent.echoes_of_great_sundering.enabled\n# Elemental Blast is stronger than Earthquake against 3 targets.\nactions.aoe+=/elemental_blast,if=active_enemies=3&!talent.echoes_of_great_sundering.enabled\n# Use the talents you selected. Spread Lightning Rod to as many targets as possible.\nactions.aoe+=/earth_shock,cycle_targets=1,if=talent.echoes_of_great_sundering.enabled\n# Use the talents you selected.\nactions.aoe+=/earth_shock,if=talent.echoes_of_great_sundering.enabled\n# Buff Stormkeeper with Master of the elements on 3-4 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(buff.stormkeeper.up||t30_2pc_timer.next_tick<3&set_bonus.tier30_2pc)&(maelstrom<60-5*talent.eye_of_the_storm.enabled-2*talent.flow_of_power.enabled-10)&active_enemies<5\n# Stormkeeper is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.stormkeeper.up\n# Stormkeeper is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.stormkeeper.up\n# Power of the Maelstrom is strong and should be used.\nactions.aoe+=/lava_beam,if=buff.power_of_the_maelstrom.up&buff.ascendance.remains>cast_time\n# Power of the Maelstrom is strong and should be used.\nactions.aoe+=/chain_lightning,if=buff.power_of_the_maelstrom.up\n# Against 6 targets or more Surge of Power should be used with Lava Beam rather than Lava Burst.\nactions.aoe+=/lava_beam,if=active_enemies>=6&buff.surge_of_power.up&buff.ascendance.remains>cast_time\n# Against 6 targets or more Surge of Power should be used with Chain Lightning rather than Lava Burst.\nactions.aoe+=/chain_lightning,if=active_enemies>=6&buff.surge_of_power.up\n# Consume Master of the Elements with Lava Beam.\nactions.aoe+=/lava_beam,if=buff.master_of_the_elements.up&buff.ascendance.remains>cast_time\n# Proc Master of the Elements against 3 targets.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&active_enemies=3&talent.master_of_the_elements.enabled\n# Gamble away for Deeply Rooted Elements procs whenever Lava Surge makes Lava Burst more efficient.\nactions.aoe+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains&buff.lava_surge.up&talent.deeply_rooted_elements.enabled\n# {PH} Icefury line to proc EoGS with Fusion of Elements.\nactions.aoe+=/icefury,if=talent.fusion_of_elements.enabled&talent.echoes_of_great_sundering.enabled\n# \nactions.aoe+=/lava_beam,if=buff.ascendance.remains>cast_time\nactions.aoe+=/chain_lightning\nactions.aoe+=/flame_shock,moving=1,cycle_targets=1,if=refreshable\nactions.aoe+=/frost_shock,moving=1\n\n# Keep your cooldowns rolling.\nactions.single_target+=/fire_elemental,if=!buff.fire_elemental.up&(!talent.primal_elementalist.enabled||!buff.lesser_fire_elemental.up)\n# Keep your cooldowns rolling.\nactions.single_target+=/storm_elemental,if=!buff.storm_elemental.up&(!talent.primal_elementalist.enabled||!buff.lesser_storm_elemental.up)\n# Reset LMT CD as early as possible.\nactions.single_target+=/totemic_recall,if=cooldown.liquid_magma_totem.remains>45&(active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1))\n# Keep your cooldowns rolling.\nactions.single_target+=/liquid_magma_totem,if=totem.liquid_magma_totem.down&(active_dot.flame_shock=0||dot.flame_shock.remains<6||active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1))\n# Use Primordial Wave as much as possible without wasting buffs.\nactions.single_target+=/primordial_wave,cycle_targets=1\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_enemies=1&refreshable&(dot.flame_shock.remains<cooldown.primordial_wave.remains||!talent.primordial_wave.enabled)&!buff.surge_of_power.up&(!buff.master_of_the_elements.up||(!buff.stormkeeper.up&(talent.elemental_blast.enabled&maelstrom<90-10*talent.eye_of_the_storm.enabled||maelstrom<60-5*talent.eye_of_the_storm.enabled)))\n# Use Flame shock without Surge of Power if you can't spread it with SoP because it is going to be used on Stormkeeper or Surge of Power is not talented.\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_dot.flame_shock=0&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&(talent.deeply_rooted_elements.enabled||talent.ascendance.enabled||talent.primordial_wave.enabled||talent.searing_flames.enabled||talent.magma_chamber.enabled)&(!buff.master_of_the_elements.up&(buff.stormkeeper.up||cooldown.stormkeeper.remains=0)||!talent.surge_of_power.enabled)\n# Spread Flame Shock to multiple targets only if talents were selected that benefit from it.\nactions.single_target+=/flame_shock,cycle_targets=1,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&refreshable&(talent.deeply_rooted_elements.enabled||talent.ascendance.enabled||talent.primordial_wave.enabled||talent.searing_flames.enabled||talent.magma_chamber.enabled)&(buff.surge_of_power.up&!buff.stormkeeper.up&!cooldown.stormkeeper.remains=0||!talent.surge_of_power.enabled),cycle_targets=1\n# {SoP builds} Use Stormkeeper if you already got Surge of Power buff rolling.\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&buff.surge_of_power.up\nactions.single_target+=/stormkeeper,if=!buff.ascendance.up&!buff.stormkeeper.up&(!talent.surge_of_power.enabled||!talent.elemental_blast.enabled)\nactions.single_target+=/ascendance,if=!buff.stormkeeper.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&buff.surge_of_power.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lava_beam,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.stormkeeper.up&!talent.surge_of_power.enabled\n# Stormkeeper is strong and should be used.\nactions.single_target+=/chain_lightning,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.stormkeeper.up&!talent.surge_of_power.enabled\n# Buff stormkeeper with MotE when not using Surge.\nactions.single_target+=/lava_burst,if=buff.stormkeeper.up&!buff.master_of_the_elements.up&!talent.surge_of_power.enabled&talent.master_of_the_elements.enabled\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&!talent.surge_of_power.enabled&buff.master_of_the_elements.up\n# Stormkeeper is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.stormkeeper.up&!talent.surge_of_power.enabled&!talent.master_of_the_elements.enabled\n# {Lightning builds} Surge of Power is strong and should be used.\nactions.single_target+=/lightning_bolt,if=buff.surge_of_power.up&talent.lightning_rod.enabled\nactions.single_target+=/lava_beam,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&buff.power_of_the_maelstrom.up&buff.ascendance.remains>cast_time&!set_bonus.tier31_4pc\n# Lava Surge is neat. Utilize it...Unless it's Lightning build and you save it to buff Elemental Blast.\nactions.single_target+=/lava_burst,if=cooldown_react&buff.lava_surge.up&(talent.deeply_rooted_elements.enabled||!talent.master_of_the_elements.enabled||!talent.elemental_blast.enabled)\n# Spam Lava burst in Ascendance if not running Elemental Blast.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&buff.ascendance.up&!talent.elemental_blast.enabled\n# {Fire builds} Buff your next <anything> with MotE.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&!talent.lightning_rod.enabled\n# {Lightning builds} Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.\nactions.single_target+=/lava_burst,if=talent.master_of_the_elements.enabled&!buff.master_of_the_elements.up&(maelstrom>=80||maelstrom>=55&!talent.elemental_blast.enabled)&talent.swelling_maelstrom.enabled&maelstrom<=130\n# Use the talents you selected. Additionally Elemental Blast is stronger than EoGS. In this case don't use Earthquake on single target.\nactions.single_target+=/earthquake,if=(buff.echoes_of_great_sundering_es.up||buff.echoes_of_great_sundering_eb.up)&(!talent.elemental_blast.enabled&active_enemies<2||active_enemies>1)\n# Use Earthquake against two enemies unless you have to alternate because of Echoes of Great Sundering.\nactions.single_target+=/earthquake,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)&!talent.echoes_of_great_sundering.enabled&!talent.elemental_blast.enabled\n# Default EB line for lightning builds. Requires MotE buff for fire.\nactions.single_target+=/elemental_blast,if=buff.master_of_the_elements.up||talent.lightning_rod.enabled\nactions.single_target+=/earth_shock\n# Fish for DRE procs.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&talent.deeply_rooted_elements.enabled\n# Spread out your Icefury usage if you can get more use out of accompanied buffs.\nactions.single_target+=/frost_shock,if=buff.icefury_dmg.up&talent.flux_melting.enabled&!buff.flux_melting.up\n# Use Lava Burst normally with fire builds. Save it as much as possible in lightning builds unless you cant use Lightning Bolt without wasting Stormkeeper charges.\nactions.single_target+=/lava_burst,cycle_targets=1,if=dot.flame_shock.remains>2&talent.echo_of_the_elements.enabled||!talent.elemental_blast.enabled||!talent.master_of_the_elements.enabled||buff.stormkeeper.up\nactions.single_target+=/elemental_blast\nactions.single_target+=/icefury\n# Utilize the Power of the Maelstrom buff if your Chain Lightning is empowered by Unrelenting Calamity.\nactions.single_target+=/chain_lightning,if=buff.power_of_the_maelstrom.up&active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Utilize the Power of the Maelstrom buff if your Lightning Bolt is empowered by Unrelenting Calamity.\nactions.single_target+=/lightning_bolt,if=buff.power_of_the_maelstrom.up\nactions.single_target+=/frost_shock,if=buff.icefury_dmg.up\n# Casting Chain Lightning at two targets is more efficient than Lightning Bolt.\nactions.single_target+=/chain_lightning,if=active_enemies>1&(spell_targets.chain_lightning>1||spell_targets.lava_beam>1)\n# Filler spell. Always available. Always the bottom line.\nactions.single_target+=/lightning_bolt\nactions.single_target+=/flame_shock,moving=1,cycle_targets=1,if=refreshable\nactions.single_target+=/flame_shock,moving=1,if=movement.distance>6\n# Frost Shock is our movement filler.\nactions.single_target+=/frost_shock,moving=1",
					["version"] = 20240805,
					["warnings"] = "Imported 4 action lists.\n",
					["author"] = "SimulationCraft",
					["lists"] = {
						["single_target"] = {
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] =
								"! buff.fire_elemental.up & ( ! talent.primal_elementalist.enabled || ! buff.lesser_fire_elemental.up )",
								["action"] = "fire_elemental",
							},
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] =
								"! buff.storm_elemental.up & ( ! talent.primal_elementalist.enabled || ! buff.lesser_storm_elemental.up )",
								["action"] = "storm_elemental",
							},
							{
								["enabled"] = true,
								["description"] = "Reset LMT CD as early as possible.",
								["criteria"] =
								"cooldown.liquid_magma_totem.remains > 45 & ( active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) )",
								["action"] = "totemic_recall",
							},
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] =
								"totem.liquid_magma_totem.down & ( active_dot.flame_shock = 0 || dot.flame_shock.remains < 6 || active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) )",
								["action"] = "liquid_magma_totem",
							},
							{
								["enabled"] = true,
								["description"] = "Use Primordial Wave as much as possible without wasting buffs.",
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"active_enemies = 1 & refreshable & ( dot.flame_shock.remains < cooldown.primordial_wave.remains || ! talent.primordial_wave.enabled ) & ! buff.surge_of_power.up & ( ! buff.master_of_the_elements.up || ( ! buff.stormkeeper.up & ( talent.elemental_blast.enabled & maelstrom < 90 - 10 * talent.eye_of_the_storm.enabled || maelstrom < 60 - 5 * talent.eye_of_the_storm.enabled ) ) )",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] =
								"Use Flame shock without Surge of Power if you can't spread it with SoP because it is going to be used on Stormkeeper or Surge of Power is not talented.",
								["criteria"] =
								"active_dot.flame_shock = 0 & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & ( talent.deeply_rooted_elements.enabled || talent.ascendance.enabled || talent.primordial_wave.enabled || talent.searing_flames.enabled || talent.magma_chamber.enabled ) & ( ! buff.master_of_the_elements.up & ( buff.stormkeeper.up || cooldown.stormkeeper.remains = 0 ) || ! talent.surge_of_power.enabled )",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] =
								"Spread Flame Shock to multiple targets only if talents were selected that benefit from it.",
								["criteria"] =
								"active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & refreshable & ( talent.deeply_rooted_elements.enabled || talent.ascendance.enabled || talent.primordial_wave.enabled || talent.searing_flames.enabled || talent.magma_chamber.enabled ) & ( buff.surge_of_power.up & ! buff.stormkeeper.up & ! cooldown.stormkeeper.remains = 0 || ! talent.surge_of_power.enabled )",
							},
							{
								["enabled"] = true,
								["description"] =
								"{SoP builds} Use Stormkeeper if you already got Surge of Power buff rolling.",
								["criteria"] = "! buff.ascendance.up & ! buff.stormkeeper.up & buff.surge_of_power.up",
								["action"] = "stormkeeper",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.ascendance.up & ! buff.stormkeeper.up & ( ! talent.surge_of_power.enabled || ! talent.elemental_blast.enabled )",
								["action"] = "stormkeeper",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.stormkeeper.up",
								["action"] = "ascendance",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up & buff.surge_of_power.up",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] =
								"active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.stormkeeper.up & ! talent.surge_of_power.enabled",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] =
								"active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.stormkeeper.up & ! talent.surge_of_power.enabled",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["description"] = "Buff stormkeeper with MotE when not using Surge.",
								["criteria"] =
								"buff.stormkeeper.up & ! buff.master_of_the_elements.up & ! talent.surge_of_power.enabled & talent.master_of_the_elements.enabled",
								["action"] = "lava_burst",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] =
								"buff.stormkeeper.up & ! talent.surge_of_power.enabled & buff.master_of_the_elements.up",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] =
								"buff.stormkeeper.up & ! talent.surge_of_power.enabled & ! talent.master_of_the_elements.enabled",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["description"] = "{Lightning builds} Surge of Power is strong and should be used.",
								["criteria"] = "buff.surge_of_power.up & talent.lightning_rod.enabled",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & buff.power_of_the_maelstrom.up & buff.ascendance.remains > cast_time & ! set_bonus.tier31_4pc",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["description"] =
								"Lava Surge is neat. Utilize it...Unless it's Lightning build and you save it to buff Elemental Blast.",
								["criteria"] =
								"cooldown_react & buff.lava_surge.up & ( talent.deeply_rooted_elements.enabled || ! talent.master_of_the_elements.enabled || ! talent.elemental_blast.enabled )",
								["action"] = "lava_burst",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Spam Lava burst in Ascendance if not running Elemental Blast.",
								["criteria"] =
								"dot.flame_shock.remains > 2 & buff.ascendance.up & ! talent.elemental_blast.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "{Fire builds} Buff your next <anything> with MotE.",
								["criteria"] =
								"dot.flame_shock.remains > 2 & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ! talent.lightning_rod.enabled",
							},
							{
								["enabled"] = true,
								["description"] =
								"{Lightning builds} Buff your next Maelstrom Spender with MotE if it won't cap your maelstrom.",
								["criteria"] =
								"talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( maelstrom >= 80 || maelstrom >= 55 & ! talent.elemental_blast.enabled ) & talent.swelling_maelstrom.enabled & maelstrom <= 130",
								["action"] = "lava_burst",
							},
							{
								["enabled"] = true,
								["description"] =
								"Use the talents you selected. Additionally Elemental Blast is stronger than EoGS. In this case don't use Earthquake on single target.",
								["criteria"] =
								"( buff.echoes_of_great_sundering_es.up || buff.echoes_of_great_sundering_eb.up ) & ( ! talent.elemental_blast.enabled & active_enemies < 2 || active_enemies > 1 )",
								["action"] = "earthquake",
							},
							{
								["enabled"] = true,
								["description"] =
								"Use Earthquake against two enemies unless you have to alternate because of Echoes of Great Sundering.",
								["criteria"] =
								"active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 ) & ! talent.echoes_of_great_sundering.enabled & ! talent.elemental_blast.enabled",
								["action"] = "earthquake",
							},
							{
								["enabled"] = true,
								["description"] = "Default EB line for lightning builds. Requires MotE buff for fire.",
								["criteria"] = "buff.master_of_the_elements.up || talent.lightning_rod.enabled",
								["action"] = "elemental_blast",
							},
							{
								["action"] = "earth_shock",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Fish for DRE procs.",
								["criteria"] = "dot.flame_shock.remains > 2 & talent.deeply_rooted_elements.enabled",
							},
							{
								["enabled"] = true,
								["description"] =
								"Spread out your Icefury usage if you can get more use out of accompanied buffs.",
								["criteria"] =
								"buff.icefury_dmg.up & talent.flux_melting.enabled & ! buff.flux_melting.up",
								["action"] = "frost_shock",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] =
								"Use Lava Burst normally with fire builds. Save it as much as possible in lightning builds unless you cant use Lightning Bolt without wasting Stormkeeper charges.",
								["criteria"] =
								"dot.flame_shock.remains > 2 & talent.echo_of_the_elements.enabled || ! talent.elemental_blast.enabled || ! talent.master_of_the_elements.enabled || buff.stormkeeper.up",
							},
							{
								["action"] = "elemental_blast",
								["enabled"] = true,
							},
							{
								["action"] = "icefury",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["description"] =
								"Utilize the Power of the Maelstrom buff if your Chain Lightning is empowered by Unrelenting Calamity.",
								["criteria"] =
								"buff.power_of_the_maelstrom.up & active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["description"] =
								"Utilize the Power of the Maelstrom buff if your Lightning Bolt is empowered by Unrelenting Calamity.",
								["criteria"] = "buff.power_of_the_maelstrom.up",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.icefury_dmg.up",
								["action"] = "frost_shock",
							},
							{
								["enabled"] = true,
								["description"] =
								"Casting Chain Lightning at two targets is more efficient than Lightning Bolt.",
								["criteria"] =
								"active_enemies > 1 & ( spell_targets.chain_lightning > 1 || spell_targets.lava_beam > 1 )",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["description"] = "Filler spell. Always available. Always the bottom line.",
								["action"] = "lightning_bolt",
							},
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["enabled"] = true,
								["criteria"] = "refreshable",
							},
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["moving"] = 1,
								["criteria"] = "movement.distance > 6",
							},
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["moving"] = 1,
								["description"] = "Frost Shock is our movement filler.",
							},
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] =
								"! buff.fire_elemental.up & ( ! talent.primal_elementalist.enabled || ! buff.lesser_fire_elemental.up )",
								["action"] = "fire_elemental",
							},
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] =
								"! buff.storm_elemental.up & ( ! talent.primal_elementalist.enabled || ! buff.lesser_storm_elemental.up )",
								["action"] = "storm_elemental",
							},
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] = "! buff.stormkeeper.up",
								["action"] = "stormkeeper",
							},
							{
								["enabled"] = true,
								["description"] = "Reset LMT CD as early as possible.",
								["criteria"] = "cooldown.liquid_magma_totem.remains > 45",
								["action"] = "totemic_recall",
							},
							{
								["enabled"] = true,
								["description"] = "Keep your cooldowns rolling.",
								["criteria"] = "totem.liquid_magma_totem.down",
								["action"] = "liquid_magma_totem",
							},
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power.",
								["criteria"] = "buff.surge_of_power.up",
							},
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power.",
								["criteria"] = "talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power.",
								["criteria"] = "talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] =
								"Spread Flame Shock using Surge of Power on up to 4 for Lightning builds.",
								["criteria"] =
								"refreshable & buff.surge_of_power.up & talent.lightning_rod.enabled & dot.flame_shock.remains < target.time_to_die - 16 & active_enemies < 5",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock using Surge of Power up to 6.",
								["criteria"] =
								"refreshable & buff.surge_of_power.up & ( ! talent.lightning_rod.enabled || talent.skybreakers_fiery_demise.enabled ) & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] =
								"Spread Flame Shock against low target counts if Master of the Elements was selected up to 6.",
								["criteria"] =
								"refreshable & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Spread Flame Shock to gamble on Deeply Rooted Element procs up to 6.",
								["criteria"] =
								"refreshable & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & active_dot.flame_shock < 6",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Refresh Flame Shock using Surge of Power up to 6.",
								["criteria"] =
								"refreshable & buff.surge_of_power.up & ( ! talent.lightning_rod.enabled || talent.skybreakers_fiery_demise.enabled ) & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] =
								"Refresh Flame Shock against low target counts if Master of the Elements was selected up to 6.",
								["criteria"] =
								"refreshable & talent.master_of_the_elements.enabled & ! talent.lightning_rod.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
							},
							{
								["enabled"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["description"] = "Refresh Flame Shock to gamble on Deeply Rooted Element procs up to 6.",
								["criteria"] =
								"refreshable & talent.deeply_rooted_elements.enabled & ! talent.surge_of_power.enabled & dot.flame_shock.remains < target.time_to_die - 5 & dot.flame_shock.remains > 0",
							},
							{
								["enabled"] = true,
								["description"] =
								"JUST DO IT! https://i.kym-cdn.com/entries/icons/mobile/000/018/147/Shia_LaBeouf__Just_Do_It__Motivational_Speech_(Original_Video_by_LaBeouf__R%C3%B6nkk%C3%B6___Turner)_0-4_screenshot.jpg",
								["action"] = "ascendance",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "{T31 fire} Lava burst is top prio on 3 targets.",
								["criteria"] =
								"dot.flame_shock.remains & active_enemies = 3 & ( ! talent.lightning_rod.enabled & set_bonus.tier31_4pc )",
							},
							{
								["enabled"] = true,
								["description"] =
								"{T31 fire} Earthquake is still good with Mote and either 10 Magma Chamber stacks on 6+ targets or 9+ targets.",
								["criteria"] =
								"buff.master_of_the_elements.up & ( buff.magma_chamber.stack = 10 & active_enemies >= 6 || talent.splintered_elements.enabled & active_enemies >= 9 || talent.mountains_will_fall.enabled & active_enemies >= 9 ) & ( ! talent.lightning_rod.enabled & set_bonus.tier31_4pc )",
								["action"] = "earthquake",
							},
							{
								["enabled"] = true,
								["description"] = "{T31 fire} Stormkeeper is strong and should be used.",
								["criteria"] =
								"buff.stormkeeper.up & ( buff.surge_of_power.up & active_enemies >= 6 || buff.master_of_the_elements.up & ( active_enemies < 6 || ! talent.surge_of_power.enabled ) ) & ( ! talent.lightning_rod.enabled & set_bonus.tier31_4pc )",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["description"] = "{T31 fire} Stormkeeper is strong and should be used.",
								["criteria"] =
								"buff.stormkeeper.up & ( buff.surge_of_power.up & active_enemies >= 6 || buff.master_of_the_elements.up & ( active_enemies < 6 || ! talent.surge_of_power.enabled ) ) & ( ! talent.lightning_rod.enabled & set_bonus.tier31_4pc )",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "{T31 fire} Lava Surge is strong.",
								["criteria"] =
								"dot.flame_shock.remains & cooldown_react & buff.lava_surge.up & ( ! talent.lightning_rod.enabled & set_bonus.tier31_4pc )",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] =
								"Cast Lava Burst to buff your immediately follow-up Earthquake with Master of the Elements.",
								["criteria"] =
								"dot.flame_shock.remains & cooldown_react & buff.lava_surge.up & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( maelstrom >= 52 - 5 * talent.eye_of_the_storm.enabled - 2 * talent.flow_of_power.enabled ) & ( ! talent.echoes_of_great_sundering.enabled & ! talent.lightning_rod.enabled || buff.echoes_of_great_sundering_es.up || buff.echoes_of_great_sundering_eb.up ) & ( ! buff.ascendance.up & active_enemies > 3 || active_enemies = 3 )",
							},
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected.",
								["criteria"] =
								"! talent.echoes_of_great_sundering.enabled & active_enemies > 3 & ( spell_targets.chain_lightning > 3 || spell_targets.lava_beam > 3 )",
								["action"] = "earthquake",
							},
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected.",
								["criteria"] =
								"! talent.echoes_of_great_sundering.enabled & ! talent.elemental_blast.enabled & active_enemies = 3 & ( spell_targets.chain_lightning = 3 || spell_targets.lava_beam = 3 )",
								["action"] = "earthquake",
							},
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected.",
								["criteria"] =
								"buff.echoes_of_great_sundering_es.up || buff.echoes_of_great_sundering_eb.up",
								["action"] = "earthquake",
							},
							{
								["enabled"] = true,
								["action"] = "elemental_blast",
								["cycle_targets"] = 1,
								["description"] =
								"Use the talents you selected. Spread Lightning Rod to as many targets as possible.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
							},
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["description"] = "Elemental Blast is stronger than Earthquake against 3 targets.",
								["criteria"] = "active_enemies = 3 & ! talent.echoes_of_great_sundering.enabled",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["action"] = "earth_shock",
								["cycle_targets"] = 1,
								["description"] =
								"Use the talents you selected. Spread Lightning Rod to as many targets as possible.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
							},
							{
								["enabled"] = true,
								["description"] = "Use the talents you selected.",
								["criteria"] = "talent.echoes_of_great_sundering.enabled",
								["action"] = "earth_shock",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Buff Stormkeeper with Master of the elements on 3-4 targets.",
								["criteria"] =
								"dot.flame_shock.remains & talent.master_of_the_elements.enabled & ! buff.master_of_the_elements.up & ( buff.stormkeeper.up || t30_2pc_timer.next_tick < 3 & set_bonus.tier30_2pc ) & ( maelstrom < 60 - 5 * talent.eye_of_the_storm.enabled - 2 * talent.flow_of_power.enabled - 10 ) & active_enemies < 5",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["description"] = "Stormkeeper is strong and should be used.",
								["criteria"] = "buff.stormkeeper.up",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["description"] = "Power of the Maelstrom is strong and should be used.",
								["criteria"] = "buff.power_of_the_maelstrom.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["description"] = "Power of the Maelstrom is strong and should be used.",
								["criteria"] = "buff.power_of_the_maelstrom.up",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["description"] =
								"Against 6 targets or more Surge of Power should be used with Lava Beam rather than Lava Burst.",
								["criteria"] =
								"active_enemies >= 6 & buff.surge_of_power.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["description"] =
								"Against 6 targets or more Surge of Power should be used with Chain Lightning rather than Lava Burst.",
								["criteria"] = "active_enemies >= 6 & buff.surge_of_power.up",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["description"] = "Consume Master of the Elements with Lava Beam.",
								["criteria"] = "buff.master_of_the_elements.up & buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] = "Proc Master of the Elements against 3 targets.",
								["criteria"] =
								"dot.flame_shock.remains & active_enemies = 3 & talent.master_of_the_elements.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "lava_burst",
								["cycle_targets"] = 1,
								["description"] =
								"Gamble away for Deeply Rooted Elements procs whenever Lava Surge makes Lava Burst more efficient.",
								["criteria"] =
								"dot.flame_shock.remains & buff.lava_surge.up & talent.deeply_rooted_elements.enabled",
							},
							{
								["enabled"] = true,
								["description"] = "{PH} Icefury line to proc EoGS with Fusion of Elements.",
								["criteria"] =
								"talent.fusion_of_elements.enabled & talent.echoes_of_great_sundering.enabled",
								["action"] = "icefury",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.ascendance.remains > cast_time",
								["action"] = "lava_beam",
							},
							{
								["action"] = "chain_lightning",
								["enabled"] = true,
							},
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
								["enabled"] = true,
								["criteria"] = "refreshable",
							},
							{
								["moving"] = 1,
								["enable_moving"] = true,
								["action"] = "frost_shock",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["enable_moving"] = true,
								["action"] = "spiritwalkers_grace",
								["moving"] = 1,
								["description"] = "Enable more movement.",
								["criteria"] = "movement.distance > 6",
							},
							{
								["enabled"] = true,
								["description"] = "Interrupt of casts.",
								["action"] = "wind_shear",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || buff.ascendance.up",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.ascendance.enabled || buff.ascendance.up || cooldown.ascendance.remains > 50",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.ascendance.enabled || ! buff.ascendance.up",
								["action"] = "bag_of_tricks",
							},
							{
								["action"] = "use_items",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.lightning_shield.down",
								["action"] = "lightning_shield",
							},
							{
								["action"] = "natures_swiftness",
								["enabled"] = true,
							},
							{
								["action"] = "ancestral_swiftness",
								["enabled"] = true,
							},
							{
								["action"] = "potion",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] =
								"active_enemies > 2 & ( spell_targets.chain_lightning > 2 || spell_targets.lava_beam > 2 )",
								["list_name"] = "aoe",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "single_target",
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["description"] =
								"Ensure weapon enchant is applied if you've selected Improved Flametongue Weapon.",
								["criteria"] = "talent.improved_flametongue_weapon.enabled",
								["action"] = "flametongue_weapon",
							},
							{
								["action"] = "skyfury",
								["enabled"] = true,
							},
							{
								["action"] = "potion",
								["enabled"] = true,
							},
							{
								["action"] = "stormkeeper",
								["enabled"] = true,
							},
							{
								["action"] = "lightning_shield",
								["enabled"] = true,
							},
							{
								["action"] = "thunderstrike_ward",
								["enabled"] = true,
							},
						},
					},
				},
				["Marksmanship"] = {
					["source"] = "# https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240805,
					["author"] = "SimC",
					["desc"] =
					"2024-08-01: Use Hunter's Mark setting\n\n2024-07-27: Minor sim update; use Hunter's Mark\n\n2024-07-23: The War Within",
					["lists"] = {
						["trickshots"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"talent.steady_focus.enabled & steady_focus_count & buff.steady_focus.remains < 8",
								["action"] = "steady_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.razor_fragments.up",
								["action"] = "kill_shot",
							},
							{
								["action"] = "explosive_shot",
								["enabled"] = true,
							},
							{
								["action"] = "volley",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.rapid_fire_barrage.enabled",
								["action"] = "barrage",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.trick_shots.remains >= execute_time & talent.surging_shots.enabled",
								["action"] = "rapid_fire",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.precise_shots.down || buff.trueshot.up",
								["action"] = "wailing_arrow",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.trueshot_ready",
								["action"] = "trueshot",
							},
							{
								["enabled"] = true,
								["action"] = "aimed_shot",
								["cycle_targets"] = 1,
								["criteria"] =
								"( buff.trick_shots.remains >= execute_time & ( buff.precise_shots.down || buff.trueshot.up || full_recharge_time < cast_time + gcd.max ) )",
								["description"] =
								"For Serpentstalker's Trickery, target the lowest remaining Serpent Sting. Generally only cast if it would cleave with Trick Shots. Don't overwrite Precise Shots unless Trueshot is up or Aimed Shot would cap otherwise.",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.trick_shots.remains >= execute_time",
								["action"] = "rapid_fire",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.trick_shots.up & buff.precise_shots.up & focus > cost + action.aimed_shot.cost & active_enemies < 4",
								["action"] = "chimaera_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.trick_shots.down || ( buff.precise_shots.up || buff.bulletstorm.stack = 10 ) & focus > cost + action.aimed_shot.cost",
								["action"] = "multishot",
							},
							{
								["enabled"] = true,
								["criteria"] = "focus > cost + action.aimed_shot.cost",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "focus > cost + action.aimed_shot.cost",
								["action"] = "multishot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.trueshot.down",
								["action"] = "bag_of_tricks",
							},
							{
								["action"] = "steady_shot",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"cooldown.trueshot.ready & ( ! raid_event.adds.exists & ( ! talent.bullseye.enabled || fight_remains > cooldown.trueshot.duration_guess + buff.trueshot.duration / 2 || buff.bullseye.stack = buff.bullseye.max_stack ) & ( ! trinket.t1.has_use_buff || trinket.t1.cooldown.remains > 30 || trinket.t1.cooldown.ready ) & ( ! trinket.t2.has_use_buff || trinket.t2.cooldown.remains > 30 || trinket.t2.cooldown.ready ) || raid_event.adds.exists & ( ! raid_event.adds.up & ( raid_event.adds.duration + raid_event.adds.in < 25 || raid_event.adds.in > 60 ) || raid_event.adds.up & raid_event.adds.remains > 10 ) || boss & fight_remains < 25 )",
								["description"] =
								"Determine if it is a good time to use Trueshot. Raid event optimization takes priority so usage is saved for multiple targets as long as it won't delay over half its duration. Otherwise allow for small delays to line up buff effect trinkets, and when using Bullseye, delay the last usage of the fight for max stacks.",
								["var_name"] = "trueshot_ready",
							},
							{
								["action"] = "muzzle",
								["enabled"] = true,
							},
							{
								["action"] = "tranquilizing_shot",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "trinkets",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( settings.mark_any || target.is_boss ) & active_dot.hunters_mark = 0 & target.time_to_pct_80 > 20",
								["action"] = "hunters_mark",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies < 3 || ! talent.trick_shots.enabled",
								["list_name"] = "st",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2",
								["list_name"] = "trickshots",
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "! talent.lone_wolf.enabled",
								["action"] = "summon_pet",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"! trinket.t2.has_cooldown || trinket.t1.has_use_buff & ( ! trinket.t2.has_use_buff || ! trinket.t1.is.mirror_of_fractured_tomorrows & ( trinket.t2.is.mirror_of_fractured_tomorrows || trinket.t2.cooldown.duration < trinket.t1.cooldown.duration || trinket.t2.cast_time < trinket.t1.cast_time || trinket.t2.cast_time = trinket.t1.cast_time & trinket.t2.cooldown.duration = trinket.t1.cooldown.duration ) ) || ! trinket.t1.has_use_buff & ( ! trinket.t2.has_use_buff & ( trinket.t2.cooldown.duration < trinket.t1.cooldown.duration || trinket.t2.cast_time < trinket.t1.cast_time || trinket.t2.cast_time = trinket.t1.cast_time & trinket.t2.cooldown.duration = trinket.t1.cooldown.duration ) )",
								["description"] =
								"Determine the stronger trinket to sync with cooldowns. In descending priority: buff effects > damage effects, longer > shorter cooldowns, longer > shorter cast times. Special case to consider Mirror of Fractured Tomorrows weaker than other buff effects since its power is split between the dmg effect and the buff effect.",
								["var_name"] = "trinket_1_stronger",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "! variable.trinket_1_stronger",
								["var_name"] = "trinket_2_stronger",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( settings.mark_any || target.is_boss ) & active_dot.hunters_mark = 0 & target.time_to_pct_80 > 20",
								["action"] = "hunters_mark",
							},
							{
								["enabled"] = true,
								["precast_time"] = "10",
								["action"] = "salvo",
							},
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							},
							{
								["enabled"] = true,
								["action"] = "aimed_shot",
								["description"] =
								"Precast Aimed Shot on one or two targets unless we could cleave it with Volley on two targets.",
								["criteria"] = "active_enemies < 3 & ( ! talent.volley.enabled || active_enemies < 2 )",
							},
							{
								["enabled"] = true,
								["action"] = "steady_shot",
								["description"] =
								"Precast Steady Shot on two targets if we are saving Aimed Shot to cleave with Volley, otherwise on three or more targets.",
								["criteria"] = "active_enemies > 2 || talent.volley.enabled & active_enemies = 2",
							},
						},
						["trinkets"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.trueshot_ready",
								["description"] =
								"True if effects that are desirable to sync a trinket buff with are ready.",
								["var_name"] = "sync_ready",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.trueshot.up",
								["description"] =
								"True if effecs that are desirable to sync a trinket buff with are active.",
								["var_name"] = "sync_active",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "cooldown.trueshot.remains_guess",
								["description"] =
								"Time until the effects that are desirable to sync a trinket buff with will be ready.",
								["var_name"] = "sync_remains",
							},
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
								["use_off_gcd"] = 1,
								["criteria"] =
								"trinket.t1.has_use_buff & ( variable.sync_ready & ( variable.trinket_1_stronger || trinket.t2.cooldown.remains ) || ! variable.sync_ready & ( variable.trinket_1_stronger & ( variable.sync_remains > trinket.t1.cooldown.duration / 3 & fight_remains > trinket.t1.cooldown.duration + 20 || trinket.t2.has_use_buff & trinket.t2.cooldown.remains > variable.sync_remains - 15 & trinket.t2.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains + 45 > fight_remains ) || variable.trinket_2_stronger & ( trinket.t2.cooldown.remains & ( trinket.t2.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains >= 20 || trinket.t2.cooldown.remains - 5 >= variable.sync_remains & ( variable.sync_remains > trinket.t1.cooldown.duration / 3 || trinket.t1.cooldown.duration < fight_remains & ( variable.sync_remains + trinket.t1.cooldown.duration > fight_remains ) ) ) || trinket.t2.cooldown.ready & variable.sync_remains > 20 & variable.sync_remains < trinket.t2.cooldown.duration / 3 ) ) ) || ! trinket.t1.has_use_buff & ( trinket.t1.cast_time = 0 || ! variable.sync_active ) & ( ! trinket.t2.has_use_buff & ( variable.trinket_1_stronger || trinket.t2.cooldown.remains ) || trinket.t2.has_use_buff & ( variable.sync_remains > 20 || trinket.t2.cooldown.remains > 20 ) ) || boss & fight_remains < 25 & ( variable.trinket_1_stronger || trinket.t2.cooldown.remains )",
								["description"] =
								"Uses buff effect trinkets with cooldowns and is willing to delay usage up to half the trinket cooldown if it won't lose a usage in the fight. Fills in downtime with weaker buff effects if they won't also be saved for later cooldowns (happens if it won't delay over half the trinket cooldown and a stronger trinket won't be up in time) or damage effects if they won't inferfere with any buff effect usage. Intended to be slot-agnostic so that any order of the same trinket pair should result in the same usage.",
							},
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["slot"] = "trinket2",
								["use_off_gcd"] = 1,
								["criteria"] =
								"trinket.t2.has_use_buff & ( variable.sync_ready & ( variable.trinket_2_stronger || trinket.t1.cooldown.remains ) || ! variable.sync_ready & ( variable.trinket_2_stronger & ( variable.sync_remains > trinket.t2.cooldown.duration / 3 & fight_remains > trinket.t2.cooldown.duration + 20 || trinket.t1.has_use_buff & trinket.t1.cooldown.remains > variable.sync_remains - 15 & trinket.t1.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains + 45 > fight_remains ) || variable.trinket_1_stronger & ( trinket.t1.cooldown.remains & ( trinket.t1.cooldown.remains - 5 < variable.sync_remains & variable.sync_remains >= 20 || trinket.t1.cooldown.remains - 5 >= variable.sync_remains & ( variable.sync_remains > trinket.t2.cooldown.duration / 3 || trinket.t2.cooldown.duration < fight_remains & ( variable.sync_remains + trinket.t2.cooldown.duration > fight_remains ) ) ) || trinket.t1.cooldown.ready & variable.sync_remains > 20 & variable.sync_remains < trinket.t1.cooldown.duration / 3 ) ) ) || ! trinket.t2.has_use_buff & ( trinket.t2.cast_time = 0 || ! variable.sync_active ) & ( ! trinket.t1.has_use_buff & ( variable.trinket_2_stronger || trinket.t1.cooldown.remains ) || trinket.t1.has_use_buff & ( variable.sync_remains > 20 || trinket.t1.cooldown.remains > 20 ) ) || boss & fight_remains < 25 & ( variable.trinket_2_stronger || trinket.t1.cooldown.remains )",
							},
						},
						["st"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"talent.steady_focus.enabled & steady_focus_count & buff.steady_focus.remains < 8",
								["action"] = "steady_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.razor_fragments.up",
								["action"] = "kill_shot",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.surging_shots.enabled || action.aimed_shot.full_recharge_time > action.aimed_shot.cast_time + cast_time",
								["action"] = "rapid_fire",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.salvo.up || variable.trueshot_ready || cooldown.trueshot.remains > 45 || fight_remains < 12",
								["action"] = "volley",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "explosive_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.trueshot_ready",
								["action"] = "trueshot",
							},
							{
								["enabled"] = true,
								["action"] = "multishot",
								["description"] = "Trigger Salvo if Volley isn't being used to trigger it.",
								["criteria"] = "buff.salvo.up & ! talent.volley.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "wailing_arrow",
								["description"] =
								"Don't overwrite Precise Shots unless Trueshot is active or it can cleave.",
								["criteria"] = "buff.precise_shots.down || buff.trueshot.up || active_enemies > 1",
							},
							{
								["enabled"] = true,
								["action"] = "aimed_shot",
								["cycle_targets"] = 1,
								["criteria"] =
								"buff.precise_shots.down || ( buff.trueshot.up || full_recharge_time < gcd.max + cast_time ) || ( buff.trick_shots.remains > execute_time & active_enemies > 1 )",
								["description"] =
								"With Serpentstalker's Trickery target the lowest remaining Serpent Sting. Don't overwrite Precise Shots unless either Trueshot is active or Aimed Shot would cap before its next cast. Overwrite freely if it can cleave.",
							},
							{
								["action"] = "kill_shot",
								["enabled"] = true,
							},
							{
								["action"] = "explosive_shot",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.precise_shots.up",
								["action"] = "chimaera_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.precise_shots.up",
								["action"] = "arcane_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.rapid_fire_barrage.enabled",
								["action"] = "barrage",
							},
							{
								["enabled"] = true,
								["criteria"] = "focus > cost + action.aimed_shot.cost",
								["action"] = "arcane_shot",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.trueshot.down",
								["action"] = "bag_of_tricks",
							},
							{
								["action"] = "steady_shot",
								["enabled"] = true,
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.trueshot.up || boss & fight_remains < 13",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.trueshot.up || cooldown.trueshot.remains > 30 || boss & fight_remains < 16",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.trueshot.up || cooldown.trueshot.remains > 30 || boss & fight_remains < 16",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.trueshot.up || cooldown.trueshot.remains > 30 || boss & fight_remains < 9",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.trueshot.down",
								["action"] = "lights_judgment",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.trueshot.up & ( buff.bloodlust.up || target.health.pct < 20 ) || boss & fight_remains < 26",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 2 || cooldown.volley.remains < 10",
								["action"] = "salvo",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'trickshots' required some automated changes.\nLine 1: Converted 'talent.steady_focus' to 'talent.steady_focus.enabled' (1x).\nLine 5: Converted 'talent.rapid_fire_barrage' to 'talent.rapid_fire_barrage.enabled' (1x).\nLine 6: Converted 'talent.surging_shots' to 'talent.surging_shots.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 1: Converted 'talent.bullseye' to 'talent.bullseye.enabled' (1x).\nLine 1: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 1: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 1: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 1: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 1: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\nLine 1: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 1: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 1: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 1: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 1: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 1: Converted operations in 'cooldown.trueshot.ready&(!raid_event.adds.exists&(!talent.bullseye.enabled||fight_remains>cooldown.trueshot.duration_guess+buff.trueshot.duration%2||buff.bullseye.stack=buff.bullseye.max_stack)&(!trinket.t1.has_use_buff||trinket.t1.cooldown.remains>30||trinket.t1.cooldown.ready)&(!trinket.t2.has_use_buff||trinket.t2.cooldown.remains>30||trinket.t2.cooldown.ready)||raid_event.adds.exists&(!raid_event.adds.up&(raid_event.adds.duration+raid_event.adds.in<25||raid_event.adds.in>60)||raid_event.adds.up&raid_event.adds.remains>10)||boss&fight_remains<25)' to 'cooldown.trueshot.ready&(!raid_event.adds.exists&(!talent.bullseye.enabled||fight_remains>cooldown.trueshot.duration_guess+buff.trueshot.duration/2||buff.bullseye.stack=buff.bullseye.max_stack)&(!trinket.t1.has_use_buff||trinket.t1.cooldown.remains>30||trinket.t1.cooldown.ready)&(!trinket.t2.has_use_buff||trinket.t2.cooldown.remains>30||trinket.t2.cooldown.ready)||raid_event.adds.exists&(!raid_event.adds.up&(raid_event.adds.duration+raid_event.adds.in<25||raid_event.adds.in>60)||raid_event.adds.up&raid_event.adds.remains>10)||boss&fight_remains<25)'.\nLine 7: Converted 'talent.trick_shots' to 'talent.trick_shots.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 1: Converted 'talent.lone_wolf' to 'talent.lone_wolf.enabled' (1x).\nLine 2: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.1.is.mirror_of_fractured_tomorrows' to 'trinket.t1.is.mirror_of_fractured_tomorrows' (1x).\nLine 2: Converted 'trinket.2.is.mirror_of_fractured_tomorrows' to 'trinket.t2.is.mirror_of_fractured_tomorrows' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 2: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 2: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 2: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'talent.volley' to 'talent.volley.enabled' (1x).\nLine 8: Converted 'talent.volley' to 'talent.volley.enabled' (1x).\n\nThe import for 'st' required some automated changes.\nLine 1: Converted 'talent.steady_focus' to 'talent.steady_focus.enabled' (1x).\nLine 3: Converted 'talent.surging_shots' to 'talent.surging_shots.enabled' (1x).\nLine 7: Converted 'talent.volley' to 'talent.volley.enabled' (1x).\nLine 14: Converted 'talent.rapid_fire_barrage' to 'talent.rapid_fire_barrage.enabled' (1x).\n\nThe import for 'trinkets' required some automated changes.\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 4: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 4: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 4: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 4: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 4: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.1.cast_time' to 'trinket.t1.cast_time' (1x).\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 4: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 4: Converted operations in 'trinket.t1.has_use_buff&(variable.sync_ready&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||!variable.sync_ready&(variable.trinket_1_stronger&(variable.sync_remains>trinket.t1.cooldown.duration%3&fight_remains>trinket.t1.cooldown.duration+20||trinket.t2.has_use_buff&trinket.t2.cooldown.remains>variable.sync_remains-15&trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_2_stronger&(trinket.t2.cooldown.remains&(trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t2.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t1.cooldown.duration%3||trinket.t1.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t1.cooldown.duration>fight_remains)))||trinket.t2.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t2.cooldown.duration%3)))||!trinket.t1.has_use_buff&(trinket.t1.cast_time=0||!variable.sync_active)&(!trinket.t2.has_use_buff&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||trinket.t2.has_use_buff&(variable.sync_remains>20||trinket.t2.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)' to 'trinket.t1.has_use_buff&(variable.sync_ready&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||!variable.sync_ready&(variable.trinket_1_stronger&(variable.sync_remains>trinket.t1.cooldown.duration/3&fight_remains>trinket.t1.cooldown.duration+20||trinket.t2.has_use_buff&trinket.t2.cooldown.remains>variable.sync_remains-15&trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_2_stronger&(trinket.t2.cooldown.remains&(trinket.t2.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t2.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t1.cooldown.duration/3||trinket.t1.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t1.cooldown.duration>fight_remains)))||trinket.t2.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t2.cooldown.duration/3)))||!trinket.t1.has_use_buff&(trinket.t1.cast_time=0||!variable.sync_active)&(!trinket.t2.has_use_buff&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)||trinket.t2.has_use_buff&(variable.sync_remains>20||trinket.t2.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_1_stronger||trinket.t2.cooldown.remains)'.\nLine 5: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 5: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'trinket.2.cast_time' to 'trinket.t2.cast_time' (1x).\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 5: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 5: Converted operations in 'trinket.t2.has_use_buff&(variable.sync_ready&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||!variable.sync_ready&(variable.trinket_2_stronger&(variable.sync_remains>trinket.t2.cooldown.duration%3&fight_remains>trinket.t2.cooldown.duration+20||trinket.t1.has_use_buff&trinket.t1.cooldown.remains>variable.sync_remains-15&trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_1_stronger&(trinket.t1.cooldown.remains&(trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t1.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t2.cooldown.duration%3||trinket.t2.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t2.cooldown.duration>fight_remains)))||trinket.t1.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t1.cooldown.duration%3)))||!trinket.t2.has_use_buff&(trinket.t2.cast_time=0||!variable.sync_active)&(!trinket.t1.has_use_buff&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||trinket.t1.has_use_buff&(variable.sync_remains>20||trinket.t1.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)' to 'trinket.t2.has_use_buff&(variable.sync_ready&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||!variable.sync_ready&(variable.trinket_2_stronger&(variable.sync_remains>trinket.t2.cooldown.duration/3&fight_remains>trinket.t2.cooldown.duration+20||trinket.t1.has_use_buff&trinket.t1.cooldown.remains>variable.sync_remains-15&trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_1_stronger&(trinket.t1.cooldown.remains&(trinket.t1.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.t1.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.t2.cooldown.duration/3||trinket.t2.cooldown.duration<fight_remains&(variable.sync_remains+trinket.t2.cooldown.duration>fight_remains)))||trinket.t1.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.t1.cooldown.duration/3)))||!trinket.t2.has_use_buff&(trinket.t2.cast_time=0||!variable.sync_active)&(!trinket.t1.has_use_buff&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)||trinket.t1.has_use_buff&(variable.sync_remains>20||trinket.t1.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_2_stronger||trinket.t1.cooldown.remains)'.\n\nImported 6 action lists.\n",
					["spec"] = 254,
					["profile"] =
					"actions.precombat+=/summon_pet,if=!talent.lone_wolf\n# Determine the stronger trinket to sync with cooldowns. In descending priority: buff effects > damage effects, longer > shorter cooldowns, longer > shorter cast times. Special case to consider Mirror of Fractured Tomorrows weaker than other buff effects since its power is split between the dmg effect and the buff effect.\nactions.precombat+=/variable,name=trinket_1_stronger,value=!trinket.2.has_cooldown||trinket.1.has_use_buff&(!trinket.2.has_use_buff||!trinket.1.is.mirror_of_fractured_tomorrows&(trinket.2.is.mirror_of_fractured_tomorrows||trinket.2.cooldown.duration<trinket.1.cooldown.duration||trinket.2.cast_time<trinket.1.cast_time||trinket.2.cast_time=trinket.1.cast_time&trinket.2.cooldown.duration=trinket.1.cooldown.duration))||!trinket.1.has_use_buff&(!trinket.2.has_use_buff&(trinket.2.cooldown.duration<trinket.1.cooldown.duration||trinket.2.cast_time<trinket.1.cast_time||trinket.2.cast_time=trinket.1.cast_time&trinket.2.cooldown.duration=trinket.1.cooldown.duration))\nactions.precombat+=/variable,name=trinket_2_stronger,value=!variable.trinket_1_stronger\nactions.precombat+=/hunters_mark,if=(settings.mark_any||target.is_boss)&active_dot.hunters_mark=0&target.time_to_pct_80>20\nactions.precombat+=/salvo,precast_time=10\nactions.precombat+=/use_item,name=algethar_puzzle_box\n# Precast Aimed Shot on one or two targets unless we could cleave it with Volley on two targets.\nactions.precombat+=/aimed_shot,if=active_enemies<3&(!talent.volley||active_enemies<2)\n# Precast Steady Shot on two targets if we are saving Aimed Shot to cleave with Volley, otherwise on three or more targets.\nactions.precombat+=/steady_shot,if=active_enemies>2||talent.volley&active_enemies=2\n\n# Determine if it is a good time to use Trueshot. Raid event optimization takes priority so usage is saved for multiple targets as long as it won't delay over half its duration. Otherwise allow for small delays to line up buff effect trinkets, and when using Bullseye, delay the last usage of the fight for max stacks.\nactions+=/variable,name=trueshot_ready,value=cooldown.trueshot.ready&(!raid_event.adds.exists&(!talent.bullseye||fight_remains>cooldown.trueshot.duration_guess+buff.trueshot.duration%2||buff.bullseye.stack=buff.bullseye.max_stack)&(!trinket.1.has_use_buff||trinket.1.cooldown.remains>30||trinket.1.cooldown.ready)&(!trinket.2.has_use_buff||trinket.2.cooldown.remains>30||trinket.2.cooldown.ready)||raid_event.adds.exists&(!raid_event.adds.up&(raid_event.adds.duration+raid_event.adds.in<25||raid_event.adds.in>60)||raid_event.adds.up&raid_event.adds.remains>10)||boss&fight_remains<25)\nactions+=/muzzle\nactions+=/tranquilizing_shot\nactions+=/call_action_list,name=cds\nactions+=/call_action_list,name=trinkets\nactions+=/hunters_mark,if=(settings.mark_any||target.is_boss)&active_dot.hunters_mark=0&target.time_to_pct_80>20\nactions+=/call_action_list,name=st,strict=1,if=active_enemies<3||!talent.trick_shots\nactions+=/call_action_list,name=trickshots,strict=1,if=active_enemies>2\n\n## Call for Power Infusion when Trueshot is up.\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.trueshot.remains>12\nactions.cds+=/berserking,if=buff.trueshot.up||boss&fight_remains<13\nactions.cds+=/blood_fury,if=buff.trueshot.up||cooldown.trueshot.remains>30||boss&fight_remains<16\nactions.cds+=/ancestral_call,if=buff.trueshot.up||cooldown.trueshot.remains>30||boss&fight_remains<16\nactions.cds+=/fireblood,if=buff.trueshot.up||cooldown.trueshot.remains>30||boss&fight_remains<9\nactions.cds+=/lights_judgment,if=buff.trueshot.down\nactions.cds+=/potion,if=buff.trueshot.up&(buff.bloodlust.up||target.health.pct<20)||boss&fight_remains<26\nactions.cds+=/salvo,if=active_enemies>2||cooldown.volley.remains<10\n\nactions.st+=/steady_shot,if=talent.steady_focus&steady_focus_count&buff.steady_focus.remains<8\nactions.st+=/kill_shot,if=buff.razor_fragments.up\nactions.st+=/rapid_fire,if=talent.surging_shots||action.aimed_shot.full_recharge_time>action.aimed_shot.cast_time+cast_time\nactions.st+=/volley,if=buff.salvo.up||variable.trueshot_ready||cooldown.trueshot.remains>45||fight_remains<12\nactions.st+=/explosive_shot,if=active_enemies>1\nactions.st+=/trueshot,if=variable.trueshot_ready\n# Trigger Salvo if Volley isn't being used to trigger it.\nactions.st+=/multishot,if=buff.salvo.up&!talent.volley\n# Don't overwrite Precise Shots unless Trueshot is active or it can cleave.\nactions.st+=/wailing_arrow,if=buff.precise_shots.down||buff.trueshot.up||active_enemies>1\n# With Serpentstalker's Trickery target the lowest remaining Serpent Sting. Don't overwrite Precise Shots unless either Trueshot is active or Aimed Shot would cap before its next cast. Overwrite freely if it can cleave.\nactions.st+=/aimed_shot,cycle_targets=1,if=buff.precise_shots.down||(buff.trueshot.up||full_recharge_time<gcd+cast_time)||(buff.trick_shots.remains>execute_time&active_enemies>1)\nactions.st+=/kill_shot\nactions.st+=/explosive_shot\nactions.st+=/chimaera_shot,if=buff.precise_shots.up\nactions.st+=/arcane_shot,if=buff.precise_shots.up\nactions.st+=/barrage,if=talent.rapid_fire_barrage\nactions.st+=/arcane_shot,if=focus>cost+action.aimed_shot.cost\nactions.st+=/bag_of_tricks,if=buff.trueshot.down\nactions.st+=/steady_shot\n\nactions.trickshots+=/steady_shot,if=talent.steady_focus&steady_focus_count&buff.steady_focus.remains<8\nactions.trickshots+=/kill_shot,if=buff.razor_fragments.up\nactions.trickshots+=/explosive_shot\nactions.trickshots+=/volley\nactions.trickshots+=/barrage,if=talent.rapid_fire_barrage\nactions.trickshots+=/rapid_fire,if=buff.trick_shots.remains>=execute_time&talent.surging_shots\nactions.trickshots+=/wailing_arrow,if=buff.precise_shots.down||buff.trueshot.up\nactions.trickshots+=/trueshot,if=variable.trueshot_ready\n# For Serpentstalker's Trickery, target the lowest remaining Serpent Sting. Generally only cast if it would cleave with Trick Shots. Don't overwrite Precise Shots unless Trueshot is up or Aimed Shot would cap otherwise.\nactions.trickshots+=/aimed_shot,cycle_targets=1,if=(buff.trick_shots.remains>=execute_time&(buff.precise_shots.down||buff.trueshot.up||full_recharge_time<cast_time+gcd))\nactions.trickshots+=/rapid_fire,if=buff.trick_shots.remains>=execute_time\nactions.trickshots+=/chimaera_shot,if=buff.trick_shots.up&buff.precise_shots.up&focus>cost+action.aimed_shot.cost&active_enemies<4\nactions.trickshots+=/multishot,if=buff.trick_shots.down||(buff.precise_shots.up||buff.bulletstorm.stack=10)&focus>cost+action.aimed_shot.cost\nactions.trickshots+=/kill_shot,if=focus>cost+action.aimed_shot.cost\nactions.trickshots+=/multishot,if=focus>cost+action.aimed_shot.cost\nactions.trickshots+=/bag_of_tricks,if=buff.trueshot.down\nactions.trickshots+=/steady_shot\n\n# True if effects that are desirable to sync a trinket buff with are ready.\nactions.trinkets+=/variable,name=sync_ready,value=variable.trueshot_ready\n# True if effecs that are desirable to sync a trinket buff with are active.\nactions.trinkets+=/variable,name=sync_active,value=buff.trueshot.up\n# Time until the effects that are desirable to sync a trinket buff with will be ready.\nactions.trinkets+=/variable,name=sync_remains,value=cooldown.trueshot.remains_guess\n# Uses buff effect trinkets with cooldowns and is willing to delay usage up to half the trinket cooldown if it won't lose a usage in the fight. Fills in downtime with weaker buff effects if they won't also be saved for later cooldowns (happens if it won't delay over half the trinket cooldown and a stronger trinket won't be up in time) or damage effects if they won't inferfere with any buff effect usage. Intended to be slot-agnostic so that any order of the same trinket pair should result in the same usage.\nactions.trinkets+=/use_item,use_off_gcd=1,slot=trinket1,if=trinket.1.has_use_buff&(variable.sync_ready&(variable.trinket_1_stronger||trinket.2.cooldown.remains)||!variable.sync_ready&(variable.trinket_1_stronger&(variable.sync_remains>trinket.1.cooldown.duration%3&fight_remains>trinket.1.cooldown.duration+20||trinket.2.has_use_buff&trinket.2.cooldown.remains>variable.sync_remains-15&trinket.2.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_2_stronger&(trinket.2.cooldown.remains&(trinket.2.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.2.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.1.cooldown.duration%3||trinket.1.cooldown.duration<fight_remains&(variable.sync_remains+trinket.1.cooldown.duration>fight_remains)))||trinket.2.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.2.cooldown.duration%3)))||!trinket.1.has_use_buff&(trinket.1.cast_time=0||!variable.sync_active)&(!trinket.2.has_use_buff&(variable.trinket_1_stronger||trinket.2.cooldown.remains)||trinket.2.has_use_buff&(variable.sync_remains>20||trinket.2.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_1_stronger||trinket.2.cooldown.remains)\nactions.trinkets+=/use_item,use_off_gcd=1,slot=trinket2,if=trinket.2.has_use_buff&(variable.sync_ready&(variable.trinket_2_stronger||trinket.1.cooldown.remains)||!variable.sync_ready&(variable.trinket_2_stronger&(variable.sync_remains>trinket.2.cooldown.duration%3&fight_remains>trinket.2.cooldown.duration+20||trinket.1.has_use_buff&trinket.1.cooldown.remains>variable.sync_remains-15&trinket.1.cooldown.remains-5<variable.sync_remains&variable.sync_remains+45>fight_remains)||variable.trinket_1_stronger&(trinket.1.cooldown.remains&(trinket.1.cooldown.remains-5<variable.sync_remains&variable.sync_remains>=20||trinket.1.cooldown.remains-5>=variable.sync_remains&(variable.sync_remains>trinket.2.cooldown.duration%3||trinket.2.cooldown.duration<fight_remains&(variable.sync_remains+trinket.2.cooldown.duration>fight_remains)))||trinket.1.cooldown.ready&variable.sync_remains>20&variable.sync_remains<trinket.1.cooldown.duration%3)))||!trinket.2.has_use_buff&(trinket.2.cast_time=0||!variable.sync_active)&(!trinket.1.has_use_buff&(variable.trinket_2_stronger||trinket.1.cooldown.remains)||trinket.1.has_use_buff&(variable.sync_remains>20||trinket.1.cooldown.remains>20))||boss&fight_remains<25&(variable.trinket_2_stronger||trinket.1.cooldown.remains)",
				},
				["Restoration Druid"] = {
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 105,
					["desc"] = "Healer priorities are DPS-focused only.\n\n2024-07-30: The War Within",
					["lists"] = {
						["cat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.shadowmeld.up || buff.prowl.up || buff.sudden_ambush.up",
								["action"] = "rake",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( cooldown.convoke_the_spirits.remains < 40 || ! talent.convoke_the_spirits.enabled ) || fight_remains < 46",
								["action"] = "heart_of_the_wild",
							},
							{
								["enabled"] = true,
								["action"] = "rip",
								["criteria"] =
								"( ( refreshable || energy > 90 & remains <= 10 ) & ( combo_points = 5 & time_to_die > remains + 24 || ( remains + combo_points * 4 < time_to_die & remains + 4 + combo_points * 4 > time_to_die ) ) || ! ticking & combo_points > 2 + spell_targets.swipe_cat * 2 )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
							},
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] = "refreshable & target.time_to_die > 7 & spell_targets.thrash_cat > 2",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] =
								"( refreshable & target.time_to_die > 5 ) & ! prev_gcd.1.cat_form & ( active_enemies = 1 || talent.improved_sunfire.enabled )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "refreshable & time_to_die > 10 & spell_targets.swipe_cat < 10",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.cat_form.up & energy > 50 & ( dot.rake.refreshable & spell_targets.thrash_cat > 3 & spell_targets.thrash_cat < 7 & talent.thrash.enabled )",
								["action"] = "cat_form",
							},
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] =
								"( refreshable & time_to_die > 12 & ! ticking || ( prev_gcd.1.sunfire & remains < duration * 0.8 & spell_targets.sunfire = 1 ) ) & ! prev_gcd.1.cat_form & spell_targets.swipe_cat < 6",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "prev_gcd.1.moonfire & remains < duration * 0.8",
								["action"] = "sunfire",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_enemies = 1 || ( active_enemies < 8 & ! buff.cat_form.up )",
								["action"] = "starsurge",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up & energy > 50",
								["action"] = "cat_form",
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
							},
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["criteria"] =
								"( combo_points > 3 & target.time_to_die < 3 ) || ( combo_points = 5 & energy >= 50 & dot.rip.remains > 10 ) & spell_targets.swipe_cat < 4",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "thrash_cat",
								["criteria"] =
								"refreshable & target.time_to_die > 6 & ( spell_targets.thrash_cat > 1 || talent.liveliness.enabled )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 3 & combo_points < 5 & talent.improved_swipe.enabled",
								["action"] = "swipe_cat",
							},
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] =
								"refreshable & target.time_to_die > 5 & active_enemies < 7 & ! talent.improved_sunfire.enabled",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
							},
							{
								["enabled"] = true,
								["criteria"] = "energy > 60 & combo_points < 5",
								["action"] = "shred",
							},
						},
						["default"] = {
							{
								["action"] = "skull_bash",
								["enabled"] = true,
							},
							{
								["action"] = "berserking",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "natures_vigil",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "heart_of_the_wild",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "use_items",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up & ! buff.shadowmeld.up",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "talent.rake.enabled",
								["list_name"] = "cat",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.rake.enabled",
								["action"] = "cat_form",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.heart_of_the_wild.up || cooldown.heart_of_the_wild.remains > 60 - 30 * talent.cenarius_guidance.enabled || ! talent.heart_of_the_wild.enabled )",
								["action"] = "convoke_the_spirits",
							},
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & target.time_to_die > 5 & talent.improved_sunfire.enabled",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "refreshable & time_to_die > 12",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_enemies < 8",
								["action"] = "starsurge",
							},
							{
								["enabled"] = true,
								["action"] = "sunfire",
								["criteria"] = "refreshable & target.time_to_die > 7 & active_enemies < 7",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.starfire > 1 || buff.heart_of_the_wild.up",
								["action"] = "starfire",
							},
							{
								["action"] = "wrath",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["description"] =
								"Snapshot raid buffed stats before combat begins and pre-potting is done.",
								["action"] = "heart_of_the_wild",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.rake.enabled",
								["action"] = "cat_form",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.rake.enabled",
								["action"] = "prowl",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] = "Imported 3 action lists.\n",
					["profile"] =
					"# Snapshot raid buffed stats before combat begins and pre-potting is done.\nactions.precombat+=/heart_of_the_wild\nactions.precombat+=/cat_form,if=talent.rake.enabled\nactions.precombat+=/prowl,if=talent.rake.enabled\n\nactions+=/skull_bash\nactions+=/berserking\nactions+=/natures_vigil,if=!buff.prowl.up&!buff.shadowmeld.up\n## actions+=/run_action_list,name=healing,if=!buff.prowl.up&!buff.shadowmeld.up&druid.time_spend_healing,line_cd=20\nactions+=/heart_of_the_wild,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/use_items,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/potion,if=!buff.prowl.up&!buff.shadowmeld.up\nactions+=/run_action_list,name=cat,strict=1,if=talent.rake.enabled\nactions+=/cat_form,if=talent.rake.enabled\nactions+=/convoke_the_spirits,if=(buff.heart_of_the_wild.up||cooldown.heart_of_the_wild.remains>60-30*talent.cenarius_guidance.enabled||!talent.heart_of_the_wild.enabled)\nactions+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>5&talent.improved_sunfire.enabled\nactions+=/moonfire,cycle_targets=1,if=refreshable&time_to_die>12\nactions+=/starsurge,if=active_enemies<8\nactions+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>7&active_enemies<7\nactions+=/starfire,if=spell_targets.starfire>1||buff.heart_of_the_wild.up\nactions+=/wrath\n\nactions.cat+=/rake,if=buff.shadowmeld.up||buff.prowl.up||buff.sudden_ambush.up\nactions.cat+=/heart_of_the_wild,if=(cooldown.convoke_the_spirits.remains<40||!talent.convoke_the_spirits.enabled)||fight_remains<46\nactions.cat+=/rip,cycle_targets=1,if=((refreshable||energy>90&remains<=10)&(combo_points=5&time_to_die>remains+24||(remains+combo_points*4<time_to_die&remains+4+combo_points*4>time_to_die))||!ticking&combo_points>2+spell_targets.swipe_cat*2)\nactions.cat+=/pool_resource,for_next=1\nactions.cat+=/thrash_cat,cycle_targets=1,if=refreshable&target.time_to_die>7&spell_targets.thrash_cat>2\nactions.cat+=/sunfire,cycle_targets=1,if=(refreshable&target.time_to_die>5)&!prev_gcd.1.cat_form&(active_enemies=1||talent.improved_sunfire.enabled)\nactions.cat+=/rake,cycle_targets=1,if=refreshable&time_to_die>10&spell_targets.swipe_cat<10\nactions.cat+=/cat_form,if=!buff.cat_form.up&energy>50&(dot.rake.refreshable&spell_targets.thrash_cat>3&spell_targets.thrash_cat<7&talent.thrash.enabled)\nactions.cat+=/moonfire,cycle_targets=1,if=(refreshable&time_to_die>12&!ticking||(prev_gcd.1.sunfire&remains<duration*0.8&spell_targets.sunfire=1))&!prev_gcd.1.cat_form&spell_targets.swipe_cat<6\nactions.cat+=/sunfire,if=prev_gcd.1.moonfire&remains<duration*0.8\nactions.cat+=/starsurge,if=active_enemies=1||(active_enemies<8&!buff.cat_form.up)\nactions.cat+=/cat_form,if=!buff.cat_form.up&energy>50\nactions.cat+=/pool_resource,for_next=1\nactions.cat+=/ferocious_bite,cycle_targets=1,if=(combo_points>3&target.time_to_die<3)||(combo_points=5&energy>=50&dot.rip.remains>10)&spell_targets.swipe_cat<4\nactions.cat+=/thrash_cat,cycle_targets=1,if=refreshable&target.time_to_die>6&(spell_targets.thrash_cat>1||talent.liveliness.enabled)\nactions.cat+=/swipe_cat,if=active_enemies>3&combo_points<5&talent.improved_swipe.enabled\nactions.cat+=/sunfire,cycle_targets=1,if=refreshable&target.time_to_die>5&active_enemies<7&!talent.improved_sunfire.enabled\nactions.cat+=/pool_resource,for_next=1\nactions.cat+=/shred,if=energy>60&combo_points<5\n\n## actions.healing+=/strict_sequence,name=healregrowthregrowthregrowthregrowth",
					["author"] = "Makahiki",
				},
				["Subtlety"] = {
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 261,
					["desc"] = "2024-07-28: The War Within",
					["lists"] = {
						["stealthed"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"buff.stealth.up & ( spell_targets.shuriken_storm < 4 || priority_rotation )",
								["action"] = "shadowstrike",
								["description"] = "Stealthed Rotation  Always Strike from Stealth",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Finish when on Animacharged combo points or max combo points.",
								["criteria"] =
								"effective_combo_points >= cp_max_spend || buff.shuriken_tornado.up & combo_points.deficit <= 2 || combo_points.deficit <= 1 + ( talent.deeper_stratagem.enabled || talent.secret_stratagem.enabled )",
								["list_name"] = "finish",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.premeditation.up & buff.shadow_dance.remains >= 3 & buff.shadow_blades.up & ! used_for_danse & talent.danse_macabre.enabled & spell_targets.shuriken_storm <= 3 & ! buff.the_rotten.up",
								["action"] = "backstab",
								["description"] = "Backstab for Danse Macabre stack generation during Shadowblades.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.premeditation.up & buff.shadow_dance.remains >= 3 & buff.shadow_blades.up & ! used_for_danse & talent.danse_macabre.enabled & spell_targets.shuriken_storm <= 4",
								["action"] = "gloomblade",
								["description"] = "Gloomblade for Danse Macabre stack generation during Shadowblades.",
							},
							{
								["enabled"] = true,
								["criteria"] = "! used_for_danse & buff.shadow_blades.up",
								["action"] = "shadowstrike",
								["description"] = "Shadow Strike for Danse Macabre stack generation during Shadowblades.",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.premeditation.up & spell_targets >= 4",
								["action"] = "shuriken_storm",
							},
							{
								["action"] = "shadowstrike",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["description"] = "Restealth if possible (no vulnerable enemies in combat)",
								["action"] = "stealth",
							},
							{
								["enabled"] = true,
								["description"] = "Interrupt on cooldown to allow simming interactions with that",
								["action"] = "kick",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "buff.slice_and_dice.up || spell_targets.shuriken_storm >= cp_max_spend",
								["var_name"] = "snd_condition",
								["description"] = "Used to determine whether cooldowns wait for SnD based on targets.",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Check CDs at first",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets.shuriken_storm < cp_max_spend & buff.slice_and_dice.remains < gcd.max & fight_remains > 6 & combo_points >= 4",
								["action"] = "slice_and_dice",
								["description"] =
								"Apply Slice and Dice at 4+ CP if it expires within the next GCD or is not up",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] =
								"Run fully switches to the Stealthed Rotation (by doing so, it forces pooling if nothing is available).",
								["strict"] = 1,
								["criteria"] = "stealthed.all",
								["list_name"] = "stealthed",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"20 + talent.vigor.rank * 25 + talent.thistle_tea.enabled * 20 + talent.shadowcraft.enabled * 20",
								["var_name"] = "stealth_threshold",
								["description"] = "Used to define when to use stealth CDs or builders",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "energy >= variable.stealth_threshold",
								["var_name"] = "stealth_helper",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "energy.deficit <= variable.stealth_threshold",
								["var_name"] = "stealth_helper",
								["criteria"] = "! talent.vigor.enabled || talent.shadowcraft.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Consider using a Stealth CD when reaching the energy threshold",
								["criteria"] = "variable.stealth_helper || talent.invigorating_shadowdust.enabled",
								["list_name"] = "stealth_cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["criteria"] =
								"effective_combo_points >= cp_max_spend || combo_points.deficit <= 1 || fight_remains <= 1 & effective_combo_points >= 3 || spell_targets.shuriken_storm >= 4 & effective_combo_points >= 4",
								["list_name"] = "finish",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Use a builder when reaching the energy threshold",
								["criteria"] = "energy.deficit <= variable.stealth_threshold",
								["list_name"] = "build",
							},
							{
								["enabled"] = true,
								["criteria"] = "energy.deficit >= 15 + energy.regen",
								["action"] = "arcane_torrent",
								["description"] = "Lowest priority in all of the APL because it causes a GCD",
							},
							{
								["action"] = "arcane_pulse",
								["enabled"] = true,
							},
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							},
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["action"] = "stealth",
								["enabled"] = true,
							},
							{
								["action"] = "apply_poison",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "3",
								["var_name"] = "algethar_puzzle_box_precombat_cast",
							},
							{
								["enabled"] = true,
								["name"] = "algethar_puzzle_box",
								["action"] = "algethar_puzzle_box",
							},
							{
								["enabled"] = true,
								["action"] = "slice_and_dice",
								["precombat_seconds"] = "1",
							},
						},
						["build"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets >= 2 + ( talent.gloomblade.enabled & buff.lingering_shadow.remains >= 6 || buff.perforated_veins.up )",
								["action"] = "shuriken_storm",
								["description"] =
								"Builders  Keep using Shuriken Storm for Lingering Shadows on high stacks.",
							},
							{
								["action"] = "gloomblade",
								["enabled"] = true,
							},
							{
								["action"] = "backstab",
								["enabled"] = true,
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( ! equipped.witherbarks_branch || equipped.witherbarks_branch & cooldown.witherbarks_branch.remains <= 8 || equipped.bandolier_of_twisted_blades || talent.invigorating_shadowdust.enabled )",
								["var_name"] = "trinket_conditions",
								["description"] =
								"Cooldowns  Helper Variable for Flagellation for trinket synchronisation",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.secret_technique.enabled & combo_points >= 5",
								["action"] = "cold_blood",
								["description"] = "Cold Blood on 5 combo points when not playing Secret Technique",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.snd_condition & target.time_to_die >= 16 & ( buff.perforated_veins.up || ! talent.perforated_veins.enabled )",
								["action"] = "sepsis",
							},
							{
								["enabled"] = true,
								["action"] = "flagellation",
								["cycle_targets"] = 1,
								["description"] =
								"Defines Flagellation use in a stacked manner with trinkets and Shadow Blades",
								["criteria"] =
								"variable.snd_condition & combo_points >= 5 & target.time_to_die > 10 & ( variable.trinket_conditions & cooldown.shadow_blades.remains <= 3 || boss & fight_remains <= 28 || cooldown.shadow_blades.remains >= 14 & talent.invigorating_shadowdust.enabled & talent.double_dance.enabled ) & ( ! talent.invigorating_shadowdust.enabled || talent.sepsis.enabled || ! talent.double_dance.enabled || talent.invigorating_shadowdust.rank = 2 & spell_targets.shuriken_storm >= 2 || cooldown.symbols_of_death.remains <= 3 || buff.symbols_of_death.remains > 3 )",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.snd_condition & ( ! buff.the_rotten.up || ! set_bonus.tier30_2pc ) & buff.symbols_of_death.remains <= 3 & ( ! talent.flagellation.enabled || cooldown.flagellation.remains > 10 || buff.shadow_dance.remains >= 2 & talent.invigorating_shadowdust.enabled || cooldown.flagellation.up & combo_points >= 5 & ! talent.invigorating_shadowdust.enabled )",
								["action"] = "symbols_of_death",
								["description"] = "Align Symbols of Death to Flagellation.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.snd_condition & ( combo_points <= 1 || set_bonus.tier31_4pc ) & ( buff.flagellation_buff.up || buff.flagellation_persist.up || ! talent.flagellation.enabled )",
								["action"] = "shadow_blades",
								["description"] = "Align Shadow Blades to Flagellation.",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.snd_condition & combo_points.deficit >= 3",
								["action"] = "echoing_reprimand",
								["description"] = "ER during Shadow Dance.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.snd_condition & buff.symbols_of_death.up & combo_points <= 2 & ! buff.premeditation.up & ( ! talent.flagellation.enabled || cooldown.flagellation.remains > 20 ) & spell_targets.shuriken_storm >= 3",
								["action"] = "shuriken_tornado",
								["description"] = "Shuriken Tornado with Symbols of Death on 3 and more targets",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.snd_condition & ! buff.shadow_dance.up & ! buff.flagellation_buff.up & ! buff.flagellation_persist.up & ! buff.shadow_blades.up & spell_targets.shuriken_storm <= 2 & ! raid_event.adds.up",
								["action"] = "shuriken_tornado",
								["description"] = "Shuriken Tornado only outside of cooldowns",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.shadow_dance.up & boss & fight_remains <= 8 + talent.subterfuge.enabled",
								["action"] = "shadow_dance",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.snd_condition & combo_points.deficit >= 3 & ( ! cooldown.shadow_dance.up || talent.double_dance.enabled & buff.shadow_dance.up & ! talent.invigorating_shadowdust.enabled || spell_targets.shuriken_storm < 4 & ! talent.invigorating_shadowdust.enabled || talent.the_rotten.enabled || raid_event.adds.up )",
								["action"] = "goremaws_bite",
								["description"] = "Goremaws Bite during Shadow Dance if possible.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.thistle_tea.up & cooldown.thistle_tea.charges_fractional >= 2.5 & buff.shadow_dance.remains >= 4",
								["action"] = "thistle_tea",
								["description"] = "Thistle Tea during Shadow Dance when close to max stacks.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.thistle_tea.up & buff.shadow_dance.remains >= 4 & cooldown.secret_technique.remains <= 10",
								["action"] = "thistle_tea",
								["description"] = "Thistle Tea during Shadow Dance when Secret Techniques is up.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.thistle_tea.up & ( energy.deficit >= ( 100 ) || ! buff.thistle_tea.up & boss & fight_remains <= ( 6 * cooldown.thistle_tea.charges ) ) & ( cooldown.symbols_of_death.remains >= 3 || buff.symbols_of_death.up ) & combo_points.deficit >= 2",
								["action"] = "thistle_tea",
								["description"] = "Thistle Tea for energy",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.bloodlust.react || boss & fight_remains < 30 || buff.symbols_of_death.up & ( buff.shadow_blades.up || cooldown.shadow_blades.remains <= 10 )",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"buff.shadow_blades.up || ! talent.shadow_blades.enabled & buff.symbols_of_death.up || boss & fight_remains < 20",
								["var_name"] = "racial_sync",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.racial_sync",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.racial_sync",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.racial_sync",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.racial_sync",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["name"] = "ashes_of_the_embersoul",
								["action"] = "ashes_of_the_embersoul",
								["criteria"] =
								"( buff.cold_blood.up || ( ! talent.danse_macabre.enabled & buff.shadow_dance.up || buff.danse_macabre.stack >= 3 ) & ! talent.cold_blood.enabled ) || boss & fight_remains < 10",
								["description"] = "Sync specific trinkets to Flagellation or Shadow Dance.",
							},
							{
								["enabled"] = true,
								["name"] = "witherbarks_branch",
								["action"] = "witherbarks_branch",
								["criteria"] =
								"buff.flagellation_buff.up & talent.invigorating_shadowdust.enabled || buff.shadow_blades.up || equipped.bandolier_of_twisted_blades & raid_event.adds.up",
							},
							{
								["enabled"] = true,
								["name"] = "mirror_of_fractured_tomorrows",
								["action"] = "mirror_of_fractured_tomorrows",
								["criteria"] =
								"buff.shadow_dance.up & ( target.time_to_die >= 15 || equipped.ashes_of_the_embersoul )",
							},
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["criteria"] =
								"! stealthed.all & ( buff.deeper_daggers.up || ! talent.deeper_daggers.enabled ) & ( ! raid_event.adds.up || ! equipped.stormeaters_boon || cooldown.stormeaters_boon.remains > 20 )",
								["name"] = "beacon_to_the_beyond",
							},
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["criteria"] =
								"! stealthed.all & ( ! raid_event.adds.up || ! equipped.stormeaters_boon || cooldown.stormeaters_boon.remains > 20 )",
								["name"] = "manic_grieftorch",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! stealthed.all & ( ! cooldown.mirror_of_fractured_tomorrows.ready || ! equipped.mirror_of_fractured_tomorrows ) & ( ! cooldown.ashes_of_the_embersoul.ready || ! equipped.ashes_of_the_embersoul ) || boss & fight_remains < 10",
								["action"] = "use_items",
								["description"] =
								"Default fallback for usable items: Use outside of Stealth/Shadow Dance.",
							},
						},
						["stealth_cds"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"cooldown.shadow_dance.charges_fractional >= 0.75 + talent.double_dance.enabled",
								["var_name"] = "shd_threshold",
								["description"] = "Stealth Cooldowns  Helper Variable for Shadow Dance.",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( ! buff.the_rotten.up || ! set_bonus.tier30_2pc ) & ( ! talent.cold_blood.enabled || cooldown.cold_blood.remains < 4 || cooldown.cold_blood.remains > 10 )",
								["var_name"] = "rotten_cb",
								["description"] = "Helper variable to check for Cold Blood and The Rotten buff.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( combo_points.deficit > 1 || buff.shadow_blades.up & talent.invigorating_shadowdust.enabled ) & ! variable.shd_threshold & ( cooldown.flagellation.remains >= 60 || ! talent.flagellation.enabled || boss & fight_remains <= ( 30 * cooldown.vanish.charges ) ) & ( cooldown.symbols_of_death.remains > 3 || ! set_bonus.tier30_2pc ) & ( cooldown.secret_technique.remains >= 10 || ! talent.secret_technique.enabled || cooldown.vanish.charges >= 2 & talent.invigorating_shadowdust.enabled & ( buff.the_rotten.up || ! talent.the_rotten.enabled ) & ! raid_event.adds.up )",
								["action"] = "vanish",
								["description"] =
								"Consider Flagellation, Symbols and Secret Technique cooldown when using Vanish with Shadow Dust.",
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
								["criteria"] = "race.night_elf",
								["extra_amount"] = "40",
								["description"] = "Pool for Shadowmeld unless we are about to cap on Dance charges.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"energy >= 40 & energy.deficit >= 10 & ! variable.shd_threshold & combo_points.deficit > 4",
								["action"] = "shadowmeld",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "combo_points.deficit >= 3",
								["var_name"] = "shd_combo_points",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( dot.rupture.ticking || talent.invigorating_shadowdust.enabled ) & variable.rotten_cb & ( ! talent.the_first_dance.enabled || combo_points.deficit >= 4 || buff.shadow_blades.up ) & ( variable.shd_combo_points & variable.shd_threshold || ( buff.shadow_blades.up || cooldown.symbols_of_death.up & ! talent.sepsis.enabled || buff.symbols_of_death.remains >= 4 & ! set_bonus.tier30_2pc || ! buff.symbols_of_death.remains & set_bonus.tier30_2pc ) & cooldown.secret_technique.remains < 10 + 12 * ( ! talent.invigorating_shadowdust.enabled || set_bonus.tier30_2pc ) )",
								["action"] = "shadow_dance",
								["description"] =
								"Shadow dance when Rupture is up and synchronize depending on talent choice.",
							},
						},
						["finish"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( action.gloomblade.used_for_danse || action.shadowstrike.used_for_danse || action.backstab.used_for_danse || action.shuriken_storm.used_for_danse ) & ( action.eviscerate.used_for_danse || action.black_powder.used_for_danse || action.rupture.used_for_danse ) || ! talent.danse_macabre.enabled",
								["var_name"] = "secret_condition",
								["description"] =
								"Finisher  Defines what abilities need to be used for DM stacks before casting Secret Technique.",
							},
							{
								["enabled"] = true,
								["criteria"] = "! dot.rupture.ticking & target.time_to_die - remains > 6",
								["action"] = "rupture",
								["description"] = "Apply Rupture if its not up.",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.premeditation.enabled & spell_targets.shuriken_storm < 5",
								["var_name"] = "premed_snd_condition",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! stealthed.all & ! variable.premed_snd_condition & spell_targets.shuriken_storm < 6 & ! buff.shadow_dance.up & buff.slice_and_dice.remains < fight_remains & refreshable",
								["action"] = "slice_and_dice",
								["description"] = "Refresh Slice and Dice outside of Shadow Dance.",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"buff.thistle_tea.up & spell_targets.shuriken_storm = 1 || buff.shadow_dance.up & ( spell_targets.shuriken_storm = 1 || dot.rupture.ticking & spell_targets.shuriken_storm >= 2 )",
								["var_name"] = "skip_rupture",
								["description"] = "Variable to decide when not to use Rupture.",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! variable.skip_rupture || priority_rotation ) & target.time_to_die - remains > 6 & refreshable",
								["action"] = "rupture",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.finality_rupture.up & buff.shadow_dance.up & spell_targets.shuriken_storm <= 4 & ! action.rupture.used_for_danse",
								["action"] = "rupture",
								["description"] = "Refresh Rupture during Shadow Dance with Finality.",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.secret_condition & cooldown.secret_technique.ready",
								["action"] = "cold_blood",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.secret_condition & ( ! talent.cold_blood.enabled || cooldown.cold_blood.remains > buff.shadow_dance.remains - 2 || ! talent.improved_shadow_dance.enabled )",
								["action"] = "secret_technique",
								["description"] =
								"Synchronizes Secret to Cold Blood if possible. Defaults to use once a builder and finisher is used.",
							},
							{
								["enabled"] = true,
								["action"] = "rupture",
								["cycle_targets"] = 1,
								["description"] =
								"Multidotting targets that will live long enough, refresh during pandemic.",
								["criteria"] =
								"! variable.skip_rupture & ! priority_rotation & spell_targets.shuriken_storm >= 2 & target.time_to_die >= ( 2 * combo_points ) & refreshable",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! variable.skip_rupture & remains < cooldown.symbols_of_death.remains + 10 & cooldown.symbols_of_death.remains <= 5 & target.time_to_die - remains > cooldown.symbols_of_death.remains + 5",
								["action"] = "rupture",
								["description"] =
								"Refresh Rupture early if it will expire during Symbols. Do that refresh if SoD gets ready in the next 5s.",
							},
							{
								["enabled"] = true,
								["criteria"] = "! priority_rotation & spell_targets >= 3",
								["action"] = "black_powder",
							},
							{
								["action"] = "dispatch",
								["enabled"] = true,
							},
							{
								["action"] = "eviscerate",
								["enabled"] = true,
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'stealthed' required some automated changes.\nLine 2: Converted 'talent.deeper_stratagem' to 'talent.deeper_stratagem.enabled' (1x).\nLine 2: Converted 'talent.secret_stratagem' to 'talent.secret_stratagem.enabled' (1x).\nLine 3: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 4: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 7: Converted 'talent.thistle_tea' to 'talent.thistle_tea.enabled' (1x).\nLine 7: Converted 'talent.shadowcraft' to 'talent.shadowcraft.enabled' (1x).\nLine 9: Converted 'talent.vigor' to 'talent.vigor.enabled' (1x).\nLine 9: Converted 'talent.shadowcraft' to 'talent.shadowcraft.enabled' (1x).\nLine 10: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\n\nThe import for 'finish' required some automated changes.\nLine 1: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 9: Converted 'talent.cold_blood' to 'talent.cold_blood.enabled' (1x).\nLine 9: Converted 'talent.improved_shadow_dance' to 'talent.improved_shadow_dance.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 1: Converted 'trinket.witherbarks_branch.cooldown.remains' to 'cooldown.witherbarks_branch.remains'.\nLine 1: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 2: Converted 'talent.secret_technique' to 'talent.secret_technique.enabled' (1x).\nLine 3: Converted 'talent.perforated_veins' to 'talent.perforated_veins.enabled' (1x).\nLine 4: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 4: Converted 'talent.double_dance' to 'talent.double_dance.enabled' (1x).\nLine 4: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 4: Converted 'talent.sepsis' to 'talent.sepsis.enabled' (1x).\nLine 4: Converted 'talent.double_dance' to 'talent.double_dance.enabled' (1x).\nLine 5: Converted 'talent.flagellation' to 'talent.flagellation.enabled' (1x).\nLine 5: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 5: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 6: Converted 'talent.flagellation' to 'talent.flagellation.enabled' (1x).\nLine 8: Converted 'talent.flagellation' to 'talent.flagellation.enabled' (1x).\nLine 11: Converted 'talent.double_dance' to 'talent.double_dance.enabled' (1x).\nLine 11: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 11: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 11: Converted 'talent.the_rotten' to 'talent.the_rotten.enabled' (1x).\nLine 16: Converted 'talent.shadow_blades' to 'talent.shadow_blades.enabled' (1x).\nLine 21: Converted 'talent.danse_macabre' to 'talent.danse_macabre.enabled' (1x).\nLine 21: Converted 'talent.cold_blood' to 'talent.cold_blood.enabled' (1x).\nLine 22: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 24: Converted 'talent.deeper_daggers' to 'talent.deeper_daggers.enabled' (1x).\nLine 24: Converted 'trinket.stormeaters_boon.cooldown.remains' to 'cooldown.stormeaters_boon.remains'.\nLine 25: Converted 'trinket.stormeaters_boon.cooldown.remains' to 'cooldown.stormeaters_boon.remains'.\nLine 26: Converted 'trinket.mirror_of_fractured_tomorrows.cooldown.ready' to 'cooldown.mirror_of_fractured_tomorrows.ready'.\nLine 26: Converted 'trinket.ashes_of_the_embersoul.cooldown.ready' to 'cooldown.ashes_of_the_embersoul.ready'.\n\nThe import for 'stealth_cds' required some automated changes.\nLine 1: Converted 'talent.double_dance' to 'talent.double_dance.enabled' (1x).\nLine 2: Converted 'talent.cold_blood' to 'talent.cold_blood.enabled' (1x).\nLine 3: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 3: Converted 'talent.flagellation' to 'talent.flagellation.enabled' (1x).\nLine 3: Converted 'talent.secret_technique' to 'talent.secret_technique.enabled' (1x).\nLine 3: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 3: Converted 'talent.the_rotten' to 'talent.the_rotten.enabled' (1x).\nLine 7: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\nLine 7: Converted 'talent.the_first_dance' to 'talent.the_first_dance.enabled' (1x).\nLine 7: Converted 'talent.sepsis' to 'talent.sepsis.enabled' (1x).\nLine 7: Converted 'talent.invigorating_shadowdust' to 'talent.invigorating_shadowdust.enabled' (1x).\n\nThe import for 'build' required some automated changes.\nLine 1: Converted 'talent.gloomblade' to 'talent.gloomblade.enabled' (1x).\n\nImported 7 action lists.\n",
					["author"] = "SimC",
					["profile"] =
					"actions.precombat+=/stealth\nactions.precombat+=/apply_poison\nactions.precombat+=/variable,name=algethar_puzzle_box_precombat_cast,value=3\nactions.precombat+=/use_item,name=algethar_puzzle_box\nactions.precombat+=/slice_and_dice,precombat_seconds=1\n\n# Restealth if possible (no vulnerable enemies in combat)\nactions+=/stealth\n# Interrupt on cooldown to allow simming interactions with that\nactions+=/kick\n# Used to determine whether cooldowns wait for SnD based on targets.\nactions+=/variable,name=snd_condition,value=buff.slice_and_dice.up||spell_targets.shuriken_storm>=cp_max_spend\n# Check CDs at first\nactions+=/call_action_list,name=cds\n# Apply Slice and Dice at 4+ CP if it expires within the next GCD or is not up\nactions+=/slice_and_dice,if=spell_targets.shuriken_storm<cp_max_spend&buff.slice_and_dice.remains<gcd.max&fight_remains>6&combo_points>=4\n# Run fully switches to the Stealthed Rotation (by doing so, it forces pooling if nothing is available).\nactions+=/run_action_list,name=stealthed,strict=1,if=stealthed.all\n# Used to define when to use stealth CDs or builders\nactions+=/variable,name=stealth_threshold,value=20+talent.vigor.rank*25+talent.thistle_tea*20+talent.shadowcraft*20\nactions+=/variable,name=stealth_helper,value=energy>=variable.stealth_threshold\nactions+=/variable,name=stealth_helper,value=energy.deficit<=variable.stealth_threshold,if=!talent.vigor||talent.shadowcraft\n# Consider using a Stealth CD when reaching the energy threshold\nactions+=/call_action_list,name=stealth_cds,if=variable.stealth_helper||talent.invigorating_shadowdust\nactions+=/call_action_list,name=finish,if=effective_combo_points>=cp_max_spend||combo_points.deficit<=1||fight_remains<=1&effective_combo_points>=3||spell_targets.shuriken_storm>=4&effective_combo_points>=4\n# Use a builder when reaching the energy threshold\nactions+=/call_action_list,name=build,if=energy.deficit<=variable.stealth_threshold\n# Lowest priority in all of the APL because it causes a GCD\nactions+=/arcane_torrent,if=energy.deficit>=15+energy.regen\nactions+=/arcane_pulse\nactions+=/lights_judgment\nactions+=/bag_of_tricks\n\n# Builders  Keep using Shuriken Storm for Lingering Shadows on high stacks.\nactions.build+=/shuriken_storm,if=spell_targets>=2+(talent.gloomblade&buff.lingering_shadow.remains>=6||buff.perforated_veins.up)\nactions.build+=/gloomblade\nactions.build+=/backstab\n\n# Cooldowns  Helper Variable for Flagellation for trinket synchronisation\nactions.cds+=/variable,name=trinket_conditions,value=(!equipped.witherbarks_branch||equipped.witherbarks_branch&trinket.witherbarks_branch.cooldown.remains<=8||equipped.bandolier_of_twisted_blades||talent.invigorating_shadowdust)\n# Cold Blood on 5 combo points when not playing Secret Technique\nactions.cds+=/cold_blood,if=!talent.secret_technique&combo_points>=5\nactions.cds+=/sepsis,if=variable.snd_condition&target.time_to_die>=16&(buff.perforated_veins.up||!talent.perforated_veins)\n# Defines Flagellation use in a stacked manner with trinkets and Shadow Blades\nactions.cds+=/flagellation,cycle_targets=1,if=variable.snd_condition&combo_points>=5&target.time_to_die>10&(variable.trinket_conditions&cooldown.shadow_blades.remains<=3||boss&fight_remains<=28||cooldown.shadow_blades.remains>=14&talent.invigorating_shadowdust&talent.double_dance)&(!talent.invigorating_shadowdust||talent.sepsis||!talent.double_dance||talent.invigorating_shadowdust.rank=2&spell_targets.shuriken_storm>=2||cooldown.symbols_of_death.remains<=3||buff.symbols_of_death.remains>3)\n# Align Symbols of Death to Flagellation.\nactions.cds+=/symbols_of_death,if=variable.snd_condition&(!buff.the_rotten.up||!set_bonus.tier30_2pc)&buff.symbols_of_death.remains<=3&(!talent.flagellation||cooldown.flagellation.remains>10||buff.shadow_dance.remains>=2&talent.invigorating_shadowdust||cooldown.flagellation.up&combo_points>=5&!talent.invigorating_shadowdust)\n# Align Shadow Blades to Flagellation.\nactions.cds+=/shadow_blades,if=variable.snd_condition&(combo_points<=1||set_bonus.tier31_4pc)&(buff.flagellation_buff.up||buff.flagellation_persist.up||!talent.flagellation)\n# ER during Shadow Dance.\nactions.cds+=/echoing_reprimand,if=variable.snd_condition&combo_points.deficit>=3\n# Shuriken Tornado with Symbols of Death on 3 and more targets\nactions.cds+=/shuriken_tornado,if=variable.snd_condition&buff.symbols_of_death.up&combo_points<=2&!buff.premeditation.up&(!talent.flagellation||cooldown.flagellation.remains>20)&spell_targets.shuriken_storm>=3\n# Shuriken Tornado only outside of cooldowns\nactions.cds+=/shuriken_tornado,if=variable.snd_condition&!buff.shadow_dance.up&!buff.flagellation_buff.up&!buff.flagellation_persist.up&!buff.shadow_blades.up&spell_targets.shuriken_storm<=2&!raid_event.adds.up\nactions.cds+=/shadow_dance,if=!buff.shadow_dance.up&boss&fight_remains<=8+talent.subterfuge.enabled\n# Goremaws Bite during Shadow Dance if possible.\nactions.cds+=/goremaws_bite,if=variable.snd_condition&combo_points.deficit>=3&(!cooldown.shadow_dance.up||talent.double_dance&buff.shadow_dance.up&!talent.invigorating_shadowdust||spell_targets.shuriken_storm<4&!talent.invigorating_shadowdust||talent.the_rotten||raid_event.adds.up)\n# Thistle Tea during Shadow Dance when close to max stacks.\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&cooldown.thistle_tea.charges_fractional>=2.5&buff.shadow_dance.remains>=4\n# Thistle Tea during Shadow Dance when Secret Techniques is up.\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&buff.shadow_dance.remains>=4&cooldown.secret_technique.remains<=10\n# Thistle Tea for energy\nactions.cds+=/thistle_tea,if=!buff.thistle_tea.up&(energy.deficit>=(100)||!buff.thistle_tea.up&boss&fight_remains<=(6*cooldown.thistle_tea.charges))&(cooldown.symbols_of_death.remains>=3||buff.symbols_of_death.up)&combo_points.deficit>=2\nactions.cds+=/potion,if=buff.bloodlust.react||boss&fight_remains<30||buff.symbols_of_death.up&(buff.shadow_blades.up||cooldown.shadow_blades.remains<=10)\nactions.cds+=/variable,name=racial_sync,value=buff.shadow_blades.up||!talent.shadow_blades&buff.symbols_of_death.up||boss&fight_remains<20\nactions.cds+=/blood_fury,if=variable.racial_sync\nactions.cds+=/berserking,if=variable.racial_sync\nactions.cds+=/fireblood,if=variable.racial_sync\nactions.cds+=/ancestral_call,if=variable.racial_sync\n# Sync specific trinkets to Flagellation or Shadow Dance.\nactions.cds+=/use_item,name=ashes_of_the_embersoul,if=(buff.cold_blood.up||(!talent.danse_macabre&buff.shadow_dance.up||buff.danse_macabre.stack>=3)&!talent.cold_blood)||boss&fight_remains<10\nactions.cds+=/use_item,name=witherbarks_branch,if=buff.flagellation_buff.up&talent.invigorating_shadowdust||buff.shadow_blades.up||equipped.bandolier_of_twisted_blades&raid_event.adds.up\nactions.cds+=/use_item,name=mirror_of_fractured_tomorrows,if=buff.shadow_dance.up&(target.time_to_die>=15||equipped.ashes_of_the_embersoul)\nactions.cds+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=!stealthed.all&(buff.deeper_daggers.up||!talent.deeper_daggers)&(!raid_event.adds.up||!equipped.stormeaters_boon||trinket.stormeaters_boon.cooldown.remains>20)\nactions.cds+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=!stealthed.all&(!raid_event.adds.up||!equipped.stormeaters_boon||trinket.stormeaters_boon.cooldown.remains>20)\n## PI\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=buff.shadow_dance.up\n# Default fallback for usable items: Use outside of Stealth/Shadow Dance.\nactions.cds+=/use_items,if=!stealthed.all&(!trinket.mirror_of_fractured_tomorrows.cooldown.ready||!equipped.mirror_of_fractured_tomorrows)&(!trinket.ashes_of_the_embersoul.cooldown.ready||!equipped.ashes_of_the_embersoul)||boss&fight_remains<10\n\n# Finisher  Defines what abilities need to be used for DM stacks before casting Secret Technique.\nactions.finish+=/variable,name=secret_condition,value=(action.gloomblade.used_for_danse||action.shadowstrike.used_for_danse||action.backstab.used_for_danse||action.shuriken_storm.used_for_danse)&(action.eviscerate.used_for_danse||action.black_powder.used_for_danse||action.rupture.used_for_danse)||!talent.danse_macabre\n# Apply Rupture if its not up.\nactions.finish+=/rupture,if=!dot.rupture.ticking&target.time_to_die-remains>6\nactions.finish+=/variable,name=premed_snd_condition,value=talent.premeditation.enabled&spell_targets.shuriken_storm<5\n# Refresh Slice and Dice outside of Shadow Dance.\nactions.finish+=/slice_and_dice,if=!stealthed.all&!variable.premed_snd_condition&spell_targets.shuriken_storm<6&!buff.shadow_dance.up&buff.slice_and_dice.remains<fight_remains&refreshable\n# Variable to decide when not to use Rupture.\nactions.finish+=/variable,name=skip_rupture,value=buff.thistle_tea.up&spell_targets.shuriken_storm=1||buff.shadow_dance.up&(spell_targets.shuriken_storm=1||dot.rupture.ticking&spell_targets.shuriken_storm>=2)\nactions.finish+=/rupture,if=(!variable.skip_rupture||priority_rotation)&target.time_to_die-remains>6&refreshable\n# Refresh Rupture during Shadow Dance with Finality.\nactions.finish+=/rupture,if=buff.finality_rupture.up&buff.shadow_dance.up&spell_targets.shuriken_storm<=4&!action.rupture.used_for_danse\nactions.finish+=/cold_blood,if=variable.secret_condition&cooldown.secret_technique.ready\n# Synchronizes Secret to Cold Blood if possible. Defaults to use once a builder and finisher is used.\nactions.finish+=/secret_technique,if=variable.secret_condition&(!talent.cold_blood||cooldown.cold_blood.remains>buff.shadow_dance.remains-2||!talent.improved_shadow_dance)\n# Multidotting targets that will live long enough, refresh during pandemic.\nactions.finish+=/rupture,cycle_targets=1,if=!variable.skip_rupture&!priority_rotation&spell_targets.shuriken_storm>=2&target.time_to_die>=(2*combo_points)&refreshable\n# Refresh Rupture early if it will expire during Symbols. Do that refresh if SoD gets ready in the next 5s.\nactions.finish+=/rupture,if=!variable.skip_rupture&remains<cooldown.symbols_of_death.remains+10&cooldown.symbols_of_death.remains<=5&target.time_to_die-remains>cooldown.symbols_of_death.remains+5\nactions.finish+=/black_powder,if=!priority_rotation&spell_targets>=3\nactions.finish+=/coup_de_grace\nactions.finish+=/eviscerate\n\n# Stealth Cooldowns  Helper Variable for Shadow Dance.\nactions.stealth_cds+=/variable,name=shd_threshold,value=cooldown.shadow_dance.charges_fractional>=0.75+talent.double_dance\n# Helper variable to check for Cold Blood and The Rotten buff.\nactions.stealth_cds+=/variable,name=rotten_cb,value=(!buff.the_rotten.up||!set_bonus.tier30_2pc)&(!talent.cold_blood||cooldown.cold_blood.remains<4||cooldown.cold_blood.remains>10)\n# Consider Flagellation, Symbols and Secret Technique cooldown when using Vanish with Shadow Dust.\nactions.stealth_cds+=/vanish,if=(combo_points.deficit>1||buff.shadow_blades.up&talent.invigorating_shadowdust)&!variable.shd_threshold&(cooldown.flagellation.remains>=60||!talent.flagellation||boss&fight_remains<=(30*cooldown.vanish.charges))&(cooldown.symbols_of_death.remains>3||!set_bonus.tier30_2pc)&(cooldown.secret_technique.remains>=10||!talent.secret_technique||cooldown.vanish.charges>=2&talent.invigorating_shadowdust&(buff.the_rotten.up||!talent.the_rotten)&!raid_event.adds.up)\n# Pool for Shadowmeld unless we are about to cap on Dance charges.\nactions.stealth_cds+=/pool_resource,for_next=1,extra_amount=40,if=race.night_elf\nactions.stealth_cds+=/shadowmeld,if=energy>=40&energy.deficit>=10&!variable.shd_threshold&combo_points.deficit>4\nactions.stealth_cds+=/variable,name=shd_combo_points,value=combo_points.deficit>=3\n# Shadow dance when Rupture is up and synchronize depending on talent choice.\nactions.stealth_cds+=/shadow_dance,if=(dot.rupture.ticking||talent.invigorating_shadowdust)&variable.rotten_cb&(!talent.the_first_dance||combo_points.deficit>=4||buff.shadow_blades.up)&(variable.shd_combo_points&variable.shd_threshold||(buff.shadow_blades.up||cooldown.symbols_of_death.up&!talent.sepsis||buff.symbols_of_death.remains>=4&!set_bonus.tier30_2pc||!buff.symbols_of_death.remains&set_bonus.tier30_2pc)&cooldown.secret_technique.remains<10+12*(!talent.invigorating_shadowdust||set_bonus.tier30_2pc))\n\n# Stealthed Rotation  Always Strike from Stealth\nactions.stealthed+=/shadowstrike,if=buff.stealth.up&(spell_targets.shuriken_storm<4||priority_rotation)\n# Finish when on Animacharged combo points or max combo points.\nactions.stealthed+=/call_action_list,name=finish,if=effective_combo_points>=cp_max_spend||buff.shuriken_tornado.up&combo_points.deficit<=2||combo_points.deficit<=1+(talent.deeper_stratagem||talent.secret_stratagem)\n# Backstab for Danse Macabre stack generation during Shadowblades.\nactions.stealthed+=/backstab,if=!buff.premeditation.up&buff.shadow_dance.remains>=3&buff.shadow_blades.up&!used_for_danse&talent.danse_macabre&spell_targets.shuriken_storm<=3&!buff.the_rotten.up\n# Gloomblade for Danse Macabre stack generation during Shadowblades.\nactions.stealthed+=/gloomblade,if=!buff.premeditation.up&buff.shadow_dance.remains>=3&buff.shadow_blades.up&!used_for_danse&talent.danse_macabre&spell_targets.shuriken_storm<=4\n# Shadow Strike for Danse Macabre stack generation during Shadowblades.\nactions.stealthed+=/shadowstrike,if=!used_for_danse&buff.shadow_blades.up\nactions.stealthed+=/shuriken_storm,if=!buff.premeditation.up&spell_targets>=4\nactions.stealthed+=/shadowstrike",
				},
				["Enhancement"] = {
					["source"] =
					"https://github.com/simulationcraft/simc/blob/dragonflight/engine/class_modules/sc_shaman.cpp",
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 263,
					["desc"] = "2024-07-23: The War Within",
					["lists"] = {
						["single"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"! dot.flame_shock.ticking & talent.lashing_flames.enabled & ( raid_event.adds.in > ( action.primordial_wave.cooldown / ( 1 + set_bonus.tier31_4pc ) ) || raid_event.adds.in < 6 )",
								["action"] = "primordial_wave",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ticking & talent.lashing_flames.enabled",
								["action"] = "flame_shock",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack >= 5 & talent.elemental_spirits.enabled & feral_spirit.active >= 4",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] = "set_bonus.tier30_2pc & raid_event.adds.in >= action.sundering.cooldown",
								["action"] = "sundering",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.down & buff.ascendance.up & ti_chain_lightning & ( buff.ascendance.remains > ( cooldown.strike.remains + gcd.max ) )",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.doom_winds.up || talent.deeply_rooted_elements.enabled || ( talent.stormblast.enabled & buff.stormbringer.up )",
								["action"] = "stormstrike",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.hot_hand.up",
								["action"] = "lava_lash",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & charges = max_charges",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack >= 8 & buff.primordial_wave.up & raid_event.adds.in > buff.primordial_wave.remains & ( ! buff.splintered_elements.up || boss & fight_remains <= 12 )",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack >= 8 & buff.crackling_thunder.up & talent.elemental_spirits.enabled",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack >= 8 & ( feral_spirit.active >= 2 || ! talent.elemental_spirits.enabled )",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack >= 5",
								["action"] = "lava_burst",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ( buff.maelstrom_weapon.stack >= 8 ) || ( talent.static_accumulation.enabled & buff.maelstrom_weapon.stack >= 5 ) ) & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0",
								["action"] = "crash_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"raid_event.adds.in > ( action.primordial_wave.cooldown / ( 1 + set_bonus.tier31_4pc ) ) || raid_event.adds.in < 6",
								["action"] = "primordial_wave",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.elemental_assault.enabled & talent.swirling_maelstrom.enabled",
								["action"] = "ice_strike",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.lashing_flames.enabled",
								["action"] = "lava_lash",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.ice_strike.up",
								["action"] = "ice_strike",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.hailstorm.up",
								["action"] = "frost_shock",
							},
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							},
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							},
							{
								["action"] = "windstrike",
								["enabled"] = true,
							},
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in >= action.sundering.cooldown",
								["action"] = "sundering",
							},
							{
								["action"] = "bag_of_tricks",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.swirling_maelstrom.enabled & active_dot.flame_shock & buff.maelstrom_weapon.stack < buff.maelstrom_weapon.max_stack",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.hailstorm.enabled & buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							},
							{
								["action"] = "frost_shock",
								["enabled"] = true,
							},
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock",
								["action"] = "fire_nova",
							},
							{
								["action"] = "earth_elemental",
								["enabled"] = true,
							},
							{
								["action"] = "flame_shock",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack >= 5 & buff.crackling_thunder.up & talent.elemental_spirits.enabled",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5 & buff.primordial_wave.down",
								["action"] = "lightning_bolt",
							},
						},
						["funnel"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"( active_dot.flame_shock = active_enemies || active_dot.flame_shock = 6 ) & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || boss & fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.molten_assault.enabled & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6 ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
								["action"] = "lava_lash",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.primordial_wave.up",
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 1 ) || buff.converging_storms.stack = buff.converging_storms.max_stack",
								["action"] = "windstrike",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.converging_storms.stack = buff.converging_storms.max_stack",
								["action"] = "stormstrike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & buff.crackling_thunder.up",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.molten_weapon.stack + buff.volcanic_strength.up > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "lava_burst",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 ) || ( talent.converging_storms.enabled & buff.converging_storms.stack < buff.converging_storms.max_stack )",
								["action"] = "crash_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || set_bonus.tier30_2pc",
								["action"] = "sundering",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"active_dot.flame_shock = 6 || ( active_dot.flame_shock >= 4 & active_dot.flame_shock = active_enemies )",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
								["action"] = "ice_strike",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
								["action"] = "frost_shock",
							},
							{
								["action"] = "sundering",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ! ticking",
								["action"] = "flame_shock",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 3",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.crash_lightning.up & talent.deeply_rooted_elements.enabled",
								["action"] = "stormstrike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
								["action"] = "crash_lightning",
							},
							{
								["action"] = "windstrike",
								["enabled"] = true,
							},
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							},
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							},
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							},
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 2",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || buff.feral_spirit.up ) ) ) & buff.maelstrom_weapon.stack >= 5",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.molten_weapon.stack + buff.volcanic_strength.up > buff.crackling_surge.stack ) & buff.maelstrom_weapon.stack >= 5",
								["action"] = "lava_burst",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.hailstorm.enabled",
								["action"] = "frost_shock",
							},
						},
						["default"] = {
							{
								["action"] = "bloodlust",
								["line_cd"] = "600",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % 300 <= 30 ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["description"] = "Interrupt of casts.",
								["action"] = "wind_shear",
							},
							{
								["action"] = "purge",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["use_off_gcd"] = 1,
								["action"] = "elementium_pocket_anvil",
								["name"] = "elementium_pocket_anvil",
							},
							{
								["enabled"] = true,
								["action"] = "algethar_puzzle_box",
								["use_off_gcd"] = 1,
								["criteria"] =
								"( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( talent.ascendance.enabled & ( cooldown.ascendance.remains < 2 * action.stormstrike.gcd ) ) || ( fight_remains % 180 <= 30 )",
								["name"] = "algethar_puzzle_box",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! variable.trinket1_is_weird & trinket.t1.has_use_buff & ( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % trinket.t1.cooldown.duration <= trinket.t1.buff_duration ) || ( variable.min_talented_cd_remains >= trinket.t1.cooldown.duration ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! variable.trinket2_is_weird & trinket.t2.has_use_buff & ( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % trinket.t2.cooldown.duration <= trinket.t2.buff_duration ) || ( variable.min_talented_cd_remains >= trinket.t2.cooldown.duration ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							},
							{
								["enabled"] = true,
								["action"] = "beacon_to_the_beyond",
								["use_off_gcd"] = 1,
								["criteria"] =
								"( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( fight_remains % 150 <= 5 )",
								["name"] = "beacon_to_the_beyond",
							},
							{
								["enabled"] = true,
								["action"] = "manic_grieftorch",
								["use_off_gcd"] = 1,
								["criteria"] =
								"( ! buff.ascendance.up & ! buff.feral_spirit.up & ! buff.doom_winds.up ) || ( fight_remains % 120 <= 5 )",
								["name"] = "manic_grieftorch",
							},
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket1_is_weird & ! trinket.t1.has_use_buff",
								["action"] = "trinket1",
								["slot"] = "trinket1",
							},
							{
								["enabled"] = true,
								["criteria"] = "! variable.trinket2_is_weird & ! trinket.t2.has_use_buff",
								["action"] = "trinket2",
								["slot"] = "trinket2",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % action.blood_fury.cooldown <= action.blood_fury.duration ) || ( variable.min_talented_cd_remains >= action.blood_fury.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % action.berserking.cooldown <= action.berserking.duration ) || ( variable.min_talented_cd_remains >= action.berserking.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % action.fireblood.cooldown <= action.fireblood.duration ) || ( variable.min_talented_cd_remains >= action.fireblood.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.ascendance.up || buff.feral_spirit.up || buff.doom_winds.up || ( fight_remains % action.ancestral_call.cooldown <= action.ancestral_call.duration ) || ( variable.min_talented_cd_remains >= action.ancestral_call.cooldown ) || ( ! talent.ascendance.enabled & ! talent.feral_spirit.enabled & ! talent.doom_winds.enabled ) )",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.thorims_invocation.enabled & buff.maelstrom_weapon.stack > 1 & ( active_enemies = 1 & ti_lightning_bolt ) || ( active_enemies > 1 & ti_chain_lightning )",
								["action"] = "windstrike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"set_bonus.tier31_2pc & ( raid_event.adds.in > ( action.primordial_wave.cooldown / ( 1 + set_bonus.tier31_4pc ) ) || raid_event.adds.in < 6 )",
								["action"] = "primordial_wave",
							},
							{
								["action"] = "feral_spirit",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"dot.flame_shock.ticking & ( ( ti_lightning_bolt & active_enemies = 1 & raid_event.adds.in >= action.ascendance.cooldown / 2 ) || ( ti_chain_lightning & active_enemies > 1 ) )",
								["action"] = "ascendance",
							},
							{
								["enabled"] = true,
								["criteria"] = "raid_event.adds.in >= action.doom_winds.cooldown || active_enemies > 1",
								["action"] = "doom_winds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies = 1",
								["list_name"] = "single",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 1 & ( rotation.standard || rotation.simple )",
								["list_name"] = "aoe",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 1 & rotation.funnel",
								["list_name"] = "funnel",
							},
						},
						["precombat"] = {
							{
								["action"] = "windfury_weapon",
								["enabled"] = true,
							},
							{
								["action"] = "flametongue_weapon",
								["enabled"] = true,
							},
							{
								["action"] = "skyfury",
								["enabled"] = true,
							},
							{
								["action"] = "lightning_shield",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"trinket.t1.is.algethar_puzzle_box || trinket.t1.is.manic_grieftorch || trinket.t1.is.elementium_pocket_anvil || trinket.t1.is.beacon_to_the_beyond",
								["var_name"] = "trinket1_is_weird",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"trinket.t2.is.algethar_puzzle_box || trinket.t2.is.manic_grieftorch || trinket.t2.is.elementium_pocket_anvil || trinket.t2.is.beacon_to_the_beyond",
								["var_name"] = "trinket2_is_weird",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( ( cooldown.feral_spirit.remains / ( 1 + 1.5 * talent.witch_doctors_ancestry.rank ) ) + 1000 * ! talent.feral_spirit.enabled ) <? ( cooldown.doom_winds.remains + 1000 * ! talent.doom_winds.enabled ) <? ( cooldown.ascendance.remains + 1000 * ! talent.ascendance.enabled )",
								["var_name"] = "min_talented_cd_remains",
							},
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"talent.crashing_storms.enabled & ( ( talent.unruly_winds.enabled & active_enemies >= 10 ) || active_enemies >= 15 )",
								["action"] = "crash_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( active_dot.flame_shock = active_enemies || active_dot.flame_shock = 6 ) & buff.primordial_wave.up & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! buff.splintered_elements.up || boss & fight_remains <= 12 || raid_event.adds.remains <= gcd.max )",
								["action"] = "lightning_bolt",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.molten_assault.enabled & ( talent.primordial_wave.enabled || talent.fire_nova.enabled ) & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "lava_lash",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.primordial_wave.up",
								["action"] = "primordial_wave",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || feral_spirit.active >= 2 ) ) ) & buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack & ( ! talent.crashing_storms.enabled || active_enemies <= 3 )",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack = buff.maelstrom_weapon.max_stack",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.doom_winds.up || ! buff.crash_lightning.up || ( talent.alpha_wolf.enabled & feral_spirit.active & alpha_wolf_min_remains = 0 )",
								["action"] = "crash_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.doom_winds.up || set_bonus.tier30_2pc",
								["action"] = "sundering",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"active_dot.flame_shock = 6 || ( active_dot.flame_shock >= 4 & active_dot.flame_shock = active_enemies )",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.lashing_flames.enabled",
								["action"] = "lava_lash",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.molten_assault.enabled & dot.flame_shock.ticking & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6 ) || ( talent.ashen_catalyst.enabled & buff.ashen_catalyst.stack = buff.ashen_catalyst.max_stack )",
								["action"] = "lava_lash",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & ! buff.ice_strike.up",
								["action"] = "ice_strike",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.hailstorm.enabled & buff.hailstorm.up",
								["action"] = "frost_shock",
							},
							{
								["action"] = "sundering",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.molten_assault.enabled & ! ticking",
								["action"] = "flame_shock",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( talent.fire_nova.enabled || talent.primordial_wave.enabled ) & ( active_dot.flame_shock < active_enemies ) & active_dot.flame_shock < 6",
								["action"] = "flame_shock",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 3",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.crash_lightning.up & ( talent.deeply_rooted_elements.enabled || buff.converging_storms.stack = 6 )",
								["action"] = "stormstrike",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.crashing_storms.enabled & buff.cl_crash_lightning.up & active_enemies >= 4",
								["action"] = "crash_lightning",
							},
							{
								["action"] = "windstrike",
								["enabled"] = true,
							},
							{
								["action"] = "stormstrike",
								["enabled"] = true,
							},
							{
								["action"] = "ice_strike",
								["enabled"] = true,
							},
							{
								["action"] = "lava_lash",
								["enabled"] = true,
							},
							{
								["action"] = "crash_lightning",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_dot.flame_shock >= 2",
								["action"] = "fire_nova",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ! talent.elemental_spirits.enabled || ( talent.elemental_spirits.enabled & ( charges = max_charges || feral_spirit.active >= 2 ) ) ) & buff.maelstrom_weapon.stack >= 5 & ( ! talent.crashing_storms.enabled || active_enemies <= 3 )",
								["action"] = "elemental_blast",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.maelstrom_weapon.stack >= 5",
								["action"] = "chain_lightning",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "flame_shock",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.hailstorm.enabled",
								["action"] = "frost_shock",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'single' required some automated changes.\nLine 1: Converted operations in '!dot.flame_shock.ticking&talent.lashing_flames.enabled&(raid_event.adds.in>(action.primordial_wave.cooldown%(1+set_bonus.tier31_4pc))||raid_event.adds.in<6)' to '!dot.flame_shock.ticking&talent.lashing_flames.enabled&(raid_event.adds.in>(action.primordial_wave.cooldown/(1+set_bonus.tier31_4pc))||raid_event.adds.in<6)'.\nLine 15: Converted operations in 'raid_event.adds.in>(action.primordial_wave.cooldown%(1+set_bonus.tier31_4pc))||raid_event.adds.in<6' to 'raid_event.adds.in>(action.primordial_wave.cooldown/(1+set_bonus.tier31_4pc))||raid_event.adds.in<6'.\n\nThe import for 'default' required some automated changes.\nLine 2: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%300<=30)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%300<=30)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 6: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||(fight_remains%%180<=30)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||(fight_remains%180<=30)'.\nLine 7: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.buff.duration' to 'trinket.t1.buff.duration' (1x).\nLine 7: Converted 'trinket.1.buff.duration' to 'trinket.t1.buff_duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted operations in '!variable.trinket1_is_weird&trinket.t1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%trinket.t1.cooldown.duration<=trinket.t1.buff_duration)||(variable.min_talented_cd_remains>=trinket.t1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '!variable.trinket1_is_weird&trinket.t1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%trinket.t1.cooldown.duration<=trinket.t1.buff_duration)||(variable.min_talented_cd_remains>=trinket.t1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 8: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.buff.duration' to 'trinket.t2.buff.duration' (1x).\nLine 8: Converted 'trinket.2.buff.duration' to 'trinket.t2.buff_duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted operations in '!variable.trinket2_is_weird&trinket.t2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%trinket.t2.cooldown.duration<=trinket.t2.buff_duration)||(variable.min_talented_cd_remains>=trinket.t2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '!variable.trinket2_is_weird&trinket.t2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%trinket.t2.cooldown.duration<=trinket.t2.buff_duration)||(variable.min_talented_cd_remains>=trinket.t2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 9: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%150<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%150<=5)'.\nLine 10: Converted operations in '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%120<=5)' to '(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%120<=5)'.\nLine 11: Converted 'trinket.1.has_use_buff' to 'trinket.t1.has_use_buff' (1x).\nLine 12: Converted 'trinket.2.has_use_buff' to 'trinket.t2.has_use_buff' (1x).\nLine 13: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 14: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 15: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 16: Converted operations in '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))' to '(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))'.\nLine 18: Converted operations in 'set_bonus.tier31_2pc&(raid_event.adds.in>(action.primordial_wave.cooldown%(1+set_bonus.tier31_4pc))||raid_event.adds.in<6)' to 'set_bonus.tier31_2pc&(raid_event.adds.in>(action.primordial_wave.cooldown/(1+set_bonus.tier31_4pc))||raid_event.adds.in<6)'.\nLine 20: Converted operations in 'dot.flame_shock.ticking&((ti_lightning_bolt&active_enemies=1&raid_event.adds.in>=action.ascendance.cooldown%2)||(ti_chain_lightning&active_enemies>1))' to 'dot.flame_shock.ticking&((ti_lightning_bolt&active_enemies=1&raid_event.adds.in>=action.ascendance.cooldown/2)||(ti_chain_lightning&active_enemies>1))'.\nThe following auras were used in the action list but were not found in the addon database:\n - duration\n\nThe import for 'precombat' required some automated changes.\nLine 5: Converted 'trinket.1.is.algethar_puzzle_box' to 'trinket.t1.is.algethar_puzzle_box' (1x).\nLine 5: Converted 'trinket.1.is.manic_grieftorch' to 'trinket.t1.is.manic_grieftorch' (1x).\nLine 5: Converted 'trinket.1.is.elementium_pocket_anvil' to 'trinket.t1.is.elementium_pocket_anvil' (1x).\nLine 5: Converted 'trinket.1.is.beacon_to_the_beyond' to 'trinket.t1.is.beacon_to_the_beyond' (1x).\nLine 6: Converted 'trinket.2.is.algethar_puzzle_box' to 'trinket.t2.is.algethar_puzzle_box' (1x).\nLine 6: Converted 'trinket.2.is.manic_grieftorch' to 'trinket.t2.is.manic_grieftorch' (1x).\nLine 6: Converted 'trinket.2.is.elementium_pocket_anvil' to 'trinket.t2.is.elementium_pocket_anvil' (1x).\nLine 6: Converted 'trinket.2.is.beacon_to_the_beyond' to 'trinket.t2.is.beacon_to_the_beyond' (1x).\nLine 7: Converted operations in '((cooldown.feral_spirit.remains%(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)' to '((cooldown.feral_spirit.remains/(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)'.\n\nImported 5 action lists.\n",
					["author"] = "SimC",
					["profile"] =
					"actions.precombat+=/windfury_weapon\nactions.precombat+=/flametongue_weapon\nactions.precombat+=/skyfury\nactions.precombat+=/lightning_shield\nactions.precombat+=/variable,name=trinket1_is_weird,value=trinket.1.is.algethar_puzzle_box||trinket.1.is.manic_grieftorch||trinket.1.is.elementium_pocket_anvil||trinket.1.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=trinket2_is_weird,value=trinket.2.is.algethar_puzzle_box||trinket.2.is.manic_grieftorch||trinket.2.is.elementium_pocket_anvil||trinket.2.is.beacon_to_the_beyond\nactions.precombat+=/variable,name=min_talented_cd_remains,value=((cooldown.feral_spirit.remains%(1+1.5*talent.witch_doctors_ancestry.rank))+1000*!talent.feral_spirit.enabled)<?(cooldown.doom_winds.remains+1000*!talent.doom_winds.enabled)<?(cooldown.ascendance.remains+1000*!talent.ascendance.enabled)\n\nactions+=/bloodlust,line_cd=600\nactions+=/potion,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%300<=30)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\n# Interrupt of casts.\nactions+=/wind_shear\nactions+=/purge\nactions+=/use_item,name=elementium_pocket_anvil,use_off_gcd=1\nactions+=/use_item,name=algethar_puzzle_box,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(talent.ascendance.enabled&(cooldown.ascendance.remains<2*action.stormstrike.gcd))||(fight_remains%%180<=30)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&trinket.1.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%trinket.1.cooldown.duration<=trinket.1.buff.duration)||(variable.min_talented_cd_remains>=trinket.1.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&trinket.2.has_use_buff&(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%trinket.2.cooldown.duration<=trinket.2.buff.duration)||(variable.min_talented_cd_remains>=trinket.2.cooldown.duration)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/use_item,name=beacon_to_the_beyond,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%150<=5)\nactions+=/use_item,name=manic_grieftorch,use_off_gcd=1,if=(!buff.ascendance.up&!buff.feral_spirit.up&!buff.doom_winds.up)||(fight_remains%%120<=5)\nactions+=/use_item,slot=trinket1,if=!variable.trinket1_is_weird&!trinket.1.has_use_buff\nactions+=/use_item,slot=trinket2,if=!variable.trinket2_is_weird&!trinket.2.has_use_buff\nactions+=/blood_fury,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.blood_fury.cooldown<=action.blood_fury.duration)||(variable.min_talented_cd_remains>=action.blood_fury.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/berserking,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.berserking.cooldown<=action.berserking.duration)||(variable.min_talented_cd_remains>=action.berserking.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/fireblood,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.fireblood.cooldown<=action.fireblood.duration)||(variable.min_talented_cd_remains>=action.fireblood.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/ancestral_call,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%action.ancestral_call.cooldown<=action.ancestral_call.duration)||(variable.min_talented_cd_remains>=action.ancestral_call.cooldown)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\n## actions+=/invoke_external_buff,name=power_infusion,if=(buff.ascendance.up||buff.feral_spirit.up||buff.doom_winds.up||(fight_remains%%120<=20)||(variable.min_talented_cd_remains>=120)||(!talent.ascendance.enabled&!talent.feral_spirit.enabled&!talent.doom_winds.enabled))\nactions+=/windstrike,if=talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>1&(active_enemies=1&ti_lightning_bolt)||(active_enemies>1&ti_chain_lightning)\nactions+=/primordial_wave,if=set_bonus.tier31_2pc&(raid_event.adds.in>(action.primordial_wave.cooldown%(1+set_bonus.tier31_4pc))||raid_event.adds.in<6)\nactions+=/feral_spirit\nactions+=/ascendance,if=dot.flame_shock.ticking&((ti_lightning_bolt&active_enemies=1&raid_event.adds.in>=action.ascendance.cooldown%2)||(ti_chain_lightning&active_enemies>1))\nactions+=/doom_winds,if=raid_event.adds.in>=action.doom_winds.cooldown||active_enemies>1\nactions+=/call_action_list,name=single,strict=1,if=active_enemies=1\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>1&(rotation.standard||rotation.simple)\nactions+=/call_action_list,name=funnel,strict=1,if=active_enemies>1&rotation.funnel\n\nactions.single+=/primordial_wave,if=!dot.flame_shock.ticking&talent.lashing_flames.enabled&(raid_event.adds.in>(action.primordial_wave.cooldown%(1+set_bonus.tier31_4pc))||raid_event.adds.in<6)\nactions.single+=/flame_shock,if=!ticking&talent.lashing_flames.enabled\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&talent.elemental_spirits.enabled&feral_spirit.active>=4\nactions.single+=/sundering,if=set_bonus.tier30_2pc&raid_event.adds.in>=action.sundering.cooldown\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.down&buff.ascendance.up&ti_chain_lightning&(buff.ascendance.remains>(cooldown.strike.remains+gcd))\nactions.single+=/stormstrike,if=buff.doom_winds.up||talent.deeply_rooted_elements.enabled||(talent.stormblast.enabled&buff.stormbringer.up)\nactions.single+=/lava_lash,if=buff.hot_hand.up\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=5&charges=max_charges\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=8&buff.primordial_wave.up&raid_event.adds.in>buff.primordial_wave.remains&(!buff.splintered_elements.up||boss&fight_remains<=12)\nactions.single+=/chain_lightning,if=buff.maelstrom_weapon.stack>=8&buff.crackling_thunder.up&talent.elemental_spirits.enabled\nactions.single+=/elemental_blast,if=buff.maelstrom_weapon.stack>=8&(feral_spirit.active>=2||!talent.elemental_spirits.enabled)\nactions.single+=/lava_burst,if=!talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>=5\nactions.single+=/lightning_bolt,if=((buff.maelstrom_weapon.stack>=8)||(talent.static_accumulation.enabled&buff.maelstrom_weapon.stack>=5))&buff.primordial_wave.down\nactions.single+=/crash_lightning,if=talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0\nactions.single+=/primordial_wave,if=raid_event.adds.in>(action.primordial_wave.cooldown%(1+set_bonus.tier31_4pc))||raid_event.adds.in<6\nactions.single+=/flame_shock,if=!ticking\nactions.single+=/ice_strike,if=talent.elemental_assault.enabled&talent.swirling_maelstrom.enabled\nactions.single+=/lava_lash,if=talent.lashing_flames.enabled\nactions.single+=/ice_strike,if=!buff.ice_strike.up\nactions.single+=/frost_shock,if=buff.hailstorm.up\nactions.single+=/lava_lash\nactions.single+=/ice_strike\nactions.single+=/windstrike\nactions.single+=/stormstrike\nactions.single+=/sundering,if=raid_event.adds.in>=action.sundering.cooldown\nactions.single+=/bag_of_tricks\nactions.single+=/fire_nova,if=talent.swirling_maelstrom.enabled&active_dot.flame_shock&buff.maelstrom_weapon.stack<buff.maelstrom_weapon.max_stack\nactions.single+=/lightning_bolt,if=talent.hailstorm.enabled&buff.maelstrom_weapon.stack>=5&buff.primordial_wave.down\nactions.single+=/frost_shock\nactions.single+=/crash_lightning\nactions.single+=/fire_nova,if=active_dot.flame_shock\nactions.single+=/earth_elemental\nactions.single+=/flame_shock\nactions.single+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5&buff.crackling_thunder.up&talent.elemental_spirits.enabled\nactions.single+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5&buff.primordial_wave.down\n\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&((talent.unruly_winds.enabled&active_enemies>=10)||active_enemies>=15)\nactions.aoe+=/lightning_bolt,if=(active_dot.flame_shock=active_enemies||active_dot.flame_shock=6)&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||boss&fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.aoe+=/lava_lash,if=talent.molten_assault.enabled&(talent.primordial_wave.enabled||talent.fire_nova.enabled)&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.aoe+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\nactions.aoe+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||feral_spirit.active>=2)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!talent.crashing_storms.enabled||active_enemies<=3)\nactions.aoe+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.aoe+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)\nactions.aoe+=/sundering,if=buff.doom_winds.up||set_bonus.tier30_2pc\nactions.aoe+=/fire_nova,if=active_dot.flame_shock=6||(active_dot.flame_shock>=4&active_dot.flame_shock=active_enemies)\nactions.aoe+=/lava_lash,cycle_targets=1,if=talent.lashing_flames.enabled\nactions.aoe+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.aoe+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.aoe+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.aoe+=/sundering\nactions.aoe+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.aoe+=/flame_shock,cycle_targets=1,if=(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=3\nactions.aoe+=/stormstrike,if=buff.crash_lightning.up&(talent.deeply_rooted_elements.enabled||buff.converging_storms.stack=6)\nactions.aoe+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.aoe+=/windstrike\nactions.aoe+=/stormstrike\nactions.aoe+=/ice_strike\nactions.aoe+=/lava_lash\nactions.aoe+=/crash_lightning\nactions.aoe+=/fire_nova,if=active_dot.flame_shock>=2\nactions.aoe+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||feral_spirit.active>=2)))&buff.maelstrom_weapon.stack>=5&(!talent.crashing_storms.enabled||active_enemies<=3)\nactions.aoe+=/chain_lightning,if=buff.maelstrom_weapon.stack>=5\nactions.aoe+=/flame_shock,if=!ticking\nactions.aoe+=/frost_shock,if=!talent.hailstorm.enabled\n\nactions.funnel+=/lightning_bolt,if=(active_dot.flame_shock=active_enemies||active_dot.flame_shock=6)&buff.primordial_wave.up&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&(!buff.splintered_elements.up||boss&fight_remains<=12||raid_event.adds.remains<=gcd)\nactions.funnel+=/lava_lash,if=(talent.molten_assault.enabled&dot.flame_shock.ticking&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6)||(talent.ashen_catalyst.enabled&buff.ashen_catalyst.stack=buff.ashen_catalyst.max_stack)\nactions.funnel+=/primordial_wave,cycle_targets=1,if=!buff.primordial_wave.up\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/windstrike,if=(talent.thorims_invocation.enabled&buff.maelstrom_weapon.stack>1)||buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/stormstrike,if=buff.converging_storms.stack=buff.converging_storms.max_stack\nactions.funnel+=/chain_lightning,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack&buff.crackling_thunder.up\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack+buff.volcanic_strength.up>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack=buff.maelstrom_weapon.max_stack\nactions.funnel+=/crash_lightning,if=buff.doom_winds.up||!buff.crash_lightning.up||(talent.alpha_wolf.enabled&feral_spirit.active&alpha_wolf_min_remains=0)||(talent.converging_storms.enabled&buff.converging_storms.stack<buff.converging_storms.max_stack)\nactions.funnel+=/sundering,if=buff.doom_winds.up||set_bonus.tier30_2pc\nactions.funnel+=/fire_nova,if=active_dot.flame_shock=6||(active_dot.flame_shock>=4&active_dot.flame_shock=active_enemies)\nactions.funnel+=/ice_strike,if=talent.hailstorm.enabled&!buff.ice_strike.up\nactions.funnel+=/frost_shock,if=talent.hailstorm.enabled&buff.hailstorm.up\nactions.funnel+=/sundering\nactions.funnel+=/flame_shock,if=talent.molten_assault.enabled&!ticking\nactions.funnel+=/flame_shock,cycle_targets=1,if=(talent.fire_nova.enabled||talent.primordial_wave.enabled)&(active_dot.flame_shock<active_enemies)&active_dot.flame_shock<6\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=3\nactions.funnel+=/stormstrike,if=buff.crash_lightning.up&talent.deeply_rooted_elements.enabled\nactions.funnel+=/crash_lightning,if=talent.crashing_storms.enabled&buff.cl_crash_lightning.up&active_enemies>=4\nactions.funnel+=/windstrike\nactions.funnel+=/stormstrike\nactions.funnel+=/ice_strike\nactions.funnel+=/lava_lash\nactions.funnel+=/crash_lightning\nactions.funnel+=/fire_nova,if=active_dot.flame_shock>=2\nactions.funnel+=/elemental_blast,if=(!talent.elemental_spirits.enabled||(talent.elemental_spirits.enabled&(charges=max_charges||buff.feral_spirit.up)))&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lava_burst,if=(buff.molten_weapon.stack+buff.volcanic_strength.up>buff.crackling_surge.stack)&buff.maelstrom_weapon.stack>=5\nactions.funnel+=/lightning_bolt,if=buff.maelstrom_weapon.stack>=5\nactions.funnel+=/flame_shock,if=!ticking\nactions.funnel+=/frost_shock,if=!talent.hailstorm.enabled",
				},
				["Guardian"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240730,
					["author"] = "SimC",
					["desc"] = "2024-07-23: The War Within",
					["lists"] = {
						["default"] = {
							{
								["action"] = "skull_bash",
								["enabled"] = true,
							},
							{
								["action"] = "use_items",
								["enabled"] = true,
							},
							{
								["action"] = "incarnation",
								["enabled"] = true,
							},
							{
								["action"] = "berserk",
								["enabled"] = true,
							},
							{
								["action"] = "heart_of_the_wild",
								["enabled"] = true,
							},
							{
								["action"] = "natures_vigil",
								["enabled"] = true,
							},
							{
								["action"] = "convoke_the_spirits",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 70",
								["action"] = "renewal",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"health.pct < 70 & ( buff.frenzied_regeneration.down || rage.deficit < 20 ) & tanking",
								["action"] = "frenzied_regeneration",
							},
							{
								["enabled"] = true,
								["criteria"] = "down & health.pct < 70 & tanking",
								["action"] = "survival_instincts",
							},
							{
								["enabled"] = true,
								["criteria"] = "down & health.pct < 70 & tanking",
								["action"] = "barkskin",
							},
							{
								["action"] = "pulverize",
								["enabled"] = true,
							},
							{
								["action"] = "rage_of_the_sleeper",
								["enabled"] = true,
							},
							{
								["action"] = "lunar_beam",
								["enabled"] = true,
							},
							{
								["action"] = "bristling_fur",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "tanking & ( ! buff.ironfur.up || rage.deficit < 20 )",
								["action"] = "ironfur",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ticking",
								["action"] = "thrash_bear",
							},
							{
								["enabled"] = true,
								["action"] = "moonfire",
								["criteria"] = "refreshable",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "active_enemies > 1",
								["action"] = "raze",
							},
							{
								["action"] = "maul",
								["enabled"] = true,
							},
							{
								["action"] = "mangle",
								["enabled"] = true,
							},
							{
								["action"] = "thrash_bear",
								["enabled"] = true,
							},
							{
								["action"] = "swipe_bear",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["action"] = "mark_of_the_wild",
								["enabled"] = true,
							},
							{
								["action"] = "bear_form",
								["enabled"] = true,
							},
						},
					},
					["version"] = 20240730,
					["warnings"] = "Imported 2 action lists.\n",
					["profile"] =
					"actions.precombat+=/mark_of_the_wild\nactions.precombat+=/bear_form\n\nactions+=/skull_bash\nactions+=/use_items\nactions+=/incarnation\nactions+=/berserk\nactions+=/heart_of_the_wild\nactions+=/natures_vigil\nactions+=/convoke_the_spirits\n## actions+=/stampeding_roar\n## actions+=/growl\nactions+=/renewal,if=health.pct<70\nactions+=/frenzied_regeneration,if=health.pct<70&(buff.frenzied_regeneration.down||rage.deficit<20)&tanking\nactions+=/survival_instincts,if=down&health.pct<70&tanking\nactions+=/barkskin,if=down&health.pct<70&tanking\nactions+=/pulverize\nactions+=/rage_of_the_sleeper\nactions+=/lunar_beam\nactions+=/bristling_fur\nactions+=/ironfur,if=tanking&(!buff.ironfur.up||rage.deficit<20)\nactions+=/thrash_bear,if=!ticking\nactions+=/moonfire,cycle_targets=1,if=refreshable\nactions+=/raze,if=active_enemies>1\nactions+=/maul\nactions+=/mangle\nactions+=/thrash_bear\nactions+=/swipe_bear",
					["spec"] = 104,
				},
				["Holy Paladin"] = {
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 65,
					["desc"] = "Healer priorities are DPS-focused only\n\n2024-07-30: The War Within",
					["lists"] = {
						["spenders"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"solo & ( health.pct < 70 || ! equipped.shield ) & buff.shining_righteousness_ready.up || buff.empyrean_legacy.up",
								["action"] = "word_of_glory",
							},
							{
								["enabled"] = true,
								["criteria"] = "group & buff.shining_righteousness_ready.up",
								["action"] = "light_of_dawn",
							},
							{
								["action"] = "shield_of_the_righteous",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["action"] = "rebuke",
								["enabled"] = true,
							},
							{
								["action"] = "avenging_wrath",
								["enabled"] = true,
							},
							{
								["action"] = "avenging_crusader",
								["enabled"] = true,
							},
							{
								["action"] = "blessing_of_summer",
								["enabled"] = true,
							},
							{
								["action"] = "blessing_of_autumn",
								["enabled"] = true,
							},
							{
								["action"] = "blessing_of_winter",
								["enabled"] = true,
							},
							{
								["action"] = "blessing_of_spring",
								["enabled"] = true,
							},
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							},
							{
								["action"] = "potion",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bloodlust.up || buff.avenging_wrath.up || buff.avenging_crusader.up",
								["action"] = "fireblood",
							},
							{
								["action"] = "use_items",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] =
								"! talent.avenging_crusader.enabled || cooldown.avenging_crusader.remains > gcd.max || holy_power.deficit = 0",
								["list_name"] = "spenders",
							},
							{
								["action"] = "divine_toll",
								["enabled"] = true,
							},
							{
								["action"] = "holy_prism",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "group",
								["action"] = "beacon_of_virtue",
							},
							{
								["enabled"] = true,
								["criteria"] = "! consecration.up & action.crusader_strike.in_range",
								["action"] = "consecration",
							},
							{
								["action"] = "hammer_of_wrath",
								["enabled"] = true,
							},
							{
								["action"] = "judgment",
								["enabled"] = true,
							},
							{
								["action"] = "holy_shock",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.holy_shock.remains > gcd.max",
								["action"] = "crusader_strike",
							},
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.paladin_aura.down",
								["action"] = "devotion_aura",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_dot.beacon_of_light = 0",
								["action"] = "beacon_of_light",
							},
							{
								["enabled"] = true,
								["criteria"] = "group & active_dot.beacon_of_faith = 0",
								["action"] = "beacon_of_faith",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'default' required some automated changes.\nLine 12: Converted 'talent.avenging_crusader' to 'talent.avenging_crusader.enabled' (1x).\n\nImported 3 action lists.\n",
					["profile"] =
					"actions.precombat+=/devotion_aura,if=buff.paladin_aura.down\nactions.precombat+=/beacon_of_light,if=active_dot.beacon_of_light=0\nactions.precombat+=/beacon_of_faith,if=group&active_dot.beacon_of_faith=0\n\nactions+=/rebuke\nactions+=/avenging_wrath\nactions+=/avenging_crusader\nactions+=/blessing_of_summer\nactions+=/blessing_of_autumn\nactions+=/blessing_of_winter\nactions+=/blessing_of_spring\nactions+=/lights_judgment\nactions+=/potion\nactions+=/fireblood,if=buff.bloodlust.up||buff.avenging_wrath.up||buff.avenging_crusader.up\nactions+=/use_items\nactions+=/call_action_list,name=spenders,strict=1,if=!talent.avenging_crusader||cooldown.avenging_crusader.remains>gcd.max||holy_power.deficit=0\nactions+=/divine_toll\nactions+=/holy_prism\nactions+=/beacon_of_virtue,if=group\nactions+=/consecration,if=!consecration.up&action.crusader_strike.in_range\nactions+=/hammer_of_wrath\nactions+=/judgment\nactions+=/holy_shock\nactions+=/crusader_strike,if=cooldown.holy_shock.remains>gcd.max\nactions+=/arcane_torrent\n\nactions.spenders+=/word_of_glory,if=solo&(health.pct<70||!equipped.shield)&buff.shining_righteousness_ready.up||buff.empyrean_legacy.up\nactions.spenders+=/light_of_dawn,if=group&buff.shining_righteousness_ready.up\nactions.spenders+=/shield_of_the_righteous",
					["author"] = "Kaleokalani",
				},
				["Shadow"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20240805,
					["author"] = "SimC",
					["desc"] =
					"2024-08-01: Add SW:Death entry from sim update; another sim update\n\n2024-07-29: Tweak target swap logic\n\n2024-07-28: The War Within",
					["lists"] = {
						["filler"] = {
							{
								["enabled"] = true,
								["action"] = "vampiric_touch",
								["cycle_targets"] = 1,
								["criteria"] = "buff.unfurling_darkness.up",
								["description"] =
								"Cast Vampiric Touch to consume Unfurling Darkness, prefering the target with the lowest DoT duration active",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] =
								"dot.devouring_plague.remains > action.mind_spike.cast_time || ! talent.mind_spike.enabled",
								["list_name"] = "empowered_filler",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["criteria"] =
								"target.health.pct < 20 || ( buff.deathspeaker.up || set_bonus.tier31_2pc ) & dot.devouring_plague.ticking",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["criteria"] = "talent.inescapable_torment.enabled & pet.fiend.active",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.voidform.up || cooldown.dark_ascension.up || buff.mind_devourer.up",
								["action"] = "devouring_plague",
							},
							{
								["enabled"] = true,
								["action"] = "halo",
								["description"] = "Save up to 20s if adds are coming soon.",
								["criteria"] = "spell_targets > 1",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "empowered_filler",
							},
							{
								["enabled"] = true,
								["action"] = "mind_spike",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "mind_flay",
								["cycle_targets"] = 1,
								["interrupt_if"] = "ticks>=2",
								["interrupt_immediate"] = "1",
								["chain"] = "1",
							},
							{
								["action"] = "divine_star",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "shadow_crash",
								["description"] =
								"Use Shadow Crash while moving as a low-priority action when adds will not come in 20 seconds.",
								["criteria"] = "raid_event.adds.in > 20 & ! set_bonus.tier31_4pc",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["cycle_targets"] = 1,
								["criteria"] = "target.health.pct < 20",
								["description"] =
								"Use Shadow Word: Death while moving as a low-priority action in execute",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["description"] = "Use Shadow Word: Death while moving as a low-priority action",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_pain",
								["cycle_targets"] = 1,
								["criteria"] = "set_bonus.tier31_4pc",
								["description"] =
								"Use Shadow Word: Pain while moving as a low-priority action with T31 4pc",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_pain",
								["cycle_targets"] = 1,
								["criteria"] = "! set_bonus.tier31_4pc",
								["description"] =
								"Use Shadow Word: Pain while moving as a low-priority action without T31 4pc",
							},
						},
						["aoe_variables"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "spell_targets.vampiric_touch >? 12",
								["default"] = "12",
								["var_name"] = "max_vts",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["default"] = "1",
								["var_name"] = "is_vt_possible",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "1",
								["criteria"] = "target.time_to_die >= 18 & dot.vampiric_touch.refreshable",
								["var_name"] = "is_vt_possible",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( active_dot.vampiric_touch + 8 * ( action.shadow_crash.in_flight & talent.whispering_shadows.enabled ) ) >= variable.max_vts || ! variable.is_vt_possible",
								["description"] = "TODO: Revamp to fix undesired behaviour with unstacked fights",
								["var_name"] = "dots_up",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( variable.max_vts - active_dot.vampiric_touch ) < 4 || raid_event.adds.in < 10 & raid_event.adds.count > ( variable.max_vts - active_dot.vampiric_touch )",
								["criteria"] = "variable.holding_crash & talent.whispering_shadows.enabled",
								["var_name"] = "holding_crash",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( active_dot.vampiric_touch + 8 * ! variable.holding_crash ) >= variable.max_vts || ! variable.is_vt_possible",
								["var_name"] = "manual_vts_applied",
							},
						},
						["empowered_filler"] = {
							{
								["enabled"] = true,
								["action"] = "mind_spike_insanity",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "mind_flay",
								["criteria"] = "buff.mind_flay_insanity.up",
								["cycle_targets"] = 1,
							},
						},
						["default"] = {
							{
								["action"] = "silence",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "raid_event.adds.in < 15",
								["var_name"] = "holding_crash",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( cooldown.void_eruption.remains <= gcd.max * 3 & talent.void_eruption.enabled || cooldown.dark_ascension.up & talent.dark_ascension.enabled ) || talent.void_torrent.enabled & talent.psychic_link.enabled & cooldown.void_torrent.remains <= 4 & ( ! raid_event.adds.exists & spell_targets.vampiric_touch > 1 || raid_event.adds.in <= 5 || raid_event.adds.remains >= 6 & ! variable.holding_crash ) & ! buff.voidform.up",
								["var_name"] = "pool_for_cds",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "active_enemies > 2",
								["list_name"] = "aoe",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["list_name"] = "main",
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.shadowform.up",
								["action"] = "shadowform",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "dr_force_prio",
								["default"] = "0",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "me_force_prio",
								["default"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "max_vts",
								["default"] = "0",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "is_vt_possible",
								["default"] = "0",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "pooling_mindblasts",
								["default"] = "0",
							},
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							},
							{
								["enabled"] = false,
								["name"] = "aberrant_spellforge",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"raid_event.adds.in >= 25 & spell_targets.shadow_crash <= 8 & boss & ( ! set_bonus.tier31_4pc || spell_targets.shadow_crash > 1 )",
								["action"] = "shadow_crash",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.shadow_crash.enabled || raid_event.adds.in < 25 || spell_targets.shadow_crash > 8 || ! boss || set_bonus.tier31_4pc & spell_targets.shadow_crash = 1",
								["action"] = "vampiric_touch",
							},
						},
						["aoe"] = {
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "aoe_variables",
							},
							{
								["enabled"] = true,
								["action"] = "vampiric_touch",
								["cycle_targets"] = 1,
								["criteria"] =
								"( refreshable & target.time_to_die >= 18 & ( dot.vampiric_touch.ticking || ! variable.dots_up ) ) & ( ( variable.max_vts > 0 & ! variable.manual_vts_applied & ! action.shadow_crash.in_flight || ! talent.whispering_shadows.enabled ) & ! buff.entropic_rift.up )",
								["description"] =
								"High Priority action to put out Vampiric Touch on enemies that will live at least 18 seconds, up to 12 targets manually while prepping AoE",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_crash",
								["cycle_targets"] = 1,
								["criteria"] =
								"! variable.holding_crash & ( dot.vampiric_touch.refreshable || dot.vampiric_touch.remains <= target.time_to_die & ! buff.voidform.up & ( raid_event.adds.in - dot.vampiric_touch.remains ) < 15 )",
								["description"] =
								"Use Shadow Crash to apply Vampiric Touch to as many adds as possible while being efficient with Vampiric Touch refresh windows",
							},
						},
						["cds"] = {
							{
								["enabled"] = true,
								["action"] = "potion",
								["description"] = "TODO: Check VE/DA enter conditions based on dots",
								["criteria"] =
								"( buff.voidform.up || buff.power_infusion.up || buff.dark_ascension.up & ( boss & fight_remains <= cooldown.power_infusion.remains + 15 ) ) & ( fight_remains >= 320 || buff.bloodlust.react ) || boss & fight_remains <= 30",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.power_infusion.up || boss & fight_remains <= 8",
								["action"] = "fireblood",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.power_infusion.up || boss & fight_remains <= 12",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.power_infusion.up || boss & fight_remains <= 15",
								["action"] = "blood_fury",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.power_infusion.up || boss & fight_remains <= 15",
								["action"] = "ancestral_call",
							},
							{
								["enabled"] = true,
								["name"] = "nymues_unraveling_spindle",
								["description"] = "Use Nymue's before we go into our cooldowns",
								["criteria"] =
								"variable.dots_up & ( boss & fight_remains < 30 || target.time_to_die > 15 ) & ( ! talent.dark_ascension.enabled || cooldown.dark_ascension.remains < 3 + gcd.max || boss & fight_remains < 15 )",
								["action"] = "nymues_unraveling_spindle",
							},
							{
								["enabled"] = true,
								["action"] = "power_infusion",
								["description"] = "Sync Power Infusion with Voidform or Dark Ascension",
								["criteria"] =
								"( buff.voidform.up || buff.dark_ascension.up & ( boss & fight_remains <= 80 || fight_remains >= 140 ) )",
							},
							{
								["enabled"] = true,
								["action"] = "halo",
								["description"] =
								"Make sure Mindbender is active before popping Dark Ascension unless you have insignificant talent points or too many targets",
								["criteria"] =
								"talent.power_surge.enabled & ( pet.fiend.active & cooldown.fiend.remains >= 4 & talent.mindbender.enabled || ! talent.mindbender.enabled & ! cooldown.fiend.up || active_enemies > 2 & ! talent.inescapable_torment.enabled || ! talent.dark_ascension.enabled ) & ( cooldown.mind_blast.charges = 0 || ! talent.void_eruption.enabled || cooldown.void_eruption.remains >= gcd.max * 4 )",
							},
							{
								["enabled"] = true,
								["action"] = "void_eruption",
								["description"] =
								"Make sure Mindbender is active before popping Void Eruption and dump charges of Mind Blast before casting",
								["criteria"] =
								"! cooldown.fiend.up & ( pet.fiend.active & cooldown.fiend.remains >= 4 || ! talent.mindbender.enabled || active_enemies > 2 & ! talent.inescapable_torment.rank ) & ( cooldown.mind_blast.charges = 0 || time > 15 )",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"pet.fiend.active & cooldown.fiend.remains >= 4 || ! talent.mindbender.enabled & ! cooldown.fiend.up || active_enemies > 2 & ! talent.inescapable_torment.enabled",
								["action"] = "dark_ascension",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "trinkets",
							},
							{
								["enabled"] = true,
								["action"] = "desperate_prayer",
								["description"] =
								"Use Desperate Prayer to heal up should Shadow Word: Death or other damage bring you below 75%",
								["criteria"] = "health.pct <= 75",
							},
						},
						["main"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"active_dot.vampiric_touch = active_enemies || action.shadow_crash.in_flight & talent.whispering_shadows.enabled",
								["criteria"] = "active_enemies < 3",
								["var_name"] = "dots_up",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] = "Are we pooling mindblasts? Currently only used for Voidweaver.",
								["criteria"] =
								"talent.void_blast.enabled & ( cooldown.void_torrent.remains <? ( variable.holding_crash * raid_event.adds.in ) ) <= gcd.max * ( 1 + talent.mind_melt.enabled * 3 )",
								["value"] = "1",
								["action"] = "variable",
								["value_else"] = "0",
								["var_name"] = "pooling_mindblasts",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"boss & fight_remains < 30 || target.time_to_die > 15 & ( ! variable.holding_crash || active_enemies > 2 )",
								["action"] = "call_action_list",
								["list_name"] = "cds",
							},
							{
								["enabled"] = true,
								["action"] = "mindbender",
								["description"] =
								"Use Shadowfiend and Mindbender on cooldown as long as Vampiric Touch and Shadow Word: Pain are active and sync with Dark Ascension",
								["criteria"] =
								"( dot.shadow_word_pain.ticking & variable.dots_up || action.shadow_crash.in_flight & talent.whispering_shadows.enabled ) & ( boss & fight_remains < 30 || target.time_to_die > 15 ) & ( ! talent.dark_ascension.enabled || cooldown.dark_ascension.remains < gcd.max || boss & fight_remains < 15 )",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["cycle_targets"] = 1,
								["criteria"] = "priest.force_devour_matter & talent.devour_matter.enabled",
								["description"] =
								"High Priority Shadow Word: Death when you are forcing the bonus from Devour Matter",
							},
							{
								["enabled"] = true,
								["action"] = "mind_blast",
								["cycle_targets"] = 1,
								["criteria"] =
								"! talent.mind_devourer.enabled || ! buff.mind_devourer.up || buff.entropic_rift.remains <= gcd.max",
								["description"] = "Blast more burst :wicked:",
							},
							{
								["enabled"] = true,
								["sec"] = "cooldown.mind_blast.recharge_time",
								["action"] = "wait",
								["criteria"] =
								"cooldown.mind_blast.recharge_time < buff.entropic_rift.remains & buff.entropic_rift.up & buff.entropic_rift.remains < gcd.max & cooldown.mind_blast.charges < 1",
							},
							{
								["enabled"] = true,
								["action"] = "mind_blast",
								["description"] =
								"Complicated do not overcap mindblast and use it to protect against void bolt cd desync",
								["criteria"] =
								"buff.voidform.up & full_recharge_time <= gcd.max & ( ! talent.insidious_ire.enabled || dot.devouring_plague.remains >= execute_time ) & ( cooldown.void_bolt.remains / gcd.max - cooldown.void_bolt.remains % gcd.max ) * gcd.max <= 0.25 & ( cooldown.void_bolt.remains / gcd.max - cooldown.void_bolt.remains % gcd.max ) >= 0.01",
							},
							{
								["enabled"] = true,
								["action"] = "void_bolt",
								["cycle_targets"] = 1,
								["criteria"] = "insanity.deficit > 16 & cooldown.void_bolt.remains <= 0.1",
								["description"] =
								"Use Voidbolt on the enemy with the largest time to die. We do no care about dots because Voidbolt is only accessible inside voidform which guarantees maximum effect",
							},
							{
								["enabled"] = true,
								["action"] = "devouring_plague",
								["cycle_targets"] = 1,
								["criteria"] =
								"active_dot.devouring_plague <= 1 & dot.devouring_plague.remains <= gcd.max & ( ! talent.void_eruption.enabled || cooldown.void_eruption.remains >= gcd.max * 3 ) || insanity.deficit <= 16",
								["description"] = "Do not overcap on insanity",
							},
							{
								["enabled"] = true,
								["action"] = "void_torrent",
								["cycle_targets"] = 1,
								["criteria"] =
								"( dot.devouring_plague.ticking || talent.void_eruption.enabled & cooldown.void_eruption.up ) & talent.entropic_rift.enabled & ! variable.holding_crash",
								["description"] = "Cast Void Torrent at very high priority if Voidweaver",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["cycle_targets"] = 1,
								["criteria"] = "talent.depth_of_shadows.enabled",
								["description"] =
								"Snipe SWDs with Depth of Shadows to spawn pets. Prefer targets with Devouring Plague on them.",
							},
							{
								["enabled"] = true,
								["action"] = "mind_blast",
								["cycle_targets"] = 1,
								["criteria"] =
								"( cooldown.mind_blast.full_recharge_time <= gcd.max + execute_time || pet.fiend.remains <= execute_time + gcd.max ) & pet.fiend.active & talent.inescapable_torment.enabled & pet.fiend.remains >= execute_time & active_enemies <= 7 & ( ! buff.mind_devourer.up || ! talent.mind_devourer.enabled ) & dot.devouring_plague.remains > execute_time & ! variable.pooling_mindblasts",
								["description"] =
								"Use Mind Blasts if using Inescapable Torment and you are capping charges or it will expire soon. Do not use if pooling Mindblast.",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["cycle_targets"] = 1,
								["criteria"] =
								"pet.fiend.remains <= ( gcd.max + 1 ) & pet.fiend.active & talent.inescapable_torment.enabled & active_enemies <= 7",
								["description"] =
								"High Priority Shadow Word: Death is Mindbender is expiring in less than a gcd plus wiggle room",
							},
							{
								["enabled"] = true,
								["action"] = "void_bolt",
								["cycle_targets"] = 1,
								["criteria"] = "cooldown.void_bolt.remains <= 0.1",
								["description"] =
								"Use Voidbolt on the enemy with the largest time to die. Force a cooldown check here to make sure SimC doesn't wait too long (i.e. weird MF:I desync with GCD)",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Do not overcap MSI or MFI during Empowered Surges (Archon).",
								["strict"] = 1,
								["criteria"] =
								"( buff.mind_spike_insanity.stack = 1 & talent.mind_spike.enabled || buff.mind_flay_insanity.stack = 1 & ! talent.mind_spike.enabled || buff.power_surge.up ) & talent.empowered_surges.enabled & ! cooldown.void_eruption.up",
								["list_name"] = "empowered_filler",
							},
							{
								["enabled"] = true,
								["action"] = "devouring_plague",
								["description"] =
								"Spend your Insanity on Devouring Plague at will if the fight will end in less than 10s",
								["criteria"] = "boss & fight_remains <= duration + 4",
							},
							{
								["enabled"] = true,
								["action"] = "devouring_plague",
								["cycle_targets"] = 1,
								["criteria"] =
								"insanity.deficit <= 35 & talent.distorted_reality.enabled || buff.dark_ascension.up || buff.mind_devourer.up & cooldown.mind_blast.up & ( cooldown.void_eruption.remains >= 3 * gcd.max || ! talent.void_eruption.enabled ) || buff.entropic_rift.up",
								["description"] =
								"Use Devouring Plague to maximize uptime. Short circuit if you are capping on Insanity within 35 With Distorted Reality can maintain more than one at a time in multi-target.",
							},
							{
								["enabled"] = true,
								["action"] = "void_torrent",
								["cycle_targets"] = 1,
								["criteria"] =
								"! variable.holding_crash & ! talent.entropic_rift.enabled & dot.devouring_plague.remains >= 2.5",
								["description"] =
								"Use Void Torrent if it will get near full Mastery Value and you have Cthun and Void Eruption. Prune this action for Entropic Rift Builds.",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_crash",
								["description"] =
								"Use Shadow Crash as long as you are not holding for adds and Vampiric Touch is within pandemic range",
								["criteria"] = "! variable.holding_crash & dot.vampiric_touch.refreshable",
							},
							{
								["enabled"] = true,
								["action"] = "vampiric_touch",
								["cycle_targets"] = 1,
								["criteria"] =
								"refreshable & target.time_to_die > 12 & ( dot.vampiric_touch.ticking || ! variable.dots_up ) & ( variable.max_vts > 0 || active_enemies = 1 ) & ( cooldown.shadow_crash.remains >= dot.vampiric_touch.remains || variable.holding_crash || ! talent.whispering_shadows.enabled ) & ( ! action.shadow_crash.in_flight || ! talent.whispering_shadows.enabled )",
								["description"] =
								"Put out Vampiric Touch on enemies that will live at least 12s and Shadow Crash is not available soon",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_death",
								["cycle_targets"] = 1,
								["criteria"] = "variable.dots_up & buff.deathspeaker.up",
								["description"] = "Spend Deathspeaker Procs",
							},
							{
								["enabled"] = true,
								["action"] = "mind_blast",
								["cycle_targets"] = 1,
								["criteria"] =
								"( ! buff.mind_devourer.up || ! talent.mind_devourer.enabled || cooldown.void_eruption.up & talent.void_eruption.enabled ) & ! variable.pooling_mindblasts",
								["description"] =
								"Use all charges of Mind Blast if Vampiric Touch and Shadow Word: Pain are active and Mind Devourer is not active or you are prepping Void Eruption",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "filler",
							},
						},
						["trinkets"] = {
							{
								["enabled"] = true,
								["action"] = "darkmoon_deck_box_inferno",
								["criteria"] = "equipped.darkmoon_deck_box_inferno",
								["name"] = "darkmoon_deck_box_inferno",
							},
							{
								["enabled"] = true,
								["action"] = "darkmoon_deck_box_rime",
								["criteria"] = "equipped.darkmoon_deck_box_rime",
								["name"] = "darkmoon_deck_box_rime",
							},
							{
								["enabled"] = true,
								["action"] = "darkmoon_deck_box_dance",
								["criteria"] = "equipped.darkmoon_deck_box_dance",
								["name"] = "darkmoon_deck_box_dance",
							},
							{
								["enabled"] = true,
								["action"] = "dreambinder_loom_of_the_great_cycle",
								["use_off_gcd"] = 1,
								["name"] = "dreambinder_loom_of_the_great_cycle",
								["criteria"] = "gcd.remains > 0 || boss & fight_remains < 20",
							},
							{
								["enabled"] = true,
								["name"] = "conjured_chillglobe",
								["action"] = "conjured_chillglobe",
							},
							{
								["enabled"] = true,
								["action"] = "iceblood_deathsnare",
								["criteria"] =
								"( ! raid_event.adds.exists || raid_event.adds.up || spell_targets.iceblood_deathsnare >= 5 ) || boss & fight_remains < 20",
								["name"] = "iceblood_deathsnare",
							},
							{
								["enabled"] = true,
								["name"] = "erupting_spear_fragment",
								["description"] =
								"Use Erupting Spear Fragment with cooldowns, adds are currently active, or the fight will end in less than 20 seconds",
								["criteria"] =
								"( buff.power_infusion.up || raid_event.adds.up || boss & fight_remains < 20 ) & equipped.erupting_spear_fragment",
								["action"] = "erupting_spear_fragment",
							},
							{
								["enabled"] = true,
								["name"] = "belorrelos_the_suncaller",
								["description"] =
								"Use Belor'relos on cooldown except to hold for incoming adds or if already facing 5 or more targets",
								["criteria"] =
								"( ! raid_event.adds.exists || raid_event.adds.up || spell_targets.belorrelos_the_suncaller >= 5 || boss & fight_remains < 20 ) & equipped.belorrelos_the_suncaller",
								["action"] = "belorrelos_the_suncaller",
							},
							{
								["enabled"] = true,
								["name"] = "beacon_to_the_beyond",
								["description"] =
								"Use Beacon to the Beyond on cooldown except to hold for incoming adds or if already facing 5 or more targets",
								["criteria"] =
								"( ! raid_event.adds.exists || raid_event.adds.up || spell_targets.beacon_to_the_beyond >= 5 || boss & fight_remains < 20 ) & equipped.beacon_to_the_beyond",
								["action"] = "beacon_to_the_beyond",
							},
							{
								["enabled"] = false,
								["name"] = "aberrant_spellforge",
							},
							{
								["enabled"] = true,
								["action"] = "spymasters_web",
								["criteria"] =
								"buff.spymasters_report.stack = 1 & buff.power_infusion.up & ! buff.spymasters_web.up || buff.power_infusion.up & ( boss & fight_remains < 120 ) || ( boss & fight_remains <= 20 || buff.dark_ascension.up & boss & fight_remains <= 60 || buff.entropic_rift.up & talent.entropic_rift.enabled & boss & fight_remains <= 30 ) & ! buff.spymasters_web.up",
								["name"] = "spymasters_web",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.voidform.up || buff.power_infusion.up || buff.dark_ascension.up || ( cooldown.void_eruption.remains > 10 & trinket.cooldown.duration <= 60 ) ) || boss & fight_remains < 20",
								["action"] = "use_items",
							},
							{
								["enabled"] = true,
								["action"] = "desperate_invokers_codex",
								["criteria"] = "equipped.desperate_invokers_codex",
								["name"] = "desperate_invokers_codex",
							},
						},
					},
					["version"] = 20240805,
					["warnings"] =
					"The import for 'filler' required some automated changes.\nLine 2: Converted 'talent.mind_spike' to 'talent.mind_spike.enabled' (1x).\nLine 4: Converted 'talent.inescapable_torment' to 'talent.inescapable_torment.enabled' (1x).\n\nThe import for 'aoe_variables' required some automated changes.\nLine 4: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\nLine 5: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\n\nThe import for 'main' required some automated changes.\nLine 1: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\nLine 2: Converted 'talent.void_blast' to 'talent.void_blast.enabled' (1x).\nLine 2: Converted 'talent.mind_melt' to 'talent.mind_melt.enabled' (1x).\nLine 4: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\nLine 4: Converted 'talent.dark_ascension' to 'talent.dark_ascension.enabled' (1x).\nLine 5: Converted 'talent.devour_matter' to 'talent.devour_matter.enabled' (1x).\nLine 6: Converted 'talent.mind_devourer' to 'talent.mind_devourer.enabled' (1x).\nLine 8: Converted 'talent.insidious_ire' to 'talent.insidious_ire.enabled' (1x).\nLine 8: Converted operations in 'buff.voidform.up&full_recharge_time<=gcd.max&(!talent.insidious_ire.enabled||dot.devouring_plague.remains>=execute_time)&(cooldown.void_bolt.remains%gcd.max-cooldown.void_bolt.remains%%gcd.max)*gcd.max<=0.25&(cooldown.void_bolt.remains%gcd.max-cooldown.void_bolt.remains%%gcd.max)>=0.01' to 'buff.voidform.up&full_recharge_time<=gcd.max&(!talent.insidious_ire.enabled||dot.devouring_plague.remains>=execute_time)&(cooldown.void_bolt.remains/gcd.max-cooldown.void_bolt.remains%gcd.max)*gcd.max<=0.25&(cooldown.void_bolt.remains/gcd.max-cooldown.void_bolt.remains%gcd.max)>=0.01'.\nLine 10: Converted 'talent.void_eruption' to 'talent.void_eruption.enabled' (1x).\nLine 11: Converted 'talent.void_eruption' to 'talent.void_eruption.enabled' (1x).\nLine 11: Converted 'talent.entropic_rift' to 'talent.entropic_rift.enabled' (1x).\nLine 12: Converted 'talent.depth_of_shadows' to 'talent.depth_of_shadows.enabled' (1x).\nLine 13: Converted 'talent.inescapable_torment' to 'talent.inescapable_torment.enabled' (1x).\nLine 13: Converted 'talent.mind_devourer' to 'talent.mind_devourer.enabled' (1x).\nLine 14: Converted 'talent.inescapable_torment' to 'talent.inescapable_torment.enabled' (1x).\nLine 16: Converted 'talent.mind_spike' to 'talent.mind_spike.enabled' (1x).\nLine 16: Converted 'talent.mind_spike' to 'talent.mind_spike.enabled' (1x).\nLine 16: Converted 'talent.empowered_surges' to 'talent.empowered_surges.enabled' (1x).\nLine 18: Converted 'talent.distorted_reality' to 'talent.distorted_reality.enabled' (1x).\nLine 18: Converted 'talent.void_eruption' to 'talent.void_eruption.enabled' (1x).\nLine 19: Converted 'talent.entropic_rift' to 'talent.entropic_rift.enabled' (1x).\nLine 21: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\nLine 21: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\nLine 23: Converted 'talent.mind_devourer' to 'talent.mind_devourer.enabled' (1x).\nLine 23: Converted 'talent.void_eruption' to 'talent.void_eruption.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 8: Unsupported use_item action [ aberrant_spellforge]; entry disabled.\n\nThe import for 'aoe' required some automated changes.\nLine 2: Converted 'talent.whispering_shadows' to 'talent.whispering_shadows.enabled' (1x).\n\nThe import for 'cds' required some automated changes.\nLine 6: Converted 'talent.dark_ascension' to 'talent.dark_ascension.enabled' (1x).\nLine 8: Converted 'talent.power_surge' to 'talent.power_surge.enabled' (1x).\nLine 8: Converted 'talent.mindbender' to 'talent.mindbender.enabled' (1x).\nLine 8: Converted 'talent.mindbender' to 'talent.mindbender.enabled' (1x).\nLine 8: Converted 'talent.inescapable_torment' to 'talent.inescapable_torment.enabled' (1x).\nLine 8: Converted 'talent.dark_ascension' to 'talent.dark_ascension.enabled' (1x).\nLine 8: Converted 'talent.void_eruption' to 'talent.void_eruption.enabled' (1x).\nLine 9: Converted 'talent.mindbender' to 'talent.mindbender.enabled' (1x).\nLine 10: Converted 'talent.mindbender' to 'talent.mindbender.enabled' (1x).\nLine 10: Converted 'talent.inescapable_torment' to 'talent.inescapable_torment.enabled' (1x).\n\nThe import for 'trinkets' required some automated changes.\nLine 10: Unsupported use_item action [ aberrant_spellforge]; entry disabled.\nLine 11: Converted 'talent.entropic_rift' to 'talent.entropic_rift.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 3: Converted 'talent.void_eruption' to 'talent.void_eruption.enabled' (1x).\nLine 3: Converted 'talent.dark_ascension' to 'talent.dark_ascension.enabled' (1x).\nLine 3: Converted 'talent.void_torrent' to 'talent.void_torrent.enabled' (1x).\nLine 3: Converted 'talent.psychic_link' to 'talent.psychic_link.enabled' (1x).\n\nImported 9 action lists.\n",
					["spec"] = 258,
					["profile"] =
					"actions.precombat+=/shadowform,if=!buff.shadowform.up\nactions.precombat+=/variable,name=dr_force_prio,default=0,op=reset\nactions.precombat+=/variable,name=me_force_prio,default=1,op=reset\nactions.precombat+=/variable,name=max_vts,default=0,op=reset\nactions.precombat+=/variable,name=is_vt_possible,default=0,op=reset\nactions.precombat+=/variable,name=pooling_mindblasts,default=0,op=reset\nactions.precombat+=/arcane_torrent\nactions.precombat+=/use_item,name=aberrant_spellforge\nactions.precombat+=/shadow_crash,if=raid_event.adds.in>=25&spell_targets.shadow_crash<=8&boss&(!set_bonus.tier31_4pc||spell_targets.shadow_crash>1)\nactions.precombat+=/vampiric_touch,if=!talent.shadow_crash.enabled||raid_event.adds.in<25||spell_targets.shadow_crash>8||!boss||set_bonus.tier31_4pc&spell_targets.shadow_crash=1\n\nactions+=/silence\nactions+=/variable,name=holding_crash,op=set,value=raid_event.adds.in<15\nactions+=/variable,name=pool_for_cds,op=set,value=(cooldown.void_eruption.remains<=gcd.max*3&talent.void_eruption||cooldown.dark_ascension.up&talent.dark_ascension)||talent.void_torrent&talent.psychic_link&cooldown.void_torrent.remains<=4&(!raid_event.adds.exists&spell_targets.vampiric_touch>1||raid_event.adds.in<=5||raid_event.adds.remains>=6&!variable.holding_crash)&!buff.voidform.up\nactions+=/call_action_list,name=aoe,strict=1,if=active_enemies>2\nactions+=/run_action_list,name=main\n\nactions.aoe+=/call_action_list,name=aoe_variables\n# High Priority action to put out Vampiric Touch on enemies that will live at least 18 seconds, up to 12 targets manually while prepping AoE\nactions.aoe+=/vampiric_touch,cycle_targets=1,if=(refreshable&target.time_to_die>=18&(dot.vampiric_touch.ticking||!variable.dots_up))&((variable.max_vts>0&!variable.manual_vts_applied&!action.shadow_crash.in_flight||!talent.whispering_shadows)&!buff.entropic_rift.up)\n# Use Shadow Crash to apply Vampiric Touch to as many adds as possible while being efficient with Vampiric Touch refresh windows\nactions.aoe+=/shadow_crash,cycle_targets=1,if=!variable.holding_crash&(dot.vampiric_touch.refreshable||dot.vampiric_touch.remains<=target.time_to_die&!buff.voidform.up&(raid_event.adds.in-dot.vampiric_touch.remains)<15)\n\nactions.main+=/variable,name=dots_up,op=set,value=active_dot.vampiric_touch=active_enemies||action.shadow_crash.in_flight&talent.whispering_shadows,if=active_enemies<3\n# Are we pooling mindblasts? Currently only used for Voidweaver.\nactions.main+=/variable,name=pooling_mindblasts,op=setif,value=1,value_else=0,condition=talent.void_blast&(cooldown.void_torrent.remains<?(variable.holding_crash*raid_event.adds.in))<=gcd.max*(1+talent.mind_melt*3)\nactions.main+=/call_action_list,name=cds,if=boss&fight_remains<30||target.time_to_die>15&(!variable.holding_crash||active_enemies>2)\n# Use Shadowfiend and Mindbender on cooldown as long as Vampiric Touch and Shadow Word: Pain are active and sync with Dark Ascension\nactions.main+=/mindbender,if=(dot.shadow_word_pain.ticking&variable.dots_up||action.shadow_crash.in_flight&talent.whispering_shadows)&(boss&fight_remains<30||target.time_to_die>15)&(!talent.dark_ascension||cooldown.dark_ascension.remains<gcd.max||boss&fight_remains<15)\n# High Priority Shadow Word: Death when you are forcing the bonus from Devour Matter\nactions.main+=/shadow_word_death,cycle_targets=1,if=priest.force_devour_matter&talent.devour_matter\n# Blast more burst :wicked:\nactions.main+=/void_blast,cycle_targets=1,if=!talent.mind_devourer||!buff.mind_devourer.up||buff.entropic_rift.remains<=gcd.max\nactions.main+=/wait,sec=cooldown.mind_blast.recharge_time,if=cooldown.mind_blast.recharge_time<buff.entropic_rift.remains&buff.entropic_rift.up&buff.entropic_rift.remains<gcd.max&cooldown.mind_blast.charges<1\n# Complicated do not overcap mindblast and use it to protect against void bolt cd desync\nactions.main+=/mind_blast,if=buff.voidform.up&full_recharge_time<=gcd.max&(!talent.insidious_ire||dot.devouring_plague.remains>=execute_time)&(cooldown.void_bolt.remains%gcd.max-cooldown.void_bolt.remains%%gcd.max)*gcd.max<=0.25&(cooldown.void_bolt.remains%gcd.max-cooldown.void_bolt.remains%%gcd.max)>=0.01\n# Use Voidbolt on the enemy with the largest time to die. We do no care about dots because Voidbolt is only accessible inside voidform which guarantees maximum effect\nactions.main+=/void_bolt,cycle_targets=1,if=insanity.deficit>16&cooldown.void_bolt.remains<=0.1\n# Do not overcap on insanity\nactions.main+=/devouring_plague,cycle_targets=1,if=active_dot.devouring_plague<=1&dot.devouring_plague.remains<=gcd.max&(!talent.void_eruption||cooldown.void_eruption.remains>=gcd.max*3)||insanity.deficit<=16\n# Cast Void Torrent at very high priority if Voidweaver\nactions.main+=/void_torrent,cycle_targets=1,if=(dot.devouring_plague.ticking||talent.void_eruption&cooldown.void_eruption.up)&talent.entropic_rift&!variable.holding_crash\n# Snipe SWDs with Depth of Shadows to spawn pets. Prefer targets with Devouring Plague on them.\nactions.main+=/shadow_word_death,cycle_targets=1,if=talent.depth_of_shadows\n# Use Mind Blasts if using Inescapable Torment and you are capping charges or it will expire soon. Do not use if pooling Mindblast.\nactions.main+=/mind_blast,cycle_targets=1,if=(cooldown.mind_blast.full_recharge_time<=gcd.max+execute_time||pet.fiend.remains<=execute_time+gcd.max)&pet.fiend.active&talent.inescapable_torment&pet.fiend.remains>=execute_time&active_enemies<=7&(!buff.mind_devourer.up||!talent.mind_devourer)&dot.devouring_plague.remains>execute_time&!variable.pooling_mindblasts\n# High Priority Shadow Word: Death is Mindbender is expiring in less than a gcd plus wiggle room\nactions.main+=/shadow_word_death,cycle_targets=1,if=pet.fiend.remains<=(gcd.max+1)&pet.fiend.active&talent.inescapable_torment&active_enemies<=7\n# Use Voidbolt on the enemy with the largest time to die. Force a cooldown check here to make sure SimC doesn't wait too long (i.e. weird MF:I desync with GCD)\nactions.main+=/void_bolt,cycle_targets=1,if=cooldown.void_bolt.remains<=0.1\n# Do not overcap MSI or MFI during Empowered Surges (Archon).\nactions.main+=/call_action_list,name=empowered_filler,strict=1,if=(buff.mind_spike_insanity.stack=1&talent.mind_spike||buff.mind_flay_insanity.stack=1&!talent.mind_spike||buff.power_surge.up)&talent.empowered_surges&!cooldown.void_eruption.up\n### Hyper cringe optimisations that fish for TOF using heals. Set priest.twist_of_fate_heal_rppm=<rppm> to make this be used.\n## actions.main+=/call_action_list,name=heal_for_tof,if=!buff.twist_of_fate.up&buff.twist_of_fate_can_trigger_on_ally_heal.up&(talent.rhapsody||talent.divine_star||talent.halo)\n# Spend your Insanity on Devouring Plague at will if the fight will end in less than 10s\nactions.main+=/devouring_plague,if=boss&fight_remains<=duration+4\n# Use Devouring Plague to maximize uptime. Short circuit if you are capping on Insanity within 35 With Distorted Reality can maintain more than one at a time in multi-target.\nactions.main+=/devouring_plague,cycle_targets=1,if=insanity.deficit<=35&talent.distorted_reality||buff.dark_ascension.up||buff.mind_devourer.up&cooldown.mind_blast.up&(cooldown.void_eruption.remains>=3*gcd.max||!talent.void_eruption)||buff.entropic_rift.up\n# Use Void Torrent if it will get near full Mastery Value and you have Cthun and Void Eruption. Prune this action for Entropic Rift Builds.\nactions.main+=/void_torrent,cycle_targets=1,if=!variable.holding_crash&!talent.entropic_rift&dot.devouring_plague.remains>=2.5\n# Use Shadow Crash as long as you are not holding for adds and Vampiric Touch is within pandemic range\nactions.main+=/shadow_crash,if=!variable.holding_crash&dot.vampiric_touch.refreshable\n# Put out Vampiric Touch on enemies that will live at least 12s and Shadow Crash is not available soon\nactions.main+=/vampiric_touch,cycle_targets=1,if=refreshable&target.time_to_die>12&(dot.vampiric_touch.ticking||!variable.dots_up)&(variable.max_vts>0||active_enemies=1)&(cooldown.shadow_crash.remains>=dot.vampiric_touch.remains||variable.holding_crash||!talent.whispering_shadows)&(!action.shadow_crash.in_flight||!talent.whispering_shadows)\n# Spend Deathspeaker Procs\nactions.main+=/shadow_word_death,cycle_targets=1,if=variable.dots_up&buff.deathspeaker.up\n# Use all charges of Mind Blast if Vampiric Touch and Shadow Word: Pain are active and Mind Devourer is not active or you are prepping Void Eruption\nactions.main+=/mind_blast,cycle_targets=1,if=(!buff.mind_devourer.up||!talent.mind_devourer||cooldown.void_eruption.up&talent.void_eruption)&!variable.pooling_mindblasts\nactions.main+=/call_action_list,name=filler\n\nactions.aoe_variables+=/variable,name=max_vts,op=set,default=12,value=spell_targets.vampiric_touch>?12\nactions.aoe_variables+=/variable,name=is_vt_possible,op=set,value=0,default=1\nactions.aoe_variables+=/variable,name=is_vt_possible,op=set,value=1,if=target.time_to_die>=18&dot.vampiric_touch.refreshable\n# TODO: Revamp to fix undesired behaviour with unstacked fights\nactions.aoe_variables+=/variable,name=dots_up,op=set,value=(active_dot.vampiric_touch+8*(action.shadow_crash.in_flight&talent.whispering_shadows))>=variable.max_vts||!variable.is_vt_possible\nactions.aoe_variables+=/variable,name=holding_crash,op=set,value=(variable.max_vts-active_dot.vampiric_touch)<4||raid_event.adds.in<10&raid_event.adds.count>(variable.max_vts-active_dot.vampiric_touch),if=variable.holding_crash&talent.whispering_shadows\nactions.aoe_variables+=/variable,name=manual_vts_applied,op=set,value=(active_dot.vampiric_touch+8*!variable.holding_crash)>=variable.max_vts||!variable.is_vt_possible\n\n# TODO: Check VE/DA enter conditions based on dots\nactions.cds+=/potion,if=(buff.voidform.up||buff.power_infusion.up||buff.dark_ascension.up&(boss&fight_remains<=cooldown.power_infusion.remains+15))&(fight_remains>=320||buff.bloodlust.react)||boss&fight_remains<=30\nactions.cds+=/fireblood,if=buff.power_infusion.up||boss&fight_remains<=8\nactions.cds+=/berserking,if=buff.power_infusion.up||boss&fight_remains<=12\nactions.cds+=/blood_fury,if=buff.power_infusion.up||boss&fight_remains<=15\nactions.cds+=/ancestral_call,if=buff.power_infusion.up||boss&fight_remains<=15\n# Use Nymue's before we go into our cooldowns\nactions.cds+=/use_item,name=nymues_unraveling_spindle,if=variable.dots_up&(boss&fight_remains<30||target.time_to_die>15)&(!talent.dark_ascension||cooldown.dark_ascension.remains<3+gcd.max||boss&fight_remains<15)\n# Sync Power Infusion with Voidform or Dark Ascension\nactions.cds+=/power_infusion,if=(buff.voidform.up||buff.dark_ascension.up&(boss&fight_remains<=80||fight_remains>=140))\n## Use <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> while <a href='https://www.wowhead.com/spell=194249/voidform'>Voidform</a> or <a href='https://www.wowhead.com/spell=391109/dark-ascension'>Dark Ascension</a> is active. Chain directly after your own <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a>.\n## actions.cds+=/invoke_external_buff,name=power_infusion,if=(buff.voidform.up||buff.dark_ascension.up)&!buff.power_infusion.up\n## actions.cds+=/invoke_external_buff,name=bloodlust,if=buff.power_infusion.up&fight_remains<120||fight_remains<=40\n# Make sure Mindbender is active before popping Dark Ascension unless you have insignificant talent points or too many targets\nactions.cds+=/halo,if=talent.power_surge&(pet.fiend.active&cooldown.fiend.remains>=4&talent.mindbender||!talent.mindbender&!cooldown.fiend.up||active_enemies>2&!talent.inescapable_torment||!talent.dark_ascension)&(cooldown.mind_blast.charges=0||!talent.void_eruption||cooldown.void_eruption.remains>=gcd.max*4)\n# Make sure Mindbender is active before popping Void Eruption and dump charges of Mind Blast before casting\nactions.cds+=/void_eruption,if=!cooldown.fiend.up&(pet.fiend.active&cooldown.fiend.remains>=4||!talent.mindbender||active_enemies>2&!talent.inescapable_torment.rank)&(cooldown.mind_blast.charges=0||time>15)\nactions.cds+=/dark_ascension,if=pet.fiend.active&cooldown.fiend.remains>=4||!talent.mindbender&!cooldown.fiend.up||active_enemies>2&!talent.inescapable_torment\nactions.cds+=/call_action_list,name=trinkets\n# Use Desperate Prayer to heal up should Shadow Word: Death or other damage bring you below 75%\nactions.cds+=/desperate_prayer,if=health.pct<=75\n\n# Cast Vampiric Touch to consume Unfurling Darkness, prefering the target with the lowest DoT duration active\nactions.filler+=/vampiric_touch,cycle_targets=1,if=buff.unfurling_darkness.up\n## actions.filler+=/call_action_list,name=heal_for_tof,if=!buff.twist_of_fate.up&buff.twist_of_fate_can_trigger_on_ally_heal.up&(talent.rhapsody||talent.divine_star||talent.halo)\n## Use PWS with CR talented to trigger TOF if there are no better alternatives available to do this as we still get insanity for a PWS cast.\n## actions.filler+=/power_word_shield,if=!buff.twist_of_fate.up&buff.twist_of_fate_can_trigger_on_ally_heal.up&talent.crystalline_reflection\nactions.filler+=/call_action_list,name=empowered_filler,strict=1,if=dot.devouring_plague.remains>action.mind_spike.cast_time||!talent.mind_spike\nactions.filler+=/shadow_word_death,cycle_targets=1,if=target.health.pct<20||(buff.deathspeaker.up||set_bonus.tier31_2pc)&dot.devouring_plague.ticking\nactions.filler+=/shadow_word_death,cycle_targets=1,if=talent.inescapable_torment&pet.fiend.active\nactions.filler+=/devouring_plague,if=buff.voidform.up||cooldown.dark_ascension.up||buff.mind_devourer.up\n# Save up to 20s if adds are coming soon.\nactions.filler+=/halo,if=spell_targets>1\n## Using a heal with no damage kickbacks for TOF is damage neutral, so we will do it.\n## actions.filler+=/power_word_life,if=!buff.twist_of_fate.up&buff.twist_of_fate_can_trigger_on_ally_heal.up\nactions.filler+=/call_action_list,name=empowered_filler\n## actions.filler+=/call_action_list,name=heal_for_tof,if=equipped.rashoks_molten_heart&(active_allies-(10-buff.molten_radiance.value))>=10&buff.molten_radiance.up,line_cd=5\nactions.filler+=/mind_spike,cycle_targets=1\nactions.filler+=/mind_flay,cycle_targets=1,chain=1,interrupt_immediate=1,interrupt_if=ticks>=2\nactions.filler+=/divine_star\n# Use Shadow Crash while moving as a low-priority action when adds will not come in 20 seconds.\nactions.filler+=/shadow_crash,if=raid_event.adds.in>20&!set_bonus.tier31_4pc\n# Use Shadow Word: Death while moving as a low-priority action in execute\nactions.filler+=/shadow_word_death,cycle_targets=1,if=target.health.pct<20\n# Use Shadow Word: Death while moving as a low-priority action\nactions.filler+=/shadow_word_death,cycle_targets=1\n# Use Shadow Word: Pain while moving as a low-priority action with T31 4pc\nactions.filler+=/shadow_word_pain,cycle_targets=1,if=set_bonus.tier31_4pc\n# Use Shadow Word: Pain while moving as a low-priority action without T31 4pc\nactions.filler+=/shadow_word_pain,cycle_targets=1,if=!set_bonus.tier31_4pc\n\nactions.empowered_filler+=/mind_spike_insanity,cycle_targets=1\nactions.empowered_filler+=/mind_flay,cycle_targets=1,if=buff.mind_flay_insanity.up\n\n## Use Halo to acquire Twist of Fate if an ally can be healed for it and it is not currently up.\n## actions.heal_for_tof+=/halo\n## Use Divine Star to acquire Twist of Fate if an ally can be healed for it and it is not currently up.\n## actions.heal_for_tof+=/divine_star\n## Use Holy Nova when Rhapsody is fully stacked to acquire Twist of Fate if an ally can be healed for it and it is not currently up.\n## actions.heal_for_tof+=/holy_nova,if=buff.rhapsody.stack=20&talent.rhapsody\n\nactions.trinkets+=/use_item,name=darkmoon_deck_box_inferno,if=equipped.darkmoon_deck_box_inferno\nactions.trinkets+=/use_item,name=darkmoon_deck_box_rime,if=equipped.darkmoon_deck_box_rime\nactions.trinkets+=/use_item,name=darkmoon_deck_box_dance,if=equipped.darkmoon_deck_box_dance\nactions.trinkets+=/use_item,name=dreambinder_loom_of_the_great_cycle,use_off_gcd=1,if=gcd.remains>0||boss&fight_remains<20\nactions.trinkets+=/use_item,name=conjured_chillglobe\nactions.trinkets+=/use_item,name=iceblood_deathsnare,if=(!raid_event.adds.exists||raid_event.adds.up||spell_targets.iceblood_deathsnare>=5)||boss&fight_remains<20\n# Use Erupting Spear Fragment with cooldowns, adds are currently active, or the fight will end in less than 20 seconds\nactions.trinkets+=/use_item,name=erupting_spear_fragment,if=(buff.power_infusion.up||raid_event.adds.up||boss&fight_remains<20)&equipped.erupting_spear_fragment\n# Use Belor'relos on cooldown except to hold for incoming adds or if already facing 5 or more targets\nactions.trinkets+=/use_item,name=belorrelos_the_suncaller,if=(!raid_event.adds.exists||raid_event.adds.up||spell_targets.belorrelos_the_suncaller>=5||boss&fight_remains<20)&equipped.belorrelos_the_suncaller\n# Use Beacon to the Beyond on cooldown except to hold for incoming adds or if already facing 5 or more targets\nactions.trinkets+=/use_item,name=beacon_to_the_beyond,if=(!raid_event.adds.exists||raid_event.adds.up||spell_targets.beacon_to_the_beyond>=5||boss&fight_remains<20)&equipped.beacon_to_the_beyond\nactions.trinkets+=/use_item,name=aberrant_spellforge\nactions.trinkets+=/use_item,name=spymasters_web,if=buff.spymasters_report.stack=1&buff.power_infusion.up&!buff.spymasters_web.up||buff.power_infusion.up&(boss&fight_remains<120)||(boss&fight_remains<=20||buff.dark_ascension.up&boss&fight_remains<=60||buff.entropic_rift.up&talent.entropic_rift&boss&fight_remains<=30)&!buff.spymasters_web.up\nactions.trinkets+=/use_items,if=(buff.voidform.up||buff.power_infusion.up||buff.dark_ascension.up||(cooldown.void_eruption.remains>10&trinket.cooldown.duration<=60))||boss&fight_remains<20\nactions.trinkets+=/use_item,name=desperate_invokers_codex,if=equipped.desperate_invokers_codex",
				},
				["Feral"] = {
					["builtIn"] = true,
					["date"] = 20240805,
					["spec"] = 103,
					["desc"] = "2024-07-24: The War Within",
					["profile"] =
					"actions.precombat+=/prowl,if=!buff.prowl.up\nactions.precombat+=/cat_form,if=!buff.cat_form.up\n# check if trinket slot contains a stat on use\nactions.precombat+=/variable,name=trinket_1_buffs,value=trinket.1.has_buff.agility||trinket.1.has_buff.mastery||trinket.1.has_buff.versatility||trinket.1.has_buff.haste||trinket.1.has_buff.crit\nactions.precombat+=/variable,name=trinket_2_buffs,value=trinket.2.has_buff.agility||trinket.2.has_buff.mastery||trinket.2.has_buff.versatility||trinket.2.has_buff.haste||trinket.2.has_buff.crit\n# if we are playing 2 minute convoke, we prefer 2 minute on-use over 3 minute on-use even with berserk: heart of the lion\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=talent.convoke_the_spirits&!talent.ashamanes_guidance&variable.trinket_1_buffs&(trinket.1.cooldown.duration%%120=0||120%%trinket.1.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=talent.convoke_the_spirits&!talent.ashamanes_guidance&variable.trinket_2_buffs&(trinket.1.cooldown.duration%%120=0||120%%trinket.1.cooldown.duration=0)\n# if we aren't playing 2 minute convoke, then we can sync 3 minute cds with berserk sans hotl\nactions.precombat+=/variable,name=trinket_1_sync,op=setif,value=1,value_else=0.5,condition=!(talent.convoke_the_spirits&!talent.ashamanes_guidance)&variable.trinket_1_buffs&(trinket.1.cooldown.duration%%cooldown.bs_inc.duration=0||cooldown.bs_inc.duration%%trinket.1.cooldown.duration=0||trinket.1.cooldown.duration%%cooldown.convoke_the_spirits.duration=0||cooldown.convoke_the_spirits.duration%%trinket.1.cooldown.duration=0)\nactions.precombat+=/variable,name=trinket_2_sync,op=setif,value=1,value_else=0.5,condition=!(talent.convoke_the_spirits&!talent.ashamanes_guidance)&variable.trinket_2_buffs&(trinket.2.cooldown.duration%%cooldown.bs_inc.duration=0||cooldown.bs_inc.duration%%trinket.2.cooldown.duration=0||trinket.2.cooldown.duration%%cooldown.convoke_the_spirits.duration=0||cooldown.convoke_the_spirits.duration%%trinket.2.cooldown.duration=0)\n# prioritize trinkets that line-up with cds->main-stat on uses->longer cd trinkets->shorter duration trinkets\nactions.precombat+=/variable,name=trinket_priority,op=setif,value=2,value_else=1,condition=!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.2.cooldown.duration%trinket.2.proc.any_dps.duration)*(1.5+trinket.2.has_buff.agility)*(variable.trinket_2_sync))>((trinket.1.cooldown.duration%trinket.1.proc.any_dps.duration)*(1.5+trinket.1.has_buff.agility)*(variable.trinket_1_sync))\n\nactions+=/prowl,if=buff.bs_inc.down&!buff.prowl.up\nactions+=/cat_form,if=!buff.cat_form.up&!talent.fluid_form\n## Line up <a href='https://www.wowhead.com/spell=10060/power-infusion'>Power Infusion</a> with Berserk.\n## actions+=/invoke_external_buff,name=power_infusion,if=buff.bs_inc.up||!talent.berserk_heart_of_the_lion\nactions+=/call_action_list,name=variable\nactions+=/tigers_fury,if=energy.deficit>50||combo_points=5&!dot.rip.ticking\nactions+=/rake,cycle_targets=1,if=buff.shadowmeld.up||buff.prowl.up\nactions+=/natures_vigil,if=spell_targets.swipe_cat>0\nactions+=/renewal,if=health.pct<60&variable.regrowth\nactions+=/adaptive_swarm,cycle_targets=1,if=(!dot.adaptive_swarm_damage.ticking||dot.adaptive_swarm_damage.remains<2)&dot.adaptive_swarm_damage.stack<3&!action.adaptive_swarm_damage.in_flight&!action.adaptive_swarm.in_flight&target.time_to_die>5&(buff.cat_form.up&!talent.unbridled_swarm.enabled||spell_targets.swipe_cat=1)\nactions+=/adaptive_swarm,cycle_targets=1,if=buff.cat_form.up&dot.adaptive_swarm_damage.stack<3&talent.unbridled_swarm.enabled&spell_targets.swipe_cat>1\nactions+=/call_action_list,name=cooldown,strict=1,if=dot.rip.ticking\nactions+=/ferocious_bite,if=buff.apex_predators_craving.up&!(variable.need_bt&active_bt_triggers=2)\nactions+=/run_action_list,name=berserk,strict=1,if=buff.bs_inc.up\nactions+=/call_action_list,name=finisher,if=combo_points=5\nactions+=/call_action_list,name=builder,if=spell_targets.swipe_cat=1&combo_points<5&(variable.time_to_pool<=0||!variable.need_bt||variable.proccing_bt)\nactions+=/call_action_list,name=aoe_builder,if=spell_targets.swipe_cat>=2&combo_points<5&(variable.time_to_pool<=0||!variable.need_bt||variable.proccing_bt)\nactions+=/regrowth,if=buff.predatory_swiftness.up&variable.regrowth\n\n# this variable tracks whether or not we've started our bt sequence\nactions.aoe_builder+=/brutal_slash,cycle_targets=1,if=!(variable.need_bt&buff.bt_swipe.up)&(cooldown.brutal_slash.full_recharge_time<4||time_to_die<4||raid_event.adds.remains<4)\nactions.aoe_builder+=/prowl,if=!(buff.bt_rake.up&active_bt_triggers=2)&action.rake.ready&gcd.remains=0&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)\nactions.aoe_builder+=/shadowmeld,if=!(buff.bt_rake.up&active_bt_triggers=2)&action.rake.ready&gcd.remains=0&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)\nactions.aoe_builder+=/thrash_cat,if=refreshable&!talent.thrashing_claws\n# maximize rake uptime while avoiding rake-downgrades\nactions.aoe_builder+=/rake,cycle_targets=1,if=(refreshable||(dot.rake.pmultiplier<persistent_multiplier))&!(buff.bt_rake.up&active_bt_triggers=2)\nactions.aoe_builder+=/brutal_slash,if=!(buff.bt_swipe.up&active_bt_triggers=2)\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=refreshable&(spell_targets.swipe_cat<4||talent.brutal_slash)&!(buff.bt_moonfire.up&active_bt_triggers=2)\nactions.aoe_builder+=/swipe_cat,if=!(buff.bt_swipe.up&active_bt_triggers=2)\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=refreshable&!(buff.bt_moonfire.up&active_bt_triggers=2)\nactions.aoe_builder+=/rake,cycle_targets=1,if=(refreshable||(dot.rake.pmultiplier<persistent_multiplier))&!(buff.bt_rake.up&active_bt_triggers=2)\n# fill with shred at 2 or 3 targets, if sudden ambush is not up. If easy swipe is enabled, skip this line\nactions.aoe_builder+=/shred,if=!(buff.bt_shred.up&active_bt_triggers=2)&spell_targets.swipe_cat<=3&!variable.easy_swipe&!buff.sudden_ambush.up\nactions.aoe_builder+=/thrash_cat,if=!(buff.bt_thrash.up&active_bt_triggers=2)&!talent.thrashing_claws\n# fallback bloodtalons actions below this point\nactions.aoe_builder+=/moonfire_cat,cycle_targets=1,if=variable.need_bt&buff.bt_moonfire.down\nactions.aoe_builder+=/shred,if=variable.need_bt&buff.bt_shred.down&!variable.easy_swipe\nactions.aoe_builder+=/rake,cycle_targets=1,if=dot.rake.pmultiplier<1.6&variable.need_bt&buff.bt_rake.down\n\nactions.berserk+=/call_action_list,name=finisher,if=combo_points=5\nactions.berserk+=/run_action_list,name=aoe_builder,strict=1,if=spell_targets.swipe_cat>=2\nactions.berserk+=/prowl,if=!(buff.bt_rake.up&active_bt_triggers=2)&action.rake.ready&gcd.remains=0&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.shadowmeld.up\nactions.berserk+=/shadowmeld,if=!(buff.bt_rake.up&active_bt_triggers=2)&action.rake.ready&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)&!buff.prowl.up\n# rake if bt doesnt need proc and rake can be upgraded. Fish for sudden ambush procs unless rake will fall off otherwise.\nactions.berserk+=/rake,if=!(buff.bt_rake.up&active_bt_triggers=2)&(dot.rake.remains<3||buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier)\nactions.berserk+=/thrash_cat,if=!talent.thrashing_claws&refreshable\nactions.berserk+=/moonfire_cat,if=refreshable\n# proc bt when an opportunity arises\nactions.berserk+=/shred,if=active_bt_triggers=2&buff.bt_shred.down\nactions.berserk+=/brutal_slash,if=active_bt_triggers=2&buff.bt_swipe.down\nactions.berserk+=/moonfire_cat,if=active_bt_triggers=2&buff.bt_moonfire.down\n# alternate brs and shred to create bt opportunities\nactions.berserk+=/brutal_slash,if=cooldown.brutal_slash.charges>1&buff.bt_swipe.down\nactions.berserk+=/shred,if=buff.bt_shred.down\nactions.berserk+=/brutal_slash,if=cooldown.brutal_slash.charges>1\nactions.berserk+=/shred\n\n# this variable tracks whether or not we've started our bt sequence\nactions.builder+=/shadowmeld,if=gcd=0&energy>=35&!buff.sudden_ambush.up&(dot.rake.refreshable||dot.rake.pmultiplier<1.4)*!(variable.need_bt&buff.bt_rake.up)&buff.tigers_fury.up\n# upgrade to stealth rakes, otherwise refresh in pandemic. Delay rake as long as possible if it would downgrade\nactions.builder+=/rake,if=((refreshable&persistent_multiplier>=dot.rake.pmultiplier||dot.rake.remains<2)||buff.sudden_ambush.up&persistent_multiplier>dot.rake.pmultiplier)&!(variable.need_bt&buff.bt_rake.up)\nactions.builder+=/brutal_slash,if=cooldown.brutal_slash.full_recharge_time<4&!(variable.need_bt&buff.bt_swipe.up)\nactions.builder+=/thrash_cat,if=refreshable\nactions.builder+=/moonfire_cat,if=refreshable\nactions.builder+=/shred,if=buff.clearcasting.react\nactions.builder+=/brutal_slash,if=!(variable.need_bt&buff.bt_swipe.up)\nactions.builder+=/swipe_cat,if=talent.wild_slashes&!(variable.need_bt&buff.bt_swipe.up)\nactions.builder+=/shred,if=!(variable.need_bt&buff.bt_shred.up)\nactions.builder+=/swipe_cat,if=variable.need_bt&buff.bt_swipe.down\nactions.builder+=/moonfire_cat,if=variable.need_bt&buff.bt_moonfire.down\n# clip rake for bt if it wont downgrade its snapshot\nactions.builder+=/rake,if=variable.need_bt&buff.bt_rake.down&persistent_multiplier>=dot.rake.pmultiplier\nactions.builder+=/thrash_cat,if=variable.need_bt&buff.bt_thrash.down\n\nactions.cooldown+=/incarnation\nactions.cooldown+=/berserk\nactions.cooldown+=/berserking,if=buff.bs_inc.up||cooldown.bs_inc.remains>50\nactions.cooldown+=/potion,if=buff.bs_inc.up||fight_remains<32||(!variable.lastzerk&variable.lastconvoke&cooldown.convoke_the_spirits.remains<10)\nactions.cooldown+=/feral_frenzy,if=combo_points<=1||buff.bs_inc.up&combo_points<=2\nactions.cooldown+=/convoke_the_spirits,if=fight_remains<5||(buff.tigers_fury.up&(combo_points<=2)||buff.bs_inc.up&combo_points<=3)&(target.time_to_die>5-talent.ashamanes_guidance.enabled||target.time_to_die=fight_remains)\n# stat on-use trinkets, prefers trinket with higher priority. reads like this: berserk is up OR if tigers fury up & convoke is either ready, wont be for the next tf, or the other trinket will be ready in time for convoke. If we dont have convoke, then we use if berserk wont be up for next tf or other trinket will be up for berserk.\nactions.cooldown+=/use_item,slot=trinket1,if=(buff.bs_inc.up||((buff.tigers_fury.up&cooldown.tigers_fury.remains>20)&(cooldown.convoke_the_spirits.remains<4||cooldown.convoke_the_spirits.remains>45||cooldown.convoke_the_spirits.remains-trinket.2.cooldown.remains>0||!talent.convoke_the_spirits&(cooldown.bs_inc.remains>40||cooldown.bs_inc.remains-trinket.2.cooldown.remains>0))))&(!trinket.2.has_cooldown||trinket.2.cooldown.remains||variable.trinket_priority=1)||trinket.1.proc.any_dps.duration>=fight_remains\nactions.cooldown+=/use_item,slot=trinket2,if=(buff.bs_inc.up||((buff.tigers_fury.up&cooldown.tigers_fury.remains>20)&(cooldown.convoke_the_spirits.remains<4||cooldown.convoke_the_spirits.remains>45||cooldown.convoke_the_spirits.remains-trinket.1.cooldown.remains>0||!talent.convoke_the_spirits&(cooldown.bs_inc.remains>40||cooldown.bs_inc.remains-trinket.1.cooldown.remains>0))))&(!trinket.1.has_cooldown||trinket.1.cooldown.remains||variable.trinket_priority=2)||trinket.2.proc.any_dps.duration>=fight_remains\n# non-stat on use trinkets get used on cooldown, so long as it wont interfere with a stat-on use trinket\nactions.cooldown+=/use_item,slot=trinket1,if=!variable.trinket_1_buffs&(trinket.2.cooldown.remains>20||!variable.trinket_2_buffs||trinket.2.cooldown.remains&cooldown.tigers_fury.remains>20)\nactions.cooldown+=/use_item,slot=trinket2,if=!variable.trinket_2_buffs&(trinket.1.cooldown.remains>20||!variable.trinket_1_buffs||trinket.1.cooldown.remains&cooldown.tigers_fury.remains>20)\n\nactions.finisher+=/primal_wrath,if=spell_targets.primal_wrath>1&dot.primal_wrath.refreshable||(spell_targets.primal_wrath>3&!talent.rampant_ferocity.enabled)\nactions.finisher+=/rip,cycle_targets=1,if=refreshable&(!talent.primal_wrath||spell_targets=1)&(buff.bloodtalons.up||!talent.bloodtalons)\nactions.finisher+=/pool_resource,for_next=1\nactions.finisher+=/ferocious_bite,max_energy=1,cycle_targets=1,if=!buff.bs_inc.up||!talent.soul_of_the_forest.enabled\nactions.finisher+=/ferocious_bite,cycle_targets=1\n\n# most expensive bt cycle is Shred + Thrash + Rake, 40+40+35 for 115 energy. During incarn it is 32+32+28 for 92energy\nactions.variable+=/variable,name=effective_energy,op=set,value=energy+(40*buff.clearcasting.stack)+(3*energy.regen)+(50*cooldown.tigers_fury.remains<3.5)\n# estimated time until we have enough energy to proc bloodtalons.\nactions.variable+=/variable,name=time_to_pool,op=set,value=((115-variable.effective_energy-(23*buff.incarnation.up))%energy.regen)\n# try to proc bt if we have 1 or 0 stacks of bloodtalons\nactions.variable+=/variable,name=need_bt,value=talent.bloodtalons&buff.bloodtalons.stack<=1\n# checks if theres exactly 1 convoke remaining in sim\nactions.variable+=/variable,name=lastconvoke,value=(cooldown.convoke_the_spirits.remains+cooldown.convoke_the_spirits.duration)>fight_remains&cooldown.convoke_the_spirits.remains<fight_remains\n# checks if theres exactly 1 berserk cast remaining in sim                 : at least 5s spare for now, TODO: check #s\nactions.variable+=/variable,name=lastzerk,value=(cooldown.bs_inc.remains+cooldown.bs_inc.duration+5)>fight_remains&cooldown.convoke_the_spirits.remains<fight_remains\n# 300-(time+318)%%300 roughly gives us potion cd remaining, pot cd=300, in other words this is the same cd_pot.remains+cd_pot.duration+15>fight_remains&cd_pot.remains+15<fight_remains\nactions.variable+=/variable,name=lastpotion,value=(300-((time+300)%%300)+300+15)>fight_remains&300-((time+300)%%300)+15<fight_remains\n# optional variable that alternates bite/pw during berserk regardless of talent setup. Off by default\nactions.variable+=/variable,name=zerk_biteweave,op=reset\n# optional variable that sends regrowth and renewal casts. Turned off by default\nactions.variable+=/variable,name=regrowth,op=reset\n# optional variable that forgoes shredding in AoE. Turned off by default\nactions.variable+=/variable,name=easy_swipe,op=reset\nactions.variable+=/variable,name=proccing_bt,op=set,value=variable.need_bt",
					["version"] = 20240805,
					["warnings"] =
					"The import for 'aoe_builder' required some automated changes.\nLine 4: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\nLine 7: Converted 'talent.brutal_slash' to 'talent.brutal_slash.enabled' (1x).\nLine 12: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\n\nThe import for 'finisher' required some automated changes.\nLine 2: Converted 'talent.primal_wrath' to 'talent.primal_wrath.enabled' (1x).\nLine 2: Converted 'talent.bloodtalons' to 'talent.bloodtalons.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 2: Converted 'talent.fluid_form' to 'talent.fluid_form.enabled' (1x).\n\nThe import for 'precombat' required some automated changes.\nLine 3: Converted 'trinket.1.has_buff.agility' to 'trinket.t1.has_buff.agility' (1x).\nLine 3: Converted 'trinket.1.has_buff.agility' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_buff.mastery' (1x).\nLine 3: Converted 'trinket.1.has_buff.mastery' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_buff.versatility' (1x).\nLine 3: Converted 'trinket.1.has_buff.versatility' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_buff.haste' (1x).\nLine 3: Converted 'trinket.1.has_buff.haste' to 'trinket.t1.has_use_buff' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_buff.crit' (1x).\nLine 3: Converted 'trinket.1.has_buff.crit' to 'trinket.t1.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.agility' to 'trinket.t2.has_buff.agility' (1x).\nLine 4: Converted 'trinket.2.has_buff.agility' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_buff.mastery' (1x).\nLine 4: Converted 'trinket.2.has_buff.mastery' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_buff.versatility' (1x).\nLine 4: Converted 'trinket.2.has_buff.versatility' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_buff.haste' (1x).\nLine 4: Converted 'trinket.2.has_buff.haste' to 'trinket.t2.has_use_buff' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_buff.crit' (1x).\nLine 4: Converted 'trinket.2.has_buff.crit' to 'trinket.t2.has_use_buff' (1x).\nLine 5: Converted 'talent.convoke_the_spirits' to 'talent.convoke_the_spirits.enabled' (1x).\nLine 5: Converted 'talent.ashamanes_guidance' to 'talent.ashamanes_guidance.enabled' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted operations in 'talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled&variable.trinket_1_buffs&(trinket.t1.cooldown.duration%%120=0||120%%trinket.t1.cooldown.duration=0)' to 'talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled&variable.trinket_1_buffs&(trinket.t1.cooldown.duration%120=0||120%trinket.t1.cooldown.duration=0)'.\nLine 6: Converted 'talent.convoke_the_spirits' to 'talent.convoke_the_spirits.enabled' (1x).\nLine 6: Converted 'talent.ashamanes_guidance' to 'talent.ashamanes_guidance.enabled' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 6: Converted operations in 'talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled&variable.trinket_2_buffs&(trinket.t1.cooldown.duration%%120=0||120%%trinket.t1.cooldown.duration=0)' to 'talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled&variable.trinket_2_buffs&(trinket.t1.cooldown.duration%120=0||120%trinket.t1.cooldown.duration=0)'.\nLine 7: Converted 'talent.convoke_the_spirits' to 'talent.convoke_the_spirits.enabled' (1x).\nLine 7: Converted 'talent.ashamanes_guidance' to 'talent.ashamanes_guidance.enabled' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 7: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 7: Converted operations in '!(talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled)&variable.trinket_1_buffs&(trinket.t1.cooldown.duration%%cooldown.bs_inc.duration=0||cooldown.bs_inc.duration%%trinket.t1.cooldown.duration=0||trinket.t1.cooldown.duration%%cooldown.convoke_the_spirits.duration=0||cooldown.convoke_the_spirits.duration%%trinket.t1.cooldown.duration=0)' to '!(talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled)&variable.trinket_1_buffs&(trinket.t1.cooldown.duration%cooldown.bs_inc.duration=0||cooldown.bs_inc.duration%trinket.t1.cooldown.duration=0||trinket.t1.cooldown.duration%cooldown.convoke_the_spirits.duration=0||cooldown.convoke_the_spirits.duration%trinket.t1.cooldown.duration=0)'.\nLine 8: Converted 'talent.convoke_the_spirits' to 'talent.convoke_the_spirits.enabled' (1x).\nLine 8: Converted 'talent.ashamanes_guidance' to 'talent.ashamanes_guidance.enabled' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 8: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 8: Converted operations in '!(talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled)&variable.trinket_2_buffs&(trinket.t2.cooldown.duration%%cooldown.bs_inc.duration=0||cooldown.bs_inc.duration%%trinket.t2.cooldown.duration=0||trinket.t2.cooldown.duration%%cooldown.convoke_the_spirits.duration=0||cooldown.convoke_the_spirits.duration%%trinket.t2.cooldown.duration=0)' to '!(talent.convoke_the_spirits.enabled&!talent.ashamanes_guidance.enabled)&variable.trinket_2_buffs&(trinket.t2.cooldown.duration%cooldown.bs_inc.duration=0||cooldown.bs_inc.duration%trinket.t2.cooldown.duration=0||trinket.t2.cooldown.duration%cooldown.convoke_the_spirits.duration=0||cooldown.convoke_the_spirits.duration%trinket.t2.cooldown.duration=0)'.\nLine 9: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 9: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 9: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 9: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 9: Converted 'trinket.2.has_buff.agility' to 'trinket.t2.has_buff.agility' (1x).\nLine 9: Converted 'trinket.2.has_buff.agility' to 'trinket.t2.has_use_buff' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 9: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 9: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 9: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 9: Converted 'trinket.1.has_buff.agility' to 'trinket.t1.has_buff.agility' (1x).\nLine 9: Converted 'trinket.1.has_buff.agility' to 'trinket.t1.has_use_buff' (1x).\nLine 9: Converted operations in '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration%trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration%trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))' to '!variable.trinket_1_buffs&variable.trinket_2_buffs||variable.trinket_2_buffs&((trinket.t2.cooldown.duration/trinket.t2.buff_duration)*(1.5+trinket.t2.has_use_buff)*(variable.trinket_2_sync))>((trinket.t1.cooldown.duration/trinket.t1.buff_duration)*(1.5+trinket.t1.has_use_buff)*(variable.trinket_1_sync))'.\nThe following auras were used in the action list but were not found in the addon database:\n - crit\n\nThe import for 'builder' required some automated changes.\nLine 8: Converted 'talent.wild_slashes' to 'talent.wild_slashes.enabled' (1x).\n\nThe import for 'variable' required some automated changes.\nLine 2: Converted operations in '((115-variable.effective_energy-(23*buff.incarnation.up))%energy.regen)' to '((115-variable.effective_energy-(23*buff.incarnation.up))/energy.regen)'.\nLine 3: Converted 'talent.bloodtalons' to 'talent.bloodtalons.enabled' (1x).\nLine 6: Converted operations in '(300-((time+300)%%300)+300+15)>fight_remains&300-((time+300)%%300)+15<fight_remains' to '(300-((time+300)%300)+300+15)>fight_remains&300-((time+300)%300)+15<fight_remains'.\n\nThe import for 'berserk' required some automated changes.\nLine 6: Converted 'talent.thrashing_claws' to 'talent.thrashing_claws.enabled' (1x).\n\nThe import for 'cooldown' required some automated changes.\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 7: Converted 'talent.convoke_the_spirits' to 'talent.convoke_the_spirits.enabled' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 7: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 7: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 7: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.proc.any_dps.duration' (1x).\nLine 7: Converted 'trinket.1.proc.any_dps.duration' to 'trinket.t1.buff_duration' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 8: Converted 'talent.convoke_the_spirits' to 'talent.convoke_the_spirits.enabled' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 8: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 8: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 8: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.proc.any_dps.duration' (1x).\nLine 8: Converted 'trinket.2.proc.any_dps.duration' to 'trinket.t2.buff_duration' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains' (1x).\nLine 9: Converted 'trinket.2.cooldown.remains' to 'trinket.t2.cooldown.remains'.\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains' (1x).\nLine 10: Converted 'trinket.1.cooldown.remains' to 'trinket.t1.cooldown.remains'.\n\nImported 8 action lists.\n",
					["lists"] = {
						["aoe_builder"] = {
							{
								["enabled"] = true,
								["action"] = "brutal_slash",
								["cycle_targets"] = 1,
								["criteria"] =
								"! ( variable.need_bt & buff.bt_swipe.up ) & ( cooldown.brutal_slash.full_recharge_time < 4 || time_to_die < 4 || raid_event.adds.remains < 4 )",
								["description"] = "this variable tracks whether or not we've started our bt sequence",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_rake.up & active_bt_triggers = 2 ) & action.rake.ready & gcd.remains = 0 & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 )",
								["action"] = "prowl",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_rake.up & active_bt_triggers = 2 ) & action.rake.ready & gcd.remains = 0 & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 )",
								["action"] = "shadowmeld",
							},
							{
								["enabled"] = true,
								["criteria"] = "refreshable & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
							},
							{
								["enabled"] = true,
								["action"] = "rake",
								["cycle_targets"] = 1,
								["criteria"] =
								"( refreshable || ( dot.rake.pmultiplier < persistent_multiplier ) ) & ! ( buff.bt_rake.up & active_bt_triggers = 2 )",
								["description"] = "maximize rake uptime while avoiding rake-downgrades",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_swipe.up & active_bt_triggers = 2 )",
								["action"] = "brutal_slash",
							},
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["criteria"] =
								"refreshable & ( spell_targets.swipe_cat < 4 || talent.brutal_slash.enabled ) & ! ( buff.bt_moonfire.up & active_bt_triggers = 2 )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "! ( buff.bt_swipe.up & active_bt_triggers = 2 )",
								["action"] = "swipe_cat",
							},
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["criteria"] = "refreshable & ! ( buff.bt_moonfire.up & active_bt_triggers = 2 )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] =
								"( refreshable || ( dot.rake.pmultiplier < persistent_multiplier ) ) & ! ( buff.bt_rake.up & active_bt_triggers = 2 )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_shred.up & active_bt_triggers = 2 ) & spell_targets.swipe_cat <= 3 & ! variable.easy_swipe & ! buff.sudden_ambush.up",
								["action"] = "shred",
								["description"] =
								"fill with shred at 2 or 3 targets, if sudden ambush is not up. If easy swipe is enabled, skip this line",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_thrash.up & active_bt_triggers = 2 ) & ! talent.thrashing_claws.enabled",
								["action"] = "thrash_cat",
							},
							{
								["enabled"] = true,
								["action"] = "lunar_inspiration",
								["cycle_targets"] = 1,
								["criteria"] = "variable.need_bt & buff.bt_moonfire.down",
								["description"] = "fallback bloodtalons actions below this point",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.need_bt & buff.bt_shred.down & ! variable.easy_swipe",
								["action"] = "shred",
							},
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "dot.rake.pmultiplier < 1.6 & variable.need_bt & buff.bt_rake.down",
								["cycle_targets"] = 1,
							},
						},
						["finisher"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets.primal_wrath > 1 & dot.primal_wrath.refreshable || ( spell_targets.primal_wrath > 3 & ! talent.rampant_ferocity.enabled )",
								["action"] = "primal_wrath",
							},
							{
								["enabled"] = true,
								["action"] = "rip",
								["criteria"] =
								"refreshable & ( ! talent.primal_wrath.enabled || spell_targets = 1 ) & ( buff.bloodtalons.up || ! talent.bloodtalons.enabled )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["for_next"] = 1,
								["action"] = "pool_resource",
							},
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
								["criteria"] = "! buff.bs_inc.up || ! talent.soul_of_the_forest.enabled",
								["max_energy"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "ferocious_bite",
								["cycle_targets"] = 1,
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["criteria"] = "buff.bs_inc.down & ! buff.prowl.up",
								["action"] = "prowl",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up & ! talent.fluid_form.enabled",
								["action"] = "cat_form",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "variable",
							},
							{
								["enabled"] = true,
								["criteria"] = "energy.deficit > 50 || combo_points = 5 & ! dot.rip.ticking",
								["action"] = "tigers_fury",
							},
							{
								["enabled"] = true,
								["action"] = "rake",
								["criteria"] = "buff.shadowmeld.up || buff.prowl.up",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.swipe_cat > 0",
								["action"] = "natures_vigil",
							},
							{
								["enabled"] = true,
								["criteria"] = "health.pct < 60 & variable.regrowth",
								["action"] = "renewal",
							},
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] =
								"( ! dot.adaptive_swarm_damage.ticking || dot.adaptive_swarm_damage.remains < 2 ) & dot.adaptive_swarm_damage.stack < 3 & ! action.adaptive_swarm_damage.in_flight & ! action.adaptive_swarm.in_flight & target.time_to_die > 5 & ( buff.cat_form.up & ! talent.unbridled_swarm.enabled || spell_targets.swipe_cat = 1 )",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "adaptive_swarm",
								["criteria"] =
								"buff.cat_form.up & dot.adaptive_swarm_damage.stack < 3 & talent.unbridled_swarm.enabled & spell_targets.swipe_cat > 1",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["strict"] = 1,
								["criteria"] = "dot.rip.ticking",
								["list_name"] = "cooldown",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.apex_predators_craving.up & ! ( variable.need_bt & active_bt_triggers = 2 )",
								["action"] = "ferocious_bite",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "buff.bs_inc.up",
								["list_name"] = "berserk",
							},
							{
								["enabled"] = true,
								["criteria"] = "combo_points = 5",
								["action"] = "call_action_list",
								["list_name"] = "finisher",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets.swipe_cat = 1 & combo_points < 5 & ( variable.time_to_pool <= 0 || ! variable.need_bt || variable.proccing_bt )",
								["action"] = "call_action_list",
								["list_name"] = "builder",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets.swipe_cat >= 2 & combo_points < 5 & ( variable.time_to_pool <= 0 || ! variable.need_bt || variable.proccing_bt )",
								["action"] = "call_action_list",
								["list_name"] = "aoe_builder",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.predatory_swiftness.up & variable.regrowth",
								["action"] = "regrowth",
							},
						},
						["precombat"] = {
							{
								["enabled"] = true,
								["criteria"] = "! buff.prowl.up",
								["action"] = "prowl",
							},
							{
								["enabled"] = true,
								["criteria"] = "! buff.cat_form.up",
								["action"] = "cat_form",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff || trinket.t1.has_use_buff",
								["description"] = "check if trinket slot contains a stat on use",
								["var_name"] = "trinket_1_buffs",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff || trinket.t2.has_use_buff",
								["var_name"] = "trinket_2_buffs",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"if we are playing 2 minute convoke, we prefer 2 minute on-use over 3 minute on-use even with berserk: heart of the lion",
								["criteria"] =
								"talent.convoke_the_spirits.enabled & ! talent.ashamanes_guidance.enabled & variable.trinket_1_buffs & ( trinket.t1.cooldown.duration % 120 = 0 || 120 % trinket.t1.cooldown.duration = 0 )",
								["var_name"] = "trinket_1_sync",
								["action"] = "variable",
								["value_else"] = "0.5",
								["value"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_2_sync",
								["criteria"] =
								"talent.convoke_the_spirits.enabled & ! talent.ashamanes_guidance.enabled & variable.trinket_2_buffs & ( trinket.t1.cooldown.duration % 120 = 0 || 120 % trinket.t1.cooldown.duration = 0 )",
								["value_else"] = "0.5",
								["value"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"if we aren't playing 2 minute convoke, then we can sync 3 minute cds with berserk sans hotl",
								["criteria"] =
								"! ( talent.convoke_the_spirits.enabled & ! talent.ashamanes_guidance.enabled ) & variable.trinket_1_buffs & ( trinket.t1.cooldown.duration % cooldown.bs_inc.duration = 0 || cooldown.bs_inc.duration % trinket.t1.cooldown.duration = 0 || trinket.t1.cooldown.duration % cooldown.convoke_the_spirits.duration = 0 || cooldown.convoke_the_spirits.duration % trinket.t1.cooldown.duration = 0 )",
								["var_name"] = "trinket_1_sync",
								["action"] = "variable",
								["value_else"] = "0.5",
								["value"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["action"] = "variable",
								["var_name"] = "trinket_2_sync",
								["criteria"] =
								"! ( talent.convoke_the_spirits.enabled & ! talent.ashamanes_guidance.enabled ) & variable.trinket_2_buffs & ( trinket.t2.cooldown.duration % cooldown.bs_inc.duration = 0 || cooldown.bs_inc.duration % trinket.t2.cooldown.duration = 0 || trinket.t2.cooldown.duration % cooldown.convoke_the_spirits.duration = 0 || cooldown.convoke_the_spirits.duration % trinket.t2.cooldown.duration = 0 )",
								["value_else"] = "0.5",
								["value"] = "1",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] =
								"prioritize trinkets that line-up with cds->main-stat on uses->longer cd trinkets->shorter duration trinkets",
								["criteria"] =
								"! variable.trinket_1_buffs & variable.trinket_2_buffs || variable.trinket_2_buffs & ( ( trinket.t2.cooldown.duration / trinket.t2.buff_duration ) * ( 1.5 + trinket.t2.has_use_buff ) * ( variable.trinket_2_sync ) ) > ( ( trinket.t1.cooldown.duration / trinket.t1.buff_duration ) * ( 1.5 + trinket.t1.has_use_buff ) * ( variable.trinket_1_sync ) )",
								["var_name"] = "trinket_priority",
								["action"] = "variable",
								["value_else"] = "1",
								["value"] = "2",
							},
						},
						["builder"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"gcd.max = 0 & energy >= 35 & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) * ! ( variable.need_bt & buff.bt_rake.up ) & buff.tigers_fury.up",
								["action"] = "shadowmeld",
								["description"] = "this variable tracks whether or not we've started our bt sequence",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ( refreshable & persistent_multiplier >= dot.rake.pmultiplier || dot.rake.remains < 2 ) || buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier ) & ! ( variable.need_bt & buff.bt_rake.up )",
								["action"] = "rake",
								["description"] =
								"upgrade to stealth rakes, otherwise refresh in pandemic. Delay rake as long as possible if it would downgrade",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"cooldown.brutal_slash.full_recharge_time < 4 & ! ( variable.need_bt & buff.bt_swipe.up )",
								["action"] = "brutal_slash",
							},
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "thrash_cat",
							},
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "lunar_inspiration",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.clearcasting.react",
								["action"] = "shred",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ( variable.need_bt & buff.bt_swipe.up )",
								["action"] = "brutal_slash",
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.wild_slashes.enabled & ! ( variable.need_bt & buff.bt_swipe.up )",
								["action"] = "swipe_cat",
							},
							{
								["enabled"] = true,
								["criteria"] = "! ( variable.need_bt & buff.bt_shred.up )",
								["action"] = "shred",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.need_bt & buff.bt_swipe.down",
								["action"] = "swipe_cat",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.need_bt & buff.bt_moonfire.down",
								["action"] = "lunar_inspiration",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"variable.need_bt & buff.bt_rake.down & persistent_multiplier >= dot.rake.pmultiplier",
								["action"] = "rake",
								["description"] = "clip rake for bt if it wont downgrade its snapshot",
							},
							{
								["enabled"] = true,
								["criteria"] = "variable.need_bt & buff.bt_thrash.down",
								["action"] = "thrash_cat",
							},
						},
						["variable"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"energy + ( 40 * buff.clearcasting.stack ) + ( 3 * energy.regen ) + ( 50 * cooldown.tigers_fury.remains < 3.5 )",
								["description"] =
								"most expensive bt cycle is Shred + Thrash + Rake, 40+40+35 for 115 energy. During incarn it is 32+32+28 for 92energy",
								["var_name"] = "effective_energy",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( ( 115 - variable.effective_energy - ( 23 * buff.incarnation.up ) ) / energy.regen )",
								["description"] = "estimated time until we have enough energy to proc bloodtalons.",
								["var_name"] = "time_to_pool",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "talent.bloodtalons.enabled & buff.bloodtalons.stack <= 1",
								["description"] = "try to proc bt if we have 1 or 0 stacks of bloodtalons",
								["var_name"] = "need_bt",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( cooldown.convoke_the_spirits.remains + cooldown.convoke_the_spirits.duration ) > fight_remains & cooldown.convoke_the_spirits.remains < fight_remains",
								["description"] = "checks if theres exactly 1 convoke remaining in sim",
								["var_name"] = "lastconvoke",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( cooldown.bs_inc.remains + cooldown.bs_inc.duration + 5 ) > fight_remains & cooldown.convoke_the_spirits.remains < fight_remains",
								["description"] =
								"checks if theres exactly 1 berserk cast remaining in sim                 : at least 5s spare for now, TODO: check #s",
								["var_name"] = "lastzerk",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] =
								"( 300 - ( ( time + 300 )  % 300 ) + 300 + 15 ) > fight_remains & 300 - ( ( time + 300 )  % 300 ) + 15 < fight_remains",
								["description"] =
								"300-(time+318)%%300 roughly gives us potion cd remaining, pot cd=300, in other words this is the same cd_pot.remains+cd_pot.duration+15>fight_remains&cd_pot.remains+15<fight_remains",
								["var_name"] = "lastpotion",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "zerk_biteweave",
								["description"] =
								"optional variable that alternates bite/pw during berserk regardless of talent setup. Off by default",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "regrowth",
								["description"] =
								"optional variable that sends regrowth and renewal casts. Turned off by default",
							},
							{
								["enabled"] = true,
								["op"] = "reset",
								["action"] = "variable",
								["var_name"] = "easy_swipe",
								["description"] =
								"optional variable that forgoes shredding in AoE. Turned off by default",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "variable.need_bt",
								["var_name"] = "proccing_bt",
							},
						},
						["berserk"] = {
							{
								["enabled"] = true,
								["criteria"] = "combo_points = 5",
								["action"] = "call_action_list",
								["list_name"] = "finisher",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["strict"] = 1,
								["criteria"] = "spell_targets.swipe_cat >= 2",
								["list_name"] = "aoe_builder",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_rake.up & active_bt_triggers = 2 ) & action.rake.ready & gcd.remains = 0 & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.shadowmeld.up",
								["action"] = "prowl",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_rake.up & active_bt_triggers = 2 ) & action.rake.ready & ! buff.sudden_ambush.up & ( dot.rake.refreshable || dot.rake.pmultiplier < 1.4 ) & ! buff.prowl.up",
								["action"] = "shadowmeld",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! ( buff.bt_rake.up & active_bt_triggers = 2 ) & ( dot.rake.remains < 3 || buff.sudden_ambush.up & persistent_multiplier > dot.rake.pmultiplier )",
								["action"] = "rake",
								["description"] =
								"rake if bt doesnt need proc and rake can be upgraded. Fish for sudden ambush procs unless rake will fall off otherwise.",
							},
							{
								["enabled"] = true,
								["criteria"] = "! talent.thrashing_claws.enabled & refreshable",
								["action"] = "thrash_cat",
							},
							{
								["enabled"] = true,
								["criteria"] = "refreshable",
								["action"] = "lunar_inspiration",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_shred.down",
								["action"] = "shred",
								["description"] = "proc bt when an opportunity arises",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_swipe.down",
								["action"] = "brutal_slash",
							},
							{
								["enabled"] = true,
								["criteria"] = "active_bt_triggers = 2 & buff.bt_moonfire.down",
								["action"] = "lunar_inspiration",
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.brutal_slash.charges > 1 & buff.bt_swipe.down",
								["action"] = "brutal_slash",
								["description"] = "alternate brs and shred to create bt opportunities",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bt_shred.down",
								["action"] = "shred",
							},
							{
								["enabled"] = true,
								["criteria"] = "cooldown.brutal_slash.charges > 1",
								["action"] = "brutal_slash",
							},
							{
								["action"] = "shred",
								["enabled"] = true,
							},
						},
						["cooldown"] = {
							{
								["action"] = "incarnation",
								["enabled"] = true,
							},
							{
								["action"] = "berserk",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.bs_inc.up || cooldown.bs_inc.remains > 50",
								["action"] = "berserking",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"buff.bs_inc.up || fight_remains < 32 || ( ! variable.lastzerk & variable.lastconvoke & cooldown.convoke_the_spirits.remains < 10 )",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["criteria"] = "combo_points <= 1 || buff.bs_inc.up & combo_points <= 2",
								["action"] = "feral_frenzy",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"fight_remains < 5 || ( buff.tigers_fury.up & ( combo_points <= 2 ) || buff.bs_inc.up & combo_points <= 3 ) & ( target.time_to_die > 5 - talent.ashamanes_guidance.enabled || target.time_to_die = fight_remains )",
								["action"] = "convoke_the_spirits",
							},
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
								["criteria"] =
								"( buff.bs_inc.up || ( ( buff.tigers_fury.up & cooldown.tigers_fury.remains > 20 ) & ( cooldown.convoke_the_spirits.remains < 4 || cooldown.convoke_the_spirits.remains > 45 || cooldown.convoke_the_spirits.remains - trinket.t2.cooldown.remains > 0 || ! talent.convoke_the_spirits.enabled & ( cooldown.bs_inc.remains > 40 || cooldown.bs_inc.remains - trinket.t2.cooldown.remains > 0 ) ) ) ) & ( ! trinket.t2.has_cooldown || trinket.t2.cooldown.remains || variable.trinket_priority = 1 ) || trinket.t1.buff_duration >= fight_remains",
								["description"] =
								"stat on-use trinkets, prefers trinket with higher priority. reads like this: berserk is up OR if tigers fury up & convoke is either ready, wont be for the next tf, or the other trinket will be ready in time for convoke. If we dont have convoke, then we use if berserk wont be up for next tf or other trinket will be up for berserk.",
							},
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] =
								"( buff.bs_inc.up || ( ( buff.tigers_fury.up & cooldown.tigers_fury.remains > 20 ) & ( cooldown.convoke_the_spirits.remains < 4 || cooldown.convoke_the_spirits.remains > 45 || cooldown.convoke_the_spirits.remains - trinket.t1.cooldown.remains > 0 || ! talent.convoke_the_spirits.enabled & ( cooldown.bs_inc.remains > 40 || cooldown.bs_inc.remains - trinket.t1.cooldown.remains > 0 ) ) ) ) & ( ! trinket.t1.has_cooldown || trinket.t1.cooldown.remains || variable.trinket_priority = 2 ) || trinket.t2.buff_duration >= fight_remains",
								["slot"] = "trinket2",
							},
							{
								["enabled"] = true,
								["action"] = "trinket1",
								["slot"] = "trinket1",
								["criteria"] =
								"! variable.trinket_1_buffs & ( trinket.t2.cooldown.remains > 20 || ! variable.trinket_2_buffs || trinket.t2.cooldown.remains & cooldown.tigers_fury.remains > 20 )",
								["description"] =
								"non-stat on use trinkets get used on cooldown, so long as it wont interfere with a stat-on use trinket",
							},
							{
								["enabled"] = true,
								["action"] = "trinket2",
								["criteria"] =
								"! variable.trinket_2_buffs & ( trinket.t1.cooldown.remains > 20 || ! variable.trinket_1_buffs || trinket.t1.cooldown.remains & cooldown.tigers_fury.remains > 20 )",
								["slot"] = "trinket2",
							},
						},
					},
					["author"] = "Makahiki",
				},
				["Holy Priest"] = {
					["builtIn"] = true,
					["date"] = 20240730,
					["spec"] = 257,
					["desc"] = "Healer priorities are DPS-focused only\n\n2024-07-30: The War Within",
					["profile"] =
					"actions.precombat+=/power_word_fortitude\n\n# Always use HF if we have empyreal blaze (dot extension) or harmonious apparatus (cd reduction) or if it's not currently ticking. Otherwise, only use when refreshable to be sure we get the longest duration possible. It's worth it to cast even when the target will die soon based on just the initial hit damage. We also don't want to cast immediately once empyreal blaze is up when we are prepping divine word\nactions+=/holy_fire,cycle_targets=1,if=(talent.empyreal_blaze||talent.harmonious_apparatus||!ticking||refreshable)&!(buff.empyreal_blaze.up&(cooldown.divine_word.up||buff.divine_word.up)&cooldown.holy_word_chastise.up)\n# Don't cast SW:P during apotheosis or divine favor: chastise. We also don't cycle targets because it isn't worth the GCDs, since Smite deals slightly more damage than a full SW:P.\nactions+=/shadow_word_pain,if=(refreshable||!ticking)&(target.time_to_die>=dot.shadow_word_pain.duration)&!buff.divine_favor_chastise.up&!buff.apotheosis.up\n# Prepare to enter divine favor: chastise\nactions+=/call_action_list,name=divine_favor_chastise_prep,if=talent.divine_word&talent.holy_word_chastise&buff.divine_favor_chastise.down\n# Enter Divine Favor rotation with divine favor: chastise buff up\nactions+=/run_action_list,name=divine_favor_chastise_active,strict=1,if=buff.divine_favor_chastise.up\n# Run divine favor fillers rotation with buff down\nactions+=/run_action_list,name=divine_favor_filler,if=talent.divine_word&talent.holy_word_chastise&buff.divine_favor_chastise.down\n# Run divine image rotation with divine image talented\nactions+=/run_action_list,name=divine_image,strict=1,if=talent.divine_image\n# Otherwise generic rotation\nactions+=/run_action_list,name=generic\n\nactions.divine_favor_chastise_prep+=/variable,name=empyreal_exec_time,op=set,value=0\n# apotheosis_exec_time: Store how long Apotheosis will take to execute\nactions.divine_favor_chastise_prep+=/variable,name=apotheosis_exec_time,op=setif,condition=talent.apotheosis,value=action.apotheosis.execute_time,value_else=0\n# Use apotheosis to get Chastise back if its on cooldown and Divine Word will be up soon. We can use Apotheosis (2min CD) to reset Chastise for every other Divine Word (1min CD).\nactions.divine_favor_chastise_prep+=/apotheosis,if=(cooldown.holy_word_chastise.remains>cooldown.divine_word.remains)&(cooldown.divine_word.remains<=(variable.empyreal_exec_time+variable.apotheosis_exec_time))\n# Divine Word only if we can sync with Chastise and (if talented) Empyreal Blaze\nactions.divine_favor_chastise_prep+=/divine_word,if=cooldown.holy_word_chastise.up&(!talent.empyreal_blaze||buff.empyreal_blaze.up)\n# Holy word chastise to trigger divine favor: chastise\nactions.divine_favor_chastise_prep+=/holy_word_chastise,if=!talent.empyreal_blaze&buff.divine_word.up||talent.empyreal_blaze&buff.empyreal_blaze.down\n\nactions.divine_favor_chastise_active+=/halo,if=spell_targets.halo>=2\nactions.divine_favor_chastise_active+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.divine_favor_chastise_active+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.divine_favor_chastise_active+=/mindgames\nactions.divine_favor_chastise_active+=/shadow_word_death,if=target.health.pct<20\nactions.divine_favor_chastise_active+=/holy_word_chastise\n# We want to cycle smite to different targets to spread holy fire dots in AOE situations, this will buff holy nova's damage\nactions.divine_favor_chastise_active+=/smite,cycle_targets=1,if=spell_targets.holy_nova>=2\nactions.divine_favor_chastise_active+=/smite\n\nactions.divine_favor_filler+=/halo,if=spell_targets.halo>=2\nactions.divine_favor_filler+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.divine_favor_filler+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.divine_favor_filler+=/mindgames\nactions.divine_favor_filler+=/shadow_word_death,if=target.health.pct<20\n# We can use chastise for damage as long as we will have apotheosis available before the next divine word, otherwise only use it when it will be back up at the same time as divine word\nactions.divine_favor_filler+=/holy_word_chastise,if=(cooldown.apotheosis.remains<cooldown.divine_word.remains)||(cooldown.holy_word_chastise.duration_expected<=cooldown.divine_word.remains)\nactions.divine_favor_filler+=/smite\n\nactions.divine_image+=/apotheosis,if=buff.answered_prayers.down&!(cooldown.holy_word_sanctify.up||cooldown.holy_word_serenity.up||cooldown.holy_word_chastise.up)\n# line_cd prevents re-casting sanctify and serenity right away, wasting GCDs that could be used to proc divine image damage. In testing, the sweet spot balance between adding more divine images, triggering apotheosis, and casting damage CDs was to let the image from each healing holy word expire before re-casting\nactions.divine_image+=/holy_word_sanctify,line_cd=9\nactions.divine_image+=/holy_word_serenity,line_cd=9\nactions.divine_image+=/holy_word_chastise\nactions.divine_image+=/halo,if=spell_targets.halo>=2\nactions.divine_image+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.divine_image+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.divine_image+=/mindgames\nactions.divine_image+=/shadow_word_death,if=target.health.pct<20\nactions.divine_image+=/smite\n\nactions.generic+=/holy_word_chastise\n# Hold Apotheosis if chastise will be up soon\nactions.generic+=/apotheosis,if=cooldown.holy_word_chastise.remains>(gcd.max*3)\nactions.generic+=/halo,if=spell_targets.halo>=2\nactions.generic+=/divine_star,if=spell_targets.divine_star>=2\n# There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do\nactions.generic+=/holy_nova,if=(spell_targets.holy_nova>=2&buff.rhapsody.stack>=18)||(spell_targets.holy_nova>=3&buff.rhapsody.stack>=9)||(spell_targets.holy_nova>=4&buff.rhapsody.stack>=4)||spell_targets.holy_nova>=5\nactions.generic+=/mindgames\nactions.generic+=/shadow_word_death,if=target.health.pct<20\nactions.generic+=/smite\n\nactions.cooldowns+=/shadowfiend\n# Sync PI with divine favor: chastise if we took divine word\nactions.cooldowns+=/power_infusion,if=(!talent.divine_word||(cooldown.divine_word.up&cooldown.holy_word_chastise.up))\n# Only potion in sync with power infusion\nactions.cooldowns+=/potion,if=buff.power_infusion.up\n# hold trinkets to use with PI\nactions.cooldowns+=/use_items,if=buff.power_infusion.up",
					["version"] = 20240730,
					["warnings"] =
					"The import for 'cooldowns' required some automated changes.\nLine 2: Converted 'talent.divine_word' to 'talent.divine_word.enabled' (1x).\n\nThe import for 'default' required some automated changes.\nLine 1: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\nLine 1: Converted 'talent.harmonious_apparatus' to 'talent.harmonious_apparatus.enabled' (1x).\nLine 3: Converted 'talent.divine_word' to 'talent.divine_word.enabled' (1x).\nLine 3: Converted 'talent.holy_word_chastise' to 'talent.holy_word_chastise.enabled' (1x).\nLine 5: Converted 'talent.divine_word' to 'talent.divine_word.enabled' (1x).\nLine 5: Converted 'talent.holy_word_chastise' to 'talent.holy_word_chastise.enabled' (1x).\nLine 6: Converted 'talent.divine_image' to 'talent.divine_image.enabled' (1x).\n\nThe import for 'divine_favor_chastise_prep' required some automated changes.\nLine 2: Converted 'talent.apotheosis' to 'talent.apotheosis.enabled' (1x).\nLine 4: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\nLine 5: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\nLine 5: Converted 'talent.empyreal_blaze' to 'talent.empyreal_blaze.enabled' (1x).\n\nImported 8 action lists.\n",
					["author"] = "Kapulani",
					["lists"] = {
						["divine_favor_chastise_prep"] = {
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "0",
								["var_name"] = "empyreal_exec_time",
							},
							{
								["enabled"] = true,
								["op"] = "setif",
								["description"] = "apotheosis_exec_time: Store how long Apotheosis will take to execute",
								["value"] = "action.apotheosis.execute_time",
								["var_name"] = "apotheosis_exec_time",
								["action"] = "variable",
								["value_else"] = "0",
								["criteria"] = "talent.apotheosis.enabled",
							},
							{
								["enabled"] = true,
								["action"] = "apotheosis",
								["description"] =
								"Use apotheosis to get Chastise back if its on cooldown and Divine Word will be up soon. We can use Apotheosis (2min CD) to reset Chastise for every other Divine Word (1min CD).",
								["criteria"] =
								"( cooldown.holy_word_chastise.remains > cooldown.divine_word.remains ) & ( cooldown.divine_word.remains <= ( variable.empyreal_exec_time + variable.apotheosis_exec_time ) )",
							},
							{
								["enabled"] = true,
								["action"] = "divine_word",
								["description"] =
								"Divine Word only if we can sync with Chastise and (if talented) Empyreal Blaze",
								["criteria"] =
								"cooldown.holy_word_chastise.up & ( ! talent.empyreal_blaze.enabled || buff.empyreal_blaze.up )",
							},
							{
								["enabled"] = true,
								["action"] = "holy_word_chastise",
								["description"] = "Holy word chastise to trigger divine favor: chastise",
								["criteria"] =
								"! talent.empyreal_blaze.enabled & buff.divine_word.up || talent.empyreal_blaze.enabled & buff.empyreal_blaze.down",
							},
						},
						["divine_image"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"buff.answered_prayers.down & ! ( cooldown.holy_word_sanctify.up || cooldown.holy_word_serenity.up || cooldown.holy_word_chastise.up )",
								["action"] = "apotheosis",
							},
							{
								["enabled"] = true,
								["description"] =
								"line_cd prevents re-casting sanctify and serenity right away, wasting GCDs that could be used to proc divine image damage. In testing, the sweet spot balance between adding more divine images, triggering apotheosis, and casting damage CDs was to let the image from each healing holy word expire before re-casting",
								["action"] = "holy_word_sanctify",
								["line_cd"] = "9",
							},
							{
								["enabled"] = true,
								["action"] = "holy_word_serenity",
								["line_cd"] = "9",
							},
							{
								["action"] = "holy_word_chastise",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.halo >= 2",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.divine_star >= 2",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["action"] = "holy_nova",
								["description"] =
								"There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
								["criteria"] =
								"( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
							},
							{
								["action"] = "mindgames",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "target.health.pct < 20",
								["action"] = "shadow_word_death",
							},
							{
								["action"] = "smite",
								["enabled"] = true,
							},
						},
						["default"] = {
							{
								["enabled"] = true,
								["action"] = "holy_fire",
								["cycle_targets"] = 1,
								["description"] =
								"Always use HF if we have empyreal blaze (dot extension) or harmonious apparatus (cd reduction) or if it's not currently ticking. Otherwise, only use when refreshable to be sure we get the longest duration possible. It's worth it to cast even when the target will die soon based on just the initial hit damage. We also don't want to cast immediately once empyreal blaze is up when we are prepping divine word",
								["criteria"] =
								"( talent.empyreal_blaze.enabled || talent.harmonious_apparatus.enabled || ! ticking || refreshable ) & ! ( buff.empyreal_blaze.up & ( cooldown.divine_word.up || buff.divine_word.up ) & cooldown.holy_word_chastise.up )",
							},
							{
								["enabled"] = true,
								["action"] = "shadow_word_pain",
								["description"] =
								"Don't cast SW:P during apotheosis or divine favor: chastise. We also don't cycle targets because it isn't worth the GCDs, since Smite deals slightly more damage than a full SW:P.",
								["criteria"] =
								"( refreshable || ! ticking ) & ( target.time_to_die >= dot.shadow_word_pain.duration ) & ! buff.divine_favor_chastise.up & ! buff.apotheosis.up",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["description"] = "Prepare to enter divine favor: chastise",
								["criteria"] =
								"talent.divine_word.enabled & talent.holy_word_chastise.enabled & buff.divine_favor_chastise.down",
								["list_name"] = "divine_favor_chastise_prep",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "Enter Divine Favor rotation with divine favor: chastise buff up",
								["strict"] = 1,
								["criteria"] = "buff.divine_favor_chastise.up",
								["list_name"] = "divine_favor_chastise_active",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "Run divine favor fillers rotation with buff down",
								["criteria"] =
								"talent.divine_word.enabled & talent.holy_word_chastise.enabled & buff.divine_favor_chastise.down",
								["list_name"] = "divine_favor_filler",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "Run divine image rotation with divine image talented",
								["strict"] = 1,
								["criteria"] = "talent.divine_image.enabled",
								["list_name"] = "divine_image",
							},
							{
								["enabled"] = true,
								["action"] = "run_action_list",
								["description"] = "Otherwise generic rotation",
								["list_name"] = "generic",
							},
						},
						["precombat"] = {
							{
								["action"] = "power_word_fortitude",
								["enabled"] = true,
							},
						},
						["divine_favor_chastise_active"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.halo >= 2",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.divine_star >= 2",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["action"] = "holy_nova",
								["description"] =
								"There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
								["criteria"] =
								"( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
							},
							{
								["action"] = "mindgames",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "target.health.pct < 20",
								["action"] = "shadow_word_death",
							},
							{
								["action"] = "holy_word_chastise",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "smite",
								["cycle_targets"] = 1,
								["description"] =
								"We want to cycle smite to different targets to spread holy fire dots in AOE situations, this will buff holy nova's damage",
								["criteria"] = "spell_targets.holy_nova >= 2",
							},
							{
								["action"] = "smite",
								["enabled"] = true,
							},
						},
						["cooldowns"] = {
							{
								["action"] = "mindbender",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "power_infusion",
								["description"] = "Sync PI with divine favor: chastise if we took divine word",
								["criteria"] =
								"( ! talent.divine_word.enabled || ( cooldown.divine_word.up & cooldown.holy_word_chastise.up ) )",
							},
							{
								["enabled"] = true,
								["action"] = "potion",
								["description"] = "Only potion in sync with power infusion",
								["criteria"] = "buff.power_infusion.up",
							},
							{
								["enabled"] = true,
								["action"] = "use_items",
								["description"] = "hold trinkets to use with PI",
								["criteria"] = "buff.power_infusion.up",
							},
						},
						["generic"] = {
							{
								["action"] = "holy_word_chastise",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "apotheosis",
								["description"] = "Hold Apotheosis if chastise will be up soon",
								["criteria"] = "cooldown.holy_word_chastise.remains > ( gcd.max * 3 )",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.halo >= 2",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.divine_star >= 2",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["action"] = "holy_nova",
								["description"] =
								"There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
								["criteria"] =
								"( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
							},
							{
								["action"] = "mindgames",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "target.health.pct < 20",
								["action"] = "shadow_word_death",
							},
							{
								["action"] = "smite",
								["enabled"] = true,
							},
						},
						["divine_favor_filler"] = {
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.halo >= 2",
								["action"] = "halo",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.divine_star >= 2",
								["action"] = "divine_star",
							},
							{
								["enabled"] = true,
								["action"] = "holy_nova",
								["description"] =
								"There are particular breakpoints combinations of rhapsody and spell targets beyond which holy nova beats everything else we can do",
								["criteria"] =
								"( spell_targets.holy_nova >= 2 & buff.rhapsody.stack >= 18 ) || ( spell_targets.holy_nova >= 3 & buff.rhapsody.stack >= 9 ) || ( spell_targets.holy_nova >= 4 & buff.rhapsody.stack >= 4 ) || spell_targets.holy_nova >= 5",
							},
							{
								["action"] = "mindgames",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "target.health.pct < 20",
								["action"] = "shadow_word_death",
							},
							{
								["enabled"] = true,
								["action"] = "holy_word_chastise",
								["description"] =
								"We can use chastise for damage as long as we will have apotheosis available before the next divine word, otherwise only use it when it will be back up at the same time as divine word",
								["criteria"] =
								"( cooldown.apotheosis.remains < cooldown.divine_word.remains ) || ( cooldown.holy_word_chastise.duration_expected <= cooldown.divine_word.remains )",
							},
							{
								["action"] = "smite",
								["enabled"] = true,
							},
						},
					},
				},
				["Protection Paladin"] = {
					["source"] = "https://github.com/simulationcraft/simc/",
					["builtIn"] = true,
					["date"] = 20270723,
					["author"] = "SimC",
					["desc"] = "2024-07-23: The War Within",
					["lists"] = {
						["default"] = {
							{
								["action"] = "rebuke",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "cooldowns",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "trinkets",
							},
							{
								["enabled"] = true,
								["action"] = "call_action_list",
								["list_name"] = "standard",
							},
						},
						["precombat"] = {
							{
								["action"] = "devotion_aura",
								["enabled"] = true,
							},
							{
								["action"] = "lights_judgment",
								["enabled"] = true,
							},
							{
								["action"] = "arcane_torrent",
								["enabled"] = true,
							},
							{
								["action"] = "consecration",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "1",
								["criteria"] =
								"trinket.t1.has_cooldown & trinket.t1.has_stat.any_dps & ( ! trinket.t2.has_stat.any_dps || trinket.t1.cooldown.duration >= trinket.t2.cooldown.duration ) || ! trinket.t2.has_cooldown",
								["var_name"] = "trinket_sync_slot",
							},
							{
								["enabled"] = true,
								["op"] = "set",
								["action"] = "variable",
								["value"] = "2",
								["criteria"] =
								"trinket.t2.has_cooldown & trinket.t2.has_stat.any_dps & ( ! trinket.t1.has_stat.any_dps || trinket.t2.cooldown.duration > trinket.t1.cooldown.duration ) || ! trinket.t1.has_cooldown",
								["var_name"] = "trinket_sync_slot",
							},
						},
						["standard"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"! buff.shake_the_heavens.up || ( buff.shake_the_heavens.up & buff.shake_the_heavens.remains < 2.4 ) || ( buff.hammer_of_light_free.up & buff.hammer_of_light_free.remains < 3 ) || ( buff.hammer_of_light_ready.up & buff.hammer_of_light_ready.remains < 3 )",
								["action"] = "hammer_of_light",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( ( ( ! talent.righteous_protector.enabled || cooldown.righteous_protector_icd.remains = 0 ) & holy_power > 2 ) || buff.bastion_of_light.up || buff.divine_purpose.up ) & ! buff.hammer_of_light_ready.up",
								["action"] = "shield_of_the_righteous",
								["description"] =
								"Use Shield of the Righteous according to Righteous Protector's ICD, but use it asap if it's a free proc (Bugged interaction, this ignores ICD).",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"next_armament = sacred_weapon & ( ! buff.sacred_weapon.up || ( buff.sacred_weapon.remains < 6 & ! buff.avenging_wrath.up ) )",
								["action"] = "holy_armaments",
							},
							{
								["enabled"] = true,
								["action"] = "judgment",
								["criteria"] =
								"spell_targets.shield_of_the_righteous > 3 & buff.bulwark_of_righteous_fury.stack >= 3 & holy_power < 3",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] = "talent.lights_guidance.enabled",
								["action"] = "eye_of_tyr",
							},
							{
								["action"] = "hammer_of_wrath",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["action"] = "judgment",
								["criteria"] = "charges >= 2 || full_recharge_time <= gcd.max",
								["cycle_targets"] = 1,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( spell_targets.avengers_shield > 2 || buff.moment_of_glory.up ) & ! buff.shake_the_heavens.up",
								["action"] = "avengers_shield",
							},
							{
								["enabled"] = true,
								["criteria"] = "( ! raid_event.adds.exists || raid_event.adds.in > 10 )",
								["action"] = "divine_toll",
							},
							{
								["enabled"] = true,
								["action"] = "judgment",
								["cycle_targets"] = 1,
							},
							{
								["action"] = "avengers_shield",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "! consecration.up",
								["action"] = "consecration",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"talent.inmost_light.enabled & raid_event.adds.in >= 45 || spell_targets.shield_of_the_righteous >= 3",
								["action"] = "eye_of_tyr",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"next_armament = holy_bulwark & charges = 2 & cooldown.avenging_wrath.remains >= 30",
								["action"] = "holy_armaments",
								["description"] =
								"Takes advantage of a bug which guarantees Divine Inspiration to give a sacred weapon if the current armament is bulwark",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"next_armament = sacred_weapon & ( buff.sacred_weapon.remains < 6 & buff.avenging_wrath.up )",
								["action"] = "holy_armaments",
							},
							{
								["action"] = "blessed_hammer",
								["enabled"] = true,
							},
							{
								["action"] = "hammer_of_the_righteous",
								["enabled"] = true,
							},
							{
								["action"] = "crusader_strike",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] =
								"! talent.inmost_light.enabled & raid_event.adds.in >= 60 || spell_targets.shield_of_the_righteous >= 3",
								["action"] = "eye_of_tyr",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.shining_light_free.up",
								["action"] = "word_of_glory",
							},
							{
								["enabled"] = true,
								["criteria"] = "holy_power < 5",
								["action"] = "arcane_torrent",
							},
							{
								["action"] = "consecration",
								["enabled"] = true,
							},
						},
						["trinkets"] = {
							{
								["enabled"] = true,
								["slots"] = "trinket1",
								["action"] = "trinket1",
								["criteria"] =
								"( variable.trinket_sync_slot = 1 & ( buff.avenging_wrath.up || fight_remains <= 40 ) || ( variable.trinket_sync_slot = 2 & ( ! trinket.t2.cooldown.ready || ! buff.avenging_wrath.up ) ) || ! variable.trinket_sync_slot )",
							},
							{
								["enabled"] = true,
								["slots"] = "trinket2",
								["action"] = "trinket2",
								["criteria"] =
								"( variable.trinket_sync_slot = 2 & ( buff.avenging_wrath.up || fight_remains <= 40 ) || ( variable.trinket_sync_slot = 1 & ( ! trinket.t1.cooldown.ready || ! buff.avenging_wrath.up ) ) || ! variable.trinket_sync_slot )",
							},
						},
						["cooldowns"] = {
							{
								["enabled"] = true,
								["criteria"] =
								"spell_targets.lights_judgment >= 2 || ! raid_event.adds.exists || raid_event.adds.in > 75 || raid_event.adds.up",
								["action"] = "lights_judgment",
							},
							{
								["action"] = "avenging_wrath",
								["enabled"] = true,
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.avenging_wrath.up",
								["action"] = "potion",
							},
							{
								["enabled"] = true,
								["criteria"] =
								"( buff.avenging_wrath.remains < 15 || ( time > 10 || ( cooldown.avenging_wrath.remains > 15 ) ) & ( cooldown.avengers_shield.remains & cooldown.judgment.remains & cooldown.hammer_of_wrath.remains ) )",
								["action"] = "moment_of_glory",
							},
							{
								["enabled"] = true,
								["criteria"] = "spell_targets.shield_of_the_righteous >= 3",
								["action"] = "divine_toll",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.avenging_wrath.up || cooldown.avenging_wrath.remains <= 30",
								["action"] = "bastion_of_light",
							},
							{
								["enabled"] = true,
								["criteria"] = "buff.avenging_wrath.remains > 8",
								["action"] = "fireblood",
							},
						},
					},
					["version"] = 20270723,
					["warnings"] =
					"The import for 'precombat' required some automated changes.\nLine 5: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\nLine 5: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 5: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 5: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 5: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 5: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 6: Converted 'trinket.2.has_cooldown' to 'trinket.t2.has_cooldown' (1x).\nLine 6: Converted 'trinket.2.has_stat.any_dps' to 'trinket.t2.has_stat.any_dps' (1x).\nLine 6: Converted 'trinket.1.has_stat.any_dps' to 'trinket.t1.has_stat.any_dps' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration' (1x).\nLine 6: Converted 'trinket.2.cooldown.duration' to 'trinket.t2.cooldown.duration'.\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration' (1x).\nLine 6: Converted 'trinket.1.cooldown.duration' to 'trinket.t1.cooldown.duration'.\nLine 6: Converted 'trinket.1.has_cooldown' to 'trinket.t1.has_cooldown' (1x).\n\nThe import for 'trinkets' required some automated changes.\nLine 1: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready' (1x).\nLine 1: Converted 'trinket.2.cooldown.ready' to 'trinket.t2.cooldown.ready'.\nLine 2: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready' (1x).\nLine 2: Converted 'trinket.1.cooldown.ready' to 'trinket.t1.cooldown.ready'.\n\nImported 5 action lists.\n",
					["spec"] = 66,
					["profile"] =
					"actions.precombat+=/devotion_aura\nactions.precombat+=/lights_judgment\nactions.precombat+=/arcane_torrent\nactions.precombat+=/consecration\nactions.precombat+=/variable,name=trinket_sync_slot,value=1,if=trinket.1.has_cooldown&trinket.1.has_stat.any_dps&(!trinket.2.has_stat.any_dps||trinket.1.cooldown.duration>=trinket.2.cooldown.duration)||!trinket.2.has_cooldown\nactions.precombat+=/variable,name=trinket_sync_slot,value=2,if=trinket.2.has_cooldown&trinket.2.has_stat.any_dps&(!trinket.1.has_stat.any_dps||trinket.2.cooldown.duration>trinket.1.cooldown.duration)||!trinket.1.has_cooldown\n\nactions+=/rebuke\nactions+=/call_action_list,name=cooldowns\nactions+=/call_action_list,name=trinkets\nactions+=/call_action_list,name=standard\n\nactions.cooldowns+=/lights_judgment,if=spell_targets.lights_judgment>=2||!raid_event.adds.exists||raid_event.adds.in>75||raid_event.adds.up\nactions.cooldowns+=/avenging_wrath\nactions.cooldowns+=/potion,if=buff.avenging_wrath.up\nactions.cooldowns+=/moment_of_glory,if=(buff.avenging_wrath.remains<15||(time>10||(cooldown.avenging_wrath.remains>15))&(cooldown.avengers_shield.remains&cooldown.judgment.remains&cooldown.hammer_of_wrath.remains))\nactions.cooldowns+=/divine_toll,if=spell_targets.shield_of_the_righteous>=3\nactions.cooldowns+=/bastion_of_light,if=buff.avenging_wrath.up||cooldown.avenging_wrath.remains<=30\n## actions.cooldowns+=/invoke_external_buff,name=power_infusion,if=buff.avenging_wrath.up\nactions.cooldowns+=/fireblood,if=buff.avenging_wrath.remains>8\n\nactions.standard+=/hammer_of_light,if=!buff.shake_the_heavens.up||(buff.shake_the_heavens.up&buff.shake_the_heavens.remains<2.4)||(buff.hammer_of_light_free.up&buff.hammer_of_light_free.remains<3)||(buff.hammer_of_light_ready.up&buff.hammer_of_light_ready.remains<3)\n# Use Shield of the Righteous according to Righteous Protector's ICD, but use it asap if it's a free proc (Bugged interaction, this ignores ICD).\nactions.standard+=/shield_of_the_righteous,if=(((!talent.righteous_protector.enabled||cooldown.righteous_protector_icd.remains=0)&holy_power>2)||buff.bastion_of_light.up||buff.divine_purpose.up)&!buff.hammer_of_light_ready.up\nactions.standard+=/holy_armaments,if=next_armament=sacred_weapon&(!buff.sacred_weapon.up||(buff.sacred_weapon.remains<6&!buff.avenging_wrath.up))\nactions.standard+=/judgment,cycle_targets=1,if=spell_targets.shield_of_the_righteous>3&buff.bulwark_of_righteous_fury.stack>=3&holy_power<3\nactions.standard+=/eye_of_tyr,if=talent.lights_guidance.enabled\nactions.standard+=/hammer_of_wrath\nactions.standard+=/judgment,cycle_targets=1,if=charges>=2||full_recharge_time<=gcd.max\nactions.standard+=/avengers_shield,if=(spell_targets.avengers_shield>2||buff.moment_of_glory.up)&!buff.shake_the_heavens.up\nactions.standard+=/divine_toll,if=(!raid_event.adds.exists||raid_event.adds.in>10)\nactions.standard+=/judgment,cycle_targets=1\nactions.standard+=/avengers_shield\nactions.standard+=/consecration,if=!consecration.up\nactions.standard+=/eye_of_tyr,if=talent.inmost_light.enabled&raid_event.adds.in>=45||spell_targets.shield_of_the_righteous>=3\n# Takes advantage of a bug which guarantees Divine Inspiration to give a sacred weapon if the current armament is bulwark\nactions.standard+=/holy_armaments,if=next_armament=holy_bulwark&charges=2&cooldown.avenging_wrath.remains>=30\nactions.standard+=/holy_armaments,if=next_armament=sacred_weapon&(buff.sacred_weapon.remains<6&buff.avenging_wrath.up)\nactions.standard+=/blessed_hammer\nactions.standard+=/hammer_of_the_righteous\nactions.standard+=/crusader_strike\nactions.standard+=/eye_of_tyr,if=!talent.inmost_light.enabled&raid_event.adds.in>=60||spell_targets.shield_of_the_righteous>=3\nactions.standard+=/word_of_glory,if=buff.shining_light_free.up\nactions.standard+=/arcane_torrent,if=holy_power<5\nactions.standard+=/consecration\n\nactions.trinkets+=/use_items,slots=trinket1,if=(variable.trinket_sync_slot=1&(buff.avenging_wrath.up||fight_remains<=40)||(variable.trinket_sync_slot=2&(!trinket.2.cooldown.ready||!buff.avenging_wrath.up))||!variable.trinket_sync_slot)\nactions.trinkets+=/use_items,slots=trinket2,if=(variable.trinket_sync_slot=2&(buff.avenging_wrath.up||fight_remains<=40)||(variable.trinket_sync_slot=1&(!trinket.1.cooldown.ready||!buff.avenging_wrath.up))||!variable.trinket_sync_slot)",
				},
			},
		},
	}
end

function ApplyHekiliSettings()
	local settings = GetHekiliSettings()

	-- Ensure HekiliDB and profiles exist
	HekiliDB = HekiliDB or {}
	HekiliDB.profiles = HekiliDB.profiles or {}

	-- Create PeaversUI profile if it doesn't exist
	if not HekiliDB.profiles.PeaversUI then
		HekiliDB.profiles.PeaversUI = {}
	end

	-- Apply PeaversUI settings
	for key, value in pairs(settings.PeaversUI) do
		HekiliDB.profiles.PeaversUI[key] = value
	end

	-- Ensure profileKeys exist
	HekiliDB.profileKeys = HekiliDB.profileKeys or {}

	-- Optionally, set PeaversUI as the default profile for all characters
	-- Uncomment the next line if you want to apply this change
	for charKey, _ in pairs(HekiliDB.profileKeys) do
		HekiliDB.profileKeys[charKey] = "PeaversUI"
	end
end
